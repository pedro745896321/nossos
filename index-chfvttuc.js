var R8=Object.defineProperty;var k8=(t,e,n)=>e in t?R8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Eb=(t,e,n)=>k8(t,typeof e!="symbol"?e+"":e,n);function P8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sb={exports:{}},ph={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function M8(){if(XO)return ph;XO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return ph.Fragment=e,ph.jsx=n,ph.jsxs=n,ph}var ZO;function D8(){return ZO||(ZO=1,Sb.exports=M8()),Sb.exports}var S=D8(),Tb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function j8(){if(JO)return ze;JO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function O(H,W,ae){this.props=H,this.context=W,this.refs=T,this.updater=ae||w}O.prototype.isReactComponent={},O.prototype.setState=function(H,W){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,W,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=O.prototype;function z(H,W,ae){this.props=H,this.context=W,this.refs=T,this.updater=ae||w}var U=z.prototype=new j;U.constructor=z,E(U,O.prototype),U.isPureReactComponent=!0;var q=Array.isArray;function V(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(H,W,ae){var fe=ae.ref;return{$$typeof:t,type:H,key:W,ref:fe!==void 0?fe:null,props:ae}}function B(H,W){return P(H.type,W,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var W={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return W[ae]})}var L=/\/+/g;function pe(H,W){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):W.toString(36)}function Se(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(W){H.status==="pending"&&(H.status="fulfilled",H.value=W)},function(W){H.status==="pending"&&(H.status="rejected",H.reason=W)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,W,ae,fe,ye){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Ae=!1;if(H===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(H.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=H._init,K(Ae(H._payload),W,ae,fe,ye)}}if(Ae)return ye=ye(H),Ae=fe===""?"."+pe(H,0):fe,q(ye)?(ae="",Ae!=null&&(ae=Ae.replace(L,"$&/")+"/"),K(ye,W,ae,"",function(Ce){return Ce})):ye!=null&&(M(ye)&&(ye=B(ye,ae+(ye.key==null||H&&H.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+Ae)),W.push(ye)),1;Ae=0;var $e=fe===""?".":fe+":";if(q(H))for(var se=0;se<H.length;se++)fe=H[se],Ie=$e+pe(fe,se),Ae+=K(fe,W,ae,Ie,ye);else if(se=b(H),typeof se=="function")for(H=se.call(H),se=0;!(fe=H.next()).done;)fe=fe.value,Ie=$e+pe(fe,se++),Ae+=K(fe,W,ae,Ie,ye);else if(Ie==="object"){if(typeof H.then=="function")return K(Se(H),W,ae,fe,ye);throw W=String(H),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(H,W,ae){if(H==null)return H;var fe=[],ye=0;return K(H,fe,"","",function(Ie){return W.call(ae,Ie,ye++)}),fe}function de(H){if(H._status===-1){var W=H._result;W=W(),W.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=W)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Re={map:re,forEach:function(H,W,ae){re(H,function(){W.apply(this,arguments)},ae)},count:function(H){var W=0;return re(H,function(){W++}),W},toArray:function(H){return re(H,function(W){return W})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ze.Activity=m,ze.Children=Re,ze.Component=O,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},ze.cache=function(H){return function(){return H.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(H,W,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=E({},H.props),ye=H.key;if(W!=null)for(Ie in W.key!==void 0&&(ye=""+W.key),W)!k.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(fe[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=ae;else if(1<Ie){for(var Ae=Array(Ie),$e=0;$e<Ie;$e++)Ae[$e]=arguments[$e+2];fe.children=Ae}return P(H.type,ye,fe)},ze.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ze.createElement=function(H,W,ae){var fe,ye={},Ie=null;if(W!=null)for(fe in W.key!==void 0&&(Ie=""+W.key),W)k.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ye[fe]=W[fe]);var Ae=arguments.length-2;if(Ae===1)ye.children=ae;else if(1<Ae){for(var $e=Array(Ae),se=0;se<Ae;se++)$e[se]=arguments[se+2];ye.children=$e}if(H&&H.defaultProps)for(fe in Ae=H.defaultProps,Ae)ye[fe]===void 0&&(ye[fe]=Ae[fe]);return P(H,Ie,ye)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(H){return{$$typeof:c,render:H}},ze.isValidElement=M,ze.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:de}},ze.memo=function(H,W){return{$$typeof:h,type:H,compare:W===void 0?null:W}},ze.startTransition=function(H){var W=N.T,ae={};N.T=ae;try{var fe=H(),ye=N.S;ye!==null&&ye(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(V,me)}catch(Ie){me(Ie)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),N.T=W}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(H){return N.H.use(H)},ze.useActionState=function(H,W,ae){return N.H.useActionState(H,W,ae)},ze.useCallback=function(H,W){return N.H.useCallback(H,W)},ze.useContext=function(H){return N.H.useContext(H)},ze.useDebugValue=function(){},ze.useDeferredValue=function(H,W){return N.H.useDeferredValue(H,W)},ze.useEffect=function(H,W){return N.H.useEffect(H,W)},ze.useEffectEvent=function(H){return N.H.useEffectEvent(H)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(H,W,ae){return N.H.useImperativeHandle(H,W,ae)},ze.useInsertionEffect=function(H,W){return N.H.useInsertionEffect(H,W)},ze.useLayoutEffect=function(H,W){return N.H.useLayoutEffect(H,W)},ze.useMemo=function(H,W){return N.H.useMemo(H,W)},ze.useOptimistic=function(H,W){return N.H.useOptimistic(H,W)},ze.useReducer=function(H,W,ae){return N.H.useReducer(H,W,ae)},ze.useRef=function(H){return N.H.useRef(H)},ze.useState=function(H){return N.H.useState(H)},ze.useSyncExternalStore=function(H,W,ae){return N.H.useSyncExternalStore(H,W,ae)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.3",ze}var eN;function Gc(){return eN||(eN=1,Tb.exports=j8()),Tb.exports}var C=Gc();const Cd=Oa(C),L8=P8({__proto__:null,default:Cd},[C]);var Ab={exports:{}},mh={},Cb={exports:{}},Ib={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function V8(){return tN||(tN=1,(function(t){function e(K,re){var de=K.length;K.push(re);e:for(;0<de;){var me=de-1>>>1,Re=K[me];if(0<i(Re,re))K[me]=re,K[de]=Re,de=me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],de=K.pop();if(de!==re){K[0]=de;e:for(var me=0,Re=K.length,H=Re>>>1;me<H;){var W=2*(me+1)-1,ae=K[W],fe=W+1,ye=K[fe];if(0>i(ae,de))fe<Re&&0>i(ye,ae)?(K[me]=ye,K[fe]=de,me=fe):(K[me]=ae,K[W]=de,me=W);else if(fe<Re&&0>i(ye,de))K[me]=ye,K[fe]=de,me=fe;else break e}}return re}function i(K,re){var de=K.sortIndex-re.sortIndex;return de!==0?de:K.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,y=3,b=!1,w=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(K){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=K)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function q(K){if(E=!1,U(K),!w)if(n(f)!==null)w=!0,V||(V=!0,F());else{var re=n(h);re!==null&&Se(q,re.startTime-K)}}var V=!1,N=-1,k=5,P=-1;function B(){return T?!0:!(t.unstable_now()-P<k)}function M(){if(T=!1,V){var K=t.unstable_now();P=K;var re=!0;try{e:{w=!1,E&&(E=!1,j(N),N=-1),b=!0;var de=y;try{t:{for(U(K),m=n(f);m!==null&&!(m.expirationTime>K&&B());){var me=m.callback;if(typeof me=="function"){m.callback=null,y=m.priorityLevel;var Re=me(m.expirationTime<=K);if(K=t.unstable_now(),typeof Re=="function"){m.callback=Re,U(K),re=!0;break t}m===n(f)&&r(f),U(K)}else r(f);m=n(f)}if(m!==null)re=!0;else{var H=n(h);H!==null&&Se(q,H.startTime-K),re=!1}}break e}finally{m=null,y=de,b=!1}re=void 0}}finally{re?F():V=!1}}}var F;if(typeof z=="function")F=function(){z(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,pe=L.port2;L.port1.onmessage=M,F=function(){pe.postMessage(null)}}else F=function(){O(M,0)};function Se(K,re){N=O(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var de=y;y=re;try{return K()}finally{y=de}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=y;y=K;try{return re()}finally{y=de}},t.unstable_scheduleCallback=function(K,re,de){var me=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?me+de:me):de=me,K){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=de+Re,K={id:p++,callback:re,priorityLevel:K,startTime:de,expirationTime:Re,sortIndex:-1},de>me?(K.sortIndex=de,e(h,K),n(f)===null&&K===n(h)&&(E?(j(N),N=-1):E=!0,Se(q,de-me))):(K.sortIndex=Re,e(f,K),w||b||(w=!0,V||(V=!0,F()))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var re=y;return function(){var de=y;y=re;try{return K.apply(this,arguments)}finally{y=de}}}})(Ib)),Ib}var nN;function z8(){return nN||(nN=1,Cb.exports=V8()),Cb.exports}var Ob={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function U8(){if(rN)return Jn;rN=1;var t=Gc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},Jn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Jn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Jn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Jn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Jn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Jn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Jn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Jn.requestFormReset=function(f){r.d.r(f)},Jn.unstable_batchedUpdates=function(f,h){return f(h)},Jn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Jn.version="19.2.3",Jn}var iN;function aj(){if(iN)return Ob.exports;iN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ob.exports=U8(),Ob.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function B8(){if(aN)return mh;aN=1;var t=z8(),e=Gc(),n=aj();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),a;if(_===d)return f(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=_;else{for(var A=!1,R=v.child;R;){if(R===u){A=!0,u=v,d=_;break}if(R===d){A=!0,d=v,u=_;break}R=R.sibling}if(!A){for(R=_.child;R;){if(R===u){A=!0,u=_,d=v;break}if(R===d){A=!0,d=_,u=v;break}R=R.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case z:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case U:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:pe(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return pe(a(o))}catch{}}return null}var Se=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},me=[],Re=-1;function H(a){return{current:a}}function W(a){0>Re||(a.current=me[Re],me[Re]=null,Re--)}function ae(a,o){Re++,me[Re]=a.current,a.current=o}var fe=H(null),ye=H(null),Ie=H(null),Ae=H(null);function $e(a,o){switch(ae(Ie,o),ae(ye,a),ae(fe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?bO(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=bO(o),a=wO(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(fe),ae(fe,a)}function se(){W(fe),W(ye),W(Ie)}function Ce(a){a.memoizedState!==null&&ae(Ae,a);var o=fe.current,u=wO(o,a.type);o!==u&&(ae(ye,a),ae(fe,u))}function Le(a){ye.current===a&&(W(fe),W(ye)),Ae.current===a&&(W(Ae),ch._currentValue=de)}var he,zt;function Ge(a){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",zt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+a+zt}var gn=!1;function Gt(a,o){if(!a||gn)return"";gn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(a,[],le)}else{try{le.call()}catch(te){J=te}a.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),A=_[0],R=_[1];if(A&&R){var $=A.split(`
`),Z=R.split(`
`);for(v=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(d===$.length||v===Z.length)for(d=$.length-1,v=Z.length-1;1<=d&&0<=v&&$[d]!==Z[v];)v--;for(;1<=d&&0<=v;d--,v--)if($[d]!==Z[v]){if(d!==1||v!==1)do if(d--,v--,0>v||$[d]!==Z[v]){var ie=`
`+$[d].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=d&&0<=v);break}}}finally{gn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function Rr(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Gt(a.type,!1);case 11:return Gt(a.type.render,!1);case 1:return Gt(a.type,!0);case 31:return Ge("Activity");default:return""}}function js(a){try{var o="",u=null;do o+=Rr(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var en=Object.prototype.hasOwnProperty,vn=t.unstable_scheduleCallback,Ls=t.unstable_cancelCallback,T0=t.unstable_shouldYield,hp=t.unstable_requestPaint,or=t.unstable_now,Zo=t.unstable_getCurrentPriorityLevel,df=t.unstable_ImmediatePriority,pf=t.unstable_UserBlockingPriority,Vs=t.unstable_NormalPriority,A0=t.unstable_LowPriority,dp=t.unstable_IdlePriority,pp=t.log,mp=t.unstable_setDisableYieldValue,yi=null,Vn=null;function Qr(a){if(typeof pp=="function"&&mp(a),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(yi,a)}catch{}}var Kt=Math.clz32?Math.clz32:vp,gp=Math.log,mu=Math.LN2;function vp(a){return a>>>=0,a===0?32:31-(gp(a)/mu|0)|0}var Gi=256,Jo=262144,tn=4194304;function Ki(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Wi(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var v=0,_=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var R=d&134217727;return R!==0?(d=R&~_,d!==0?v=Ki(d):(A&=R,A!==0?v=Ki(A):u||(u=R&~a,u!==0&&(v=Ki(u))))):(R=d&~_,R!==0?v=Ki(R):A!==0?v=Ki(A):u||(u=d&~a,u!==0&&(v=Ki(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function _i(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function C0(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function Yi(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function el(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function I0(a,o,u,d,v,_){var A=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var R=a.entanglements,$=a.expirationTimes,Z=a.hiddenUpdates;for(u=A&~u;0<u;){var ie=31-Kt(u),le=1<<ie;R[ie]=0,$[ie]=-1;var J=Z[ie];if(J!==null)for(Z[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}u&=~le}d!==0&&tl(a,d,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(A&~o))}function tl(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-Kt(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function mf(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-Kt(u),v=1<<d;v&o|a[d]&o&&(a[d]|=o),u&=~v}}function gf(a,o){var u=o&-o;return u=(u&42)!==0?1:nl(u),(u&(a.suspendedLanes|o))!==0?0:u}function nl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Na(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _p(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:$O(a.type))}function bi(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var wi=Math.random().toString(36).slice(2),nn="__reactFiber$"+wi,An="__reactProps$"+wi,Qi="__reactContainer$"+wi,gu="__reactEvents$"+wi,O0="__reactListeners$"+wi,bp="__reactHandles$"+wi,wp="__reactResources$"+wi,Xi="__reactMarker$"+wi;function vu(a){delete a[nn],delete a[An],delete a[gu],delete a[O0],delete a[bp]}function Zi(a){var o=a[nn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Qi]||u[nn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=IO(a);a!==null;){if(u=a[nn])return u;a=IO(a)}return o}a=u,u=a.parentNode}return null}function Xr(a){if(a=a[nn]||a[Qi]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function kr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ji(a){var o=a[wp];return o||(o=a[wp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function rn(a){a[Xi]=!0}var vf=new Set,yf={};function ea(a,o){ta(a,o),ta(a+"Capture",o)}function ta(a,o){for(yf[a]=o,a=0;a<o.length;a++)vf.add(o[a])}var _f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bf={},wf={};function xp(a){return en.call(wf,a)?!0:en.call(bf,a)?!1:_f.test(a)?wf[a]=!0:(bf[a]=!0,!1)}function yu(a,o,u){if(xp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Pr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function an(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Cn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zs(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xf(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(A){u=""+A,_.call(this,A)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ht(a){if(!a._valueTracker){var o=zs(a)?"checked":"value";a._valueTracker=xf(a,o,""+a[o])}}function rl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=zs(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function na(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var il=/[\n"\\]/g;function mr(a){return a.replace(il,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _u(a,o,u,d,v,_,A,R){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),o!=null?A==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Cn(o)):a.value!==""+Cn(o)&&(a.value=""+Cn(o)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),o!=null?Ef(a,A,Cn(o)):u!=null?Ef(a,A,Cn(u)):d!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+Cn(R):a.removeAttribute("name")}function Ep(a,o,u,d,v,_,A,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){ht(a);return}u=u!=null?""+Cn(u):"",o=o!=null?""+Cn(o):u,R||o===a.value||(a.value=o),a.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=R?a.checked:!!d,a.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),ht(a)}function Ef(a,o,u){o==="number"&&na(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Us(a,o,u,d){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Cn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Sp(a,o,u){if(o!=null&&(o=""+Cn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Cn(u):""}function Bs(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(Se(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Cn(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),ht(a)}function gr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Tp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Tp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Tf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&u[v]!==d&&Sf(a,v,d)}else for(var _ in o)o.hasOwnProperty(_)&&Sf(a,_,o[_])}function bu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(a){return Fs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function xi(){}var Af=null;function Zr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qs=null,ra=null;function al(a){var o=Xr(a);if(o&&(a=o.stateNode)){var u=a[An]||null;e:switch(a=o.stateNode,o.type){case"input":if(_u(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+mr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var v=d[An]||null;if(!v)throw Error(r(90));_u(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&rl(d)}break e;case"textarea":Sp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Us(a,!!u.multiple,o,!1)}}}var xu=!1;function $s(a,o,u){if(xu)return a(o,u);xu=!0;try{var d=a(o);return d}finally{if(xu=!1,(qs!==null||ra!==null)&&(_m(),qs&&(o=qs,a=ra,ra=qs=null,al(o),a)))for(o=0;o<a.length;o++)al(a[o])}}function Ei(a,o){var u=a.stateNode;if(u===null)return null;var d=u[An]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Jr)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){sl=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{sl=!1}var ia=null,Cf=null,ol=null;function If(){if(ol)return ol;var a,o=Cf,u=o.length,d,v="value"in ia?ia.value:ia.textContent,_=v.length;for(a=0;a<u&&o[a]===v[a];a++);var A=u-a;for(d=1;d<=A&&o[u-d]===v[_-d];d++);return ol=v.slice(a,1<d?1-d:void 0)}function ll(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ra(){return!0}function Si(){return!1}function zn(a){function o(u,d,v,_,A){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(u=a[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ra:Si,this.isPropagationStopped=Si,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),o}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=zn(ka),Hs=m({},ka,{view:0,detail:0}),Of=zn(Hs),Gs,Eu,sa,Su=m({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sa&&(sa&&a.type==="mousemove"?(Gs=a.screenX-sa.screenX,Eu=a.screenY-sa.screenY):Eu=Gs=0,sa=a),Gs)},movementY:function(a){return"movementY"in a?a.movementY:Eu}}),Nf=zn(Su),ul=m({},Su,{dataTransfer:0}),Cp=zn(ul),Ip=m({},Hs,{relatedTarget:0}),cl=zn(Ip),Rf=m({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=zn(Rf),Tu=m({},ka,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Np=zn(Tu),Rp=m({},ka,{data:0}),oa=zn(Rp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Mp[a])?!!o[a]:!1}function Ks(){return Dp}var lr=m({},Hs,{key:function(a){if(a.key){var o=kp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Pp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jp=zn(lr),Lp=m({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=zn(Lp),g=m({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),x=zn(g),I=m({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=zn(I),Q=m({},Su,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=zn(Q),ve=m({},ka,{newState:0,oldState:0}),Be=zn(ve),Wt=[9,13,27,32],lt=Jr&&"CompositionEvent"in window,Mt=null;Jr&&"documentMode"in document&&(Mt=document.documentMode);var ei=Jr&&"TextEvent"in window&&!Mt,la=Jr&&(!lt||Mt&&8<Mt&&11>=Mt),Ti=" ",Ai=!1;function fl(a,o){switch(a){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cu=!1;function tU(a,o){switch(a){case"compositionend":return Au(o);case"keypress":return o.which!==32?null:(Ai=!0,Ti);case"textInput":return a=o.data,a===Ti&&Ai?null:a;default:return null}}function nU(a,o){if(Cu)return a==="compositionend"||!lt&&fl(a,o)?(a=If(),ol=Cf=ia=null,Cu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return la&&o.locale!=="ko"?null:o.data;default:return null}}var rU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!rU[a.type]:o==="textarea"}function kA(a,o,u,d){qs?ra?ra.push(d):ra=[d]:qs=d,o=Am(o,"onChange"),0<o.length&&(u=new aa("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var kf=null,Pf=null;function iU(a){pO(a,0)}function Vp(a){var o=kr(a);if(rl(o))return a}function PA(a,o){if(a==="change")return o}var MA=!1;if(Jr){var N0;if(Jr){var R0="oninput"in document;if(!R0){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),R0=typeof DA.oninput=="function"}N0=R0}else N0=!1;MA=N0&&(!document.documentMode||9<document.documentMode)}function jA(){kf&&(kf.detachEvent("onpropertychange",LA),Pf=kf=null)}function LA(a){if(a.propertyName==="value"&&Vp(Pf)){var o=[];kA(o,Pf,a,Zr(a)),$s(iU,o)}}function aU(a,o,u){a==="focusin"?(jA(),kf=o,Pf=u,kf.attachEvent("onpropertychange",LA)):a==="focusout"&&jA()}function sU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vp(Pf)}function oU(a,o){if(a==="click")return Vp(o)}function lU(a,o){if(a==="input"||a==="change")return Vp(o)}function uU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Mr=typeof Object.is=="function"?Object.is:uU;function Mf(a,o){if(Mr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!en.call(o,v)||!Mr(a[v],o[v]))return!1}return!0}function VA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zA(a,o){var u=VA(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=VA(u)}}function UA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?UA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function BA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=na(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=na(a.document)}return o}function k0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var cU=Jr&&"documentMode"in document&&11>=document.documentMode,Iu=null,P0=null,Df=null,M0=!1;function FA(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;M0||Iu==null||Iu!==na(d)||(d=Iu,"selectionStart"in d&&k0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Df&&Mf(Df,d)||(Df=d,d=Am(P0,"onSelect"),0<d.length&&(o=new aa("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=Iu)))}function hl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Ou={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionrun:hl("Transition","TransitionRun"),transitionstart:hl("Transition","TransitionStart"),transitioncancel:hl("Transition","TransitionCancel"),transitionend:hl("Transition","TransitionEnd")},D0={},qA={};Jr&&(qA=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function dl(a){if(D0[a])return D0[a];if(!Ou[a])return a;var o=Ou[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in qA)return D0[a]=o[u];return a}var $A=dl("animationend"),HA=dl("animationiteration"),GA=dl("animationstart"),fU=dl("transitionrun"),hU=dl("transitionstart"),dU=dl("transitioncancel"),KA=dl("transitionend"),WA=new Map,j0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");j0.push("scrollEnd");function Ci(a,o){WA.set(a,o),ea(o,[a])}var zp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ti=[],Nu=0,L0=0;function Up(){for(var a=Nu,o=L0=Nu=0;o<a;){var u=ti[o];ti[o++]=null;var d=ti[o];ti[o++]=null;var v=ti[o];ti[o++]=null;var _=ti[o];if(ti[o++]=null,d!==null&&v!==null){var A=d.pending;A===null?v.next=v:(v.next=A.next,A.next=v),d.pending=v}_!==0&&YA(u,v,_)}}function Bp(a,o,u,d){ti[Nu++]=a,ti[Nu++]=o,ti[Nu++]=u,ti[Nu++]=d,L0|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function V0(a,o,u,d){return Bp(a,o,u,d),Fp(a)}function pl(a,o){return Bp(a,null,null,o),Fp(a)}function YA(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&o!==null&&(v=31-Kt(u),a=_.hiddenUpdates,d=a[v],d===null?a[v]=[o]:d.push(o),o.lane=u|536870912),_):null}function Fp(a){if(50<rh)throw rh=0,K_=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ru={};function pU(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,o,u,d){return new pU(a,o,u,d)}function z0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ma(a,o){var u=a.alternate;return u===null?(u=Dr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function QA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function qp(a,o,u,d,v,_){var A=0;if(d=a,typeof a=="function")z0(a)&&(A=1);else if(typeof a=="string")A=_8(a,u,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=Dr(31,u,o,v),a.elementType=P,a.lanes=_,a;case E:return ml(u.children,v,_,o);case T:A=8,v|=24;break;case O:return a=Dr(12,u,o,v|2),a.elementType=O,a.lanes=_,a;case q:return a=Dr(13,u,o,v),a.elementType=q,a.lanes=_,a;case V:return a=Dr(19,u,o,v),a.elementType=V,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:A=10;break e;case j:A=9;break e;case U:A=11;break e;case N:A=14;break e;case k:A=16,d=null;break e}A=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=Dr(A,u,o,v),o.elementType=a,o.type=d,o.lanes=_,o}function ml(a,o,u,d){return a=Dr(7,a,d,o),a.lanes=u,a}function U0(a,o,u){return a=Dr(6,a,null,o),a.lanes=u,a}function XA(a){var o=Dr(18,null,null,0);return o.stateNode=a,o}function B0(a,o,u){return o=Dr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var ZA=new WeakMap;function ni(a,o){if(typeof a=="object"&&a!==null){var u=ZA.get(a);return u!==void 0?u:(o={value:a,source:o,stack:js(o)},ZA.set(a,o),o)}return{value:a,source:o,stack:js(o)}}var ku=[],Pu=0,$p=null,jf=0,ri=[],ii=0,Ws=null,ua=1,ca="";function Da(a,o){ku[Pu++]=jf,ku[Pu++]=$p,$p=a,jf=o}function JA(a,o,u){ri[ii++]=ua,ri[ii++]=ca,ri[ii++]=Ws,Ws=a;var d=ua;a=ca;var v=32-Kt(d)-1;d&=~(1<<v),u+=1;var _=32-Kt(o)+v;if(30<_){var A=v-v%5;_=(d&(1<<A)-1).toString(32),d>>=A,v-=A,ua=1<<32-Kt(o)+v|u<<v|d,ca=_+a}else ua=1<<_|u<<v|d,ca=a}function F0(a){a.return!==null&&(Da(a,1),JA(a,1,0))}function q0(a){for(;a===$p;)$p=ku[--Pu],ku[Pu]=null,jf=ku[--Pu],ku[Pu]=null;for(;a===Ws;)Ws=ri[--ii],ri[ii]=null,ca=ri[--ii],ri[ii]=null,ua=ri[--ii],ri[ii]=null}function eC(a,o){ri[ii++]=ua,ri[ii++]=ca,ri[ii++]=Ws,ua=o.id,ca=o.overflow,Ws=a}var Un=null,It=null,rt=!1,Ys=null,ai=!1,$0=Error(r(519));function Qs(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lf(ni(o,a)),$0}function tC(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[nn]=a,o[An]=d,u){case"dialog":Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":case"embed":Qe("load",o);break;case"video":case"audio":for(u=0;u<ah.length;u++)Qe(ah[u],o);break;case"source":Qe("error",o);break;case"img":case"image":case"link":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"input":Qe("invalid",o),Ep(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Qe("invalid",o);break;case"textarea":Qe("invalid",o),Bs(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||yO(o.textContent,u)?(d.popover!=null&&(Qe("beforetoggle",o),Qe("toggle",o)),d.onScroll!=null&&Qe("scroll",o),d.onScrollEnd!=null&&Qe("scrollend",o),d.onClick!=null&&(o.onclick=xi),o=!0):o=!1,o||Qs(a,!0)}function nC(a){for(Un=a.return;Un;)switch(Un.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Un=Un.return}}function Mu(a){if(a!==Un)return!1;if(!rt)return nC(a),rt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||lb(a.type,a.memoizedProps)),u=!u),u&&It&&Qs(a),nC(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=CO(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=CO(a)}else o===27?(o=It,co(a.type)?(a=db,db=null,It=a):It=o):It=Un?oi(a.stateNode.nextSibling):null;return!0}function gl(){It=Un=null,rt=!1}function H0(){var a=Ys;return a!==null&&(br===null?br=a:br.push.apply(br,a),Ys=null),a}function Lf(a){Ys===null?Ys=[a]:Ys.push(a)}var G0=H(null),vl=null,ja=null;function Xs(a,o,u){ae(G0,o._currentValue),o._currentValue=u}function La(a){a._currentValue=G0.current,W(G0)}function K0(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function W0(a,o,u,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var A=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var $=0;$<o.length;$++)if(R.context===o[$]){_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),K0(_.return,u,a),d||(A=null);break e}_=R.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=u,_=A.alternate,_!==null&&(_.lanes|=u),K0(A,u,a),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===a){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function Du(a,o,u,d){a=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var R=v.type;Mr(v.pendingProps.value,A.value)||(a!==null?a.push(R):a=[R])}}else if(v===Ae.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ch):a=[ch])}v=v.return}a!==null&&W0(o,a,u,d),o.flags|=262144}function Hp(a){for(a=a.firstContext;a!==null;){if(!Mr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function yl(a){vl=a,ja=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Bn(a){return rC(vl,a)}function Gp(a,o){return vl===null&&yl(a),rC(a,o)}function rC(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ja===null){if(a===null)throw Error(r(308));ja=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ja=ja.next=o;return u}var mU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},gU=t.unstable_scheduleCallback,vU=t.unstable_NormalPriority,sn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y0(){return{controller:new mU,data:new Map,refCount:0}}function Vf(a){a.refCount--,a.refCount===0&&gU(vU,function(){a.controller.abort()})}var zf=null,Q0=0,ju=0,Lu=null;function yU(a,o){if(zf===null){var u=zf=[];Q0=0,ju=J_(),Lu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Q0++,o.then(iC,iC),o}function iC(){if(--Q0===0&&zf!==null){Lu!==null&&(Lu.status="fulfilled");var a=zf;zf=null,ju=0,Lu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function _U(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var aC=K.S;K.S=function(a,o){FI=or(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&yU(a,o),aC!==null&&aC(a,o)};var _l=H(null);function X0(){var a=_l.current;return a!==null?a:xt.pooledCache}function Kp(a,o){o===null?ae(_l,_l.current):ae(_l,o.pool)}function sC(){var a=X0();return a===null?null:{parent:sn._currentValue,pool:a}}var Vu=Error(r(460)),Z0=Error(r(474)),Wp=Error(r(542)),Yp={then:function(){}};function oC(a){return a=a.status,a==="fulfilled"||a==="rejected"}function lC(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(xi,xi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cC(a),a;default:if(typeof o.status=="string")o.then(xi,xi);else{if(a=xt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cC(a),a}throw wl=o,Vu}}function bl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(wl=u,Vu):u}}var wl=null;function uC(){if(wl===null)throw Error(r(459));var a=wl;return wl=null,a}function cC(a){if(a===Vu||a===Wp)throw Error(r(483))}var zu=null,Uf=0;function Qp(a){var o=Uf;return Uf+=1,zu===null&&(zu=[]),lC(zu,a,o)}function Bf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Xp(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function fC(a){function o(Y,G){if(a){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function u(Y,G){if(!a)return null;for(;G!==null;)o(Y,G),G=G.sibling;return null}function d(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function v(Y,G){return Y=Ma(Y,G),Y.index=0,Y.sibling=null,Y}function _(Y,G,X){return Y.index=X,a?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function A(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,G,X,oe){return G===null||G.tag!==6?(G=U0(X,Y.mode,oe),G.return=Y,G):(G=v(G,X),G.return=Y,G)}function $(Y,G,X,oe){var Oe=X.type;return Oe===E?ie(Y,G,X.props.children,oe,X.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===k&&bl(Oe)===G.type)?(G=v(G,X.props),Bf(G,X),G.return=Y,G):(G=qp(X.type,X.key,X.props,null,Y.mode,oe),Bf(G,X),G.return=Y,G)}function Z(Y,G,X,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=B0(X,Y.mode,oe),G.return=Y,G):(G=v(G,X.children||[]),G.return=Y,G)}function ie(Y,G,X,oe,Oe){return G===null||G.tag!==7?(G=ml(X,Y.mode,oe,Oe),G.return=Y,G):(G=v(G,X),G.return=Y,G)}function le(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=U0(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return X=qp(G.type,G.key,G.props,null,Y.mode,X),Bf(X,G),X.return=Y,X;case w:return G=B0(G,Y.mode,X),G.return=Y,G;case k:return G=bl(G),le(Y,G,X)}if(Se(G)||F(G))return G=ml(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return le(Y,Qp(G),X);if(G.$$typeof===z)return le(Y,Gp(Y,G),X);Xp(Y,G)}return null}function J(Y,G,X,oe){var Oe=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Oe!==null?null:R(Y,G,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Oe?$(Y,G,X,oe):null;case w:return X.key===Oe?Z(Y,G,X,oe):null;case k:return X=bl(X),J(Y,G,X,oe)}if(Se(X)||F(X))return Oe!==null?null:ie(Y,G,X,oe,null);if(typeof X.then=="function")return J(Y,G,Qp(X),oe);if(X.$$typeof===z)return J(Y,G,Gp(Y,X),oe);Xp(Y,X)}return null}function te(Y,G,X,oe,Oe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,R(G,Y,""+oe,Oe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return Y=Y.get(oe.key===null?X:oe.key)||null,$(G,Y,oe,Oe);case w:return Y=Y.get(oe.key===null?X:oe.key)||null,Z(G,Y,oe,Oe);case k:return oe=bl(oe),te(Y,G,X,oe,Oe)}if(Se(oe)||F(oe))return Y=Y.get(X)||null,ie(G,Y,oe,Oe,null);if(typeof oe.then=="function")return te(Y,G,X,Qp(oe),Oe);if(oe.$$typeof===z)return te(Y,G,X,Gp(G,oe),Oe);Xp(G,oe)}return null}function xe(Y,G,X,oe){for(var Oe=null,at=null,Ee=G,qe=G=0,et=null;Ee!==null&&qe<X.length;qe++){Ee.index>qe?(et=Ee,Ee=null):et=Ee.sibling;var st=J(Y,Ee,X[qe],oe);if(st===null){Ee===null&&(Ee=et);break}a&&Ee&&st.alternate===null&&o(Y,Ee),G=_(st,G,qe),at===null?Oe=st:at.sibling=st,at=st,Ee=et}if(qe===X.length)return u(Y,Ee),rt&&Da(Y,qe),Oe;if(Ee===null){for(;qe<X.length;qe++)Ee=le(Y,X[qe],oe),Ee!==null&&(G=_(Ee,G,qe),at===null?Oe=Ee:at.sibling=Ee,at=Ee);return rt&&Da(Y,qe),Oe}for(Ee=d(Ee);qe<X.length;qe++)et=te(Ee,Y,qe,X[qe],oe),et!==null&&(a&&et.alternate!==null&&Ee.delete(et.key===null?qe:et.key),G=_(et,G,qe),at===null?Oe=et:at.sibling=et,at=et);return a&&Ee.forEach(function(go){return o(Y,go)}),rt&&Da(Y,qe),Oe}function Pe(Y,G,X,oe){if(X==null)throw Error(r(151));for(var Oe=null,at=null,Ee=G,qe=G=0,et=null,st=X.next();Ee!==null&&!st.done;qe++,st=X.next()){Ee.index>qe?(et=Ee,Ee=null):et=Ee.sibling;var go=J(Y,Ee,st.value,oe);if(go===null){Ee===null&&(Ee=et);break}a&&Ee&&go.alternate===null&&o(Y,Ee),G=_(go,G,qe),at===null?Oe=go:at.sibling=go,at=go,Ee=et}if(st.done)return u(Y,Ee),rt&&Da(Y,qe),Oe;if(Ee===null){for(;!st.done;qe++,st=X.next())st=le(Y,st.value,oe),st!==null&&(G=_(st,G,qe),at===null?Oe=st:at.sibling=st,at=st);return rt&&Da(Y,qe),Oe}for(Ee=d(Ee);!st.done;qe++,st=X.next())st=te(Ee,Y,qe,st.value,oe),st!==null&&(a&&st.alternate!==null&&Ee.delete(st.key===null?qe:st.key),G=_(st,G,qe),at===null?Oe=st:at.sibling=st,at=st);return a&&Ee.forEach(function(N8){return o(Y,N8)}),rt&&Da(Y,qe),Oe}function bt(Y,G,X,oe){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Oe=X.key;G!==null;){if(G.key===Oe){if(Oe=X.type,Oe===E){if(G.tag===7){u(Y,G.sibling),oe=v(G,X.props.children),oe.return=Y,Y=oe;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===k&&bl(Oe)===G.type){u(Y,G.sibling),oe=v(G,X.props),Bf(oe,X),oe.return=Y,Y=oe;break e}u(Y,G);break}else o(Y,G);G=G.sibling}X.type===E?(oe=ml(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=qp(X.type,X.key,X.props,null,Y.mode,oe),Bf(oe,X),oe.return=Y,Y=oe)}return A(Y);case w:e:{for(Oe=X.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){u(Y,G.sibling),oe=v(G,X.children||[]),oe.return=Y,Y=oe;break e}else{u(Y,G);break}else o(Y,G);G=G.sibling}oe=B0(X,Y.mode,oe),oe.return=Y,Y=oe}return A(Y);case k:return X=bl(X),bt(Y,G,X,oe)}if(Se(X))return xe(Y,G,X,oe);if(F(X)){if(Oe=F(X),typeof Oe!="function")throw Error(r(150));return X=Oe.call(X),Pe(Y,G,X,oe)}if(typeof X.then=="function")return bt(Y,G,Qp(X),oe);if(X.$$typeof===z)return bt(Y,G,Gp(Y,X),oe);Xp(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(u(Y,G.sibling),oe=v(G,X),oe.return=Y,Y=oe):(u(Y,G),oe=U0(X,Y.mode,oe),oe.return=Y,Y=oe),A(Y)):u(Y,G)}return function(Y,G,X,oe){try{Uf=0;var Oe=bt(Y,G,X,oe);return zu=null,Oe}catch(Ee){if(Ee===Vu||Ee===Wp)throw Ee;var at=Dr(29,Ee,null,Y.mode);return at.lanes=oe,at.return=Y,at}finally{}}}var xl=fC(!0),hC=fC(!1),Zs=!1;function J0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function e_(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Js(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function eo(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=Fp(a),YA(a,null,u),o}return Bp(a,d,o,u),Fp(a)}function Ff(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,mf(a,u)}}function t_(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=A:_=_.next=A,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var n_=!1;function qf(){if(n_){var a=Lu;if(a!==null)throw a}}function $f(a,o,u,d){n_=!1;var v=a.updateQueue;Zs=!1;var _=v.firstBaseUpdate,A=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var $=R,Z=$.next;$.next=null,A===null?_=Z:A.next=Z,A=$;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==A&&(R===null?ie.firstBaseUpdate=Z:R.next=Z,ie.lastBaseUpdate=$))}if(_!==null){var le=v.baseState;A=0,ie=Z=$=null,R=_;do{var J=R.lane&-536870913,te=J!==R.lane;if(te?(Je&J)===J:(d&J)===J){J!==0&&J===ju&&(n_=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var xe=a,Pe=R;J=o;var bt=u;switch(Pe.tag){case 1:if(xe=Pe.payload,typeof xe=="function"){le=xe.call(bt,le,J);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Pe.payload,J=typeof xe=="function"?xe.call(bt,le,J):xe,J==null)break e;le=m({},le,J);break e;case 2:Zs=!0}}J=R.callback,J!==null&&(a.flags|=64,te&&(a.flags|=8192),te=v.callbacks,te===null?v.callbacks=[J]:te.push(J))}else te={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(Z=ie=te,$=le):ie=ie.next=te,A|=J;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;te=R,R=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ie===null&&($=le),v.baseState=$,v.firstBaseUpdate=Z,v.lastBaseUpdate=ie,_===null&&(v.shared.lanes=0),ao|=A,a.lanes=A,a.memoizedState=le}}function dC(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function pC(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)dC(u[a],o)}var Uu=H(null),Zp=H(0);function mC(a,o){a=Ga,ae(Zp,a),ae(Uu,o),Ga=a|o.baseLanes}function r_(){ae(Zp,Ga),ae(Uu,Uu.current)}function i_(){Ga=Zp.current,W(Uu),W(Zp)}var jr=H(null),si=null;function to(a){var o=a.alternate;ae(Yt,Yt.current&1),ae(jr,a),si===null&&(o===null||Uu.current!==null||o.memoizedState!==null)&&(si=a)}function a_(a){ae(Yt,Yt.current),ae(jr,a),si===null&&(si=a)}function gC(a){a.tag===22?(ae(Yt,Yt.current),ae(jr,a),si===null&&(si=a)):no()}function no(){ae(Yt,Yt.current),ae(jr,jr.current)}function Lr(a){W(jr),si===a&&(si=null),W(Yt)}var Yt=H(0);function Jp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||fb(u)||hb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Va=0,Fe=null,yt=null,on=null,em=!1,Bu=!1,El=!1,tm=0,Hf=0,Fu=null,bU=0;function Ft(){throw Error(r(321))}function s_(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Mr(a[u],o[u]))return!1;return!0}function o_(a,o,u,d,v,_){return Va=_,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?JC:x_,El=!1,_=u(d,v),El=!1,Bu&&(_=yC(o,u,d,v)),vC(a),_}function vC(a){K.H=Wf;var o=yt!==null&&yt.next!==null;if(Va=0,on=yt=Fe=null,em=!1,Hf=0,Fu=null,o)throw Error(r(300));a===null||ln||(a=a.dependencies,a!==null&&Hp(a)&&(ln=!0))}function yC(a,o,u,d){Fe=a;var v=0;do{if(Bu&&(Fu=null),Hf=0,Bu=!1,25<=v)throw Error(r(301));if(v+=1,on=yt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=eI,_=o(u,d)}while(Bu);return _}function wU(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Gf(o):o,a=a.useState()[0],(yt!==null?yt.memoizedState:null)!==a&&(Fe.flags|=1024),o}function l_(){var a=tm!==0;return tm=0,a}function u_(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function c_(a){if(em){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}em=!1}Va=0,on=yt=Fe=null,Bu=!1,Hf=tm=0,Fu=null}function ur(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Fe.memoizedState=on=a:on=on.next=a,on}function Qt(){if(yt===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=yt.next;var o=on===null?Fe.memoizedState:on.next;if(o!==null)on=o,yt=a;else{if(a===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));yt=a,a={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},on===null?Fe.memoizedState=on=a:on=on.next=a}return on}function nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gf(a){var o=Hf;return Hf+=1,Fu===null&&(Fu=[]),a=lC(Fu,a,o),o=Fe,(on===null?o.memoizedState:on.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?JC:x_),a}function rm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gf(a);if(a.$$typeof===z)return Bn(a)}throw Error(r(438,String(a)))}function f_(a){var o=null,u=Fe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Fe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=nm(),Fe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=B;return o.index++,u}function za(a,o){return typeof o=="function"?o(a):o}function im(a){var o=Qt();return h_(o,yt,a)}function h_(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=a.baseQueue,_=d.pending;if(_!==null){if(v!==null){var A=v.next;v.next=_.next,_.next=A}o.baseQueue=v=_,d.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{o=v.next;var R=A=null,$=null,Z=o,ie=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Je&le)===le:(Va&le)===le){var J=Z.revertLane;if(J===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===ju&&(ie=!0);else if((Va&J)===J){Z=Z.next,J===ju&&(ie=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(R=$=le,A=_):$=$.next=le,Fe.lanes|=J,ao|=J;le=Z.action,El&&u(_,le),_=Z.hasEagerState?Z.eagerState:u(_,le)}else J={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(R=$=J,A=_):$=$.next=J,Fe.lanes|=le,ao|=le;Z=Z.next}while(Z!==null&&Z!==o);if($===null?A=_:$.next=R,!Mr(_,a.memoizedState)&&(ln=!0,ie&&(u=Lu,u!==null)))throw u;a.memoizedState=_,a.baseState=A,a.baseQueue=$,d.lastRenderedState=_}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function d_(a){var o=Qt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do _=a(_,A.action),A=A.next;while(A!==v);Mr(_,o.memoizedState)||(ln=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function _C(a,o,u){var d=Fe,v=Qt(),_=rt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var A=!Mr((yt||v).memoizedState,u);if(A&&(v.memoizedState=u,ln=!0),v=v.queue,g_(xC.bind(null,d,v,a),[a]),v.getSnapshot!==o||A||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,qu(9,{destroy:void 0},wC.bind(null,d,v,u,o),null),xt===null)throw Error(r(349));_||(Va&127)!==0||bC(d,o,u)}return u}function bC(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Fe.updateQueue,o===null?(o=nm(),Fe.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function wC(a,o,u,d){o.value=u,o.getSnapshot=d,EC(o)&&SC(a)}function xC(a,o,u){return u(function(){EC(o)&&SC(a)})}function EC(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Mr(a,u)}catch{return!0}}function SC(a){var o=pl(a,2);o!==null&&wr(o,a,2)}function p_(a){var o=ur();if(typeof a=="function"){var u=a;if(a=u(),El){Qr(!0);try{u()}finally{Qr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},o}function TC(a,o,u,d){return a.baseState=u,h_(a,yt,typeof d=="function"?d:za)}function xU(a,o,u,d,v){if(om(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};K.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,AC(o,_)):(_.next=u.next,o.pending=u.next=_)}}function AC(a,o){var u=o.action,d=o.payload,v=a.state;if(o.isTransition){var _=K.T,A={};K.T=A;try{var R=u(v,d),$=K.S;$!==null&&$(A,R),CC(a,o,R)}catch(Z){m_(a,o,Z)}finally{_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}else try{_=u(v,d),CC(a,o,_)}catch(Z){m_(a,o,Z)}}function CC(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){IC(a,o,d)},function(d){return m_(a,o,d)}):IC(a,o,u)}function IC(a,o,u){o.status="fulfilled",o.value=u,OC(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,AC(a,u)))}function m_(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,OC(o),o=o.next;while(o!==d)}a.action=null}function OC(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function NC(a,o){return o}function RC(a,o){if(rt){var u=xt.formState;if(u!==null){e:{var d=Fe;if(rt){if(It){t:{for(var v=It,_=ai;v.nodeType!==8;){if(!_){v=null;break t}if(v=oi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){It=oi(v.nextSibling),d=v.data==="F!";break e}}Qs(d)}d=!1}d&&(o=u[0])}}return u=ur(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NC,lastRenderedState:o},u.queue=d,u=QC.bind(null,Fe,d),d.dispatch=u,d=p_(!1),_=w_.bind(null,Fe,!1,d.queue),d=ur(),v={state:o,dispatch:null,action:a,pending:null},d.queue=v,u=xU.bind(null,Fe,v,_,u),v.dispatch=u,d.memoizedState=a,[o,u,!1]}function kC(a){var o=Qt();return PC(o,yt,a)}function PC(a,o,u){if(o=h_(a,o,NC)[0],a=im(za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Gf(o)}catch(A){throw A===Vu?Wp:A}else d=o;o=Qt();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(Fe.flags|=2048,qu(9,{destroy:void 0},EU.bind(null,v,u),null)),[d,_,a]}function EU(a,o){a.action=o}function MC(a){var o=Qt(),u=yt;if(u!==null)return PC(o,u,a);Qt(),o=o.memoizedState,u=Qt();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function qu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=nm(),Fe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function DC(){return Qt().memoizedState}function am(a,o,u,d){var v=ur();Fe.flags|=a,v.memoizedState=qu(1|o,{destroy:void 0},u,d===void 0?null:d)}function sm(a,o,u,d){var v=Qt();d=d===void 0?null:d;var _=v.memoizedState.inst;yt!==null&&d!==null&&s_(d,yt.memoizedState.deps)?v.memoizedState=qu(o,_,u,d):(Fe.flags|=a,v.memoizedState=qu(1|o,_,u,d))}function jC(a,o){am(8390656,8,a,o)}function g_(a,o){sm(2048,8,a,o)}function SU(a){Fe.flags|=4;var o=Fe.updateQueue;if(o===null)o=nm(),Fe.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function LC(a){var o=Qt().memoizedState;return SU({ref:o,nextImpl:a}),function(){if((ut&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function VC(a,o){return sm(4,2,a,o)}function zC(a,o){return sm(4,4,a,o)}function UC(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function BC(a,o,u){u=u!=null?u.concat([a]):null,sm(4,4,UC.bind(null,o,a),u)}function v_(){}function FC(a,o){var u=Qt();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&s_(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function qC(a,o){var u=Qt();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&s_(o,d[1]))return d[0];if(d=a(),El){Qr(!0);try{a()}finally{Qr(!1)}}return u.memoizedState=[d,o],d}function y_(a,o,u){return u===void 0||(Va&1073741824)!==0&&(Je&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=$I(),Fe.lanes|=a,ao|=a,u)}function $C(a,o,u,d){return Mr(u,o)?u:Uu.current!==null?(a=y_(a,u,d),Mr(a,o)||(ln=!0),a):(Va&42)===0||(Va&1073741824)!==0&&(Je&261930)===0?(ln=!0,a.memoizedState=u):(a=$I(),Fe.lanes|=a,ao|=a,o)}function HC(a,o,u,d,v){var _=re.p;re.p=_!==0&&8>_?_:8;var A=K.T,R={};K.T=R,w_(a,!1,o,u);try{var $=v(),Z=K.S;if(Z!==null&&Z(R,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ie=_U($,d);Kf(a,o,ie,Ur(a))}else Kf(a,o,d,Ur(a))}catch(le){Kf(a,o,{then:function(){},status:"rejected",reason:le},Ur())}finally{re.p=_,A!==null&&R.types!==null&&(A.types=R.types),K.T=A}}function TU(){}function __(a,o,u,d){if(a.tag!==5)throw Error(r(476));var v=GC(a).queue;HC(a,v,o,de,u===null?TU:function(){return KC(a),u(d)})}function GC(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:de},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function KC(a){var o=GC(a);o.next===null&&(o=a.alternate.memoizedState),Kf(a,o.next.queue,{},Ur())}function b_(){return Bn(ch)}function WC(){return Qt().memoizedState}function YC(){return Qt().memoizedState}function AU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ur();a=Js(u);var d=eo(o,a,u);d!==null&&(wr(d,o,u),Ff(d,o,u)),o={cache:Y0()},a.payload=o;return}o=o.return}}function CU(a,o,u){var d=Ur();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},om(a)?XC(o,u):(u=V0(a,o,u,d),u!==null&&(wr(u,a,d),ZC(u,o,d)))}function QC(a,o,u){var d=Ur();Kf(a,o,u,d)}function Kf(a,o,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(om(a))XC(o,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,R=_(A,u);if(v.hasEagerState=!0,v.eagerState=R,Mr(R,A))return Bp(a,o,v,0),xt===null&&Up(),!1}catch{}finally{}if(u=V0(a,o,v,d),u!==null)return wr(u,a,d),ZC(u,o,d),!0}return!1}function w_(a,o,u,d){if(d={lane:2,revertLane:J_(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},om(a)){if(o)throw Error(r(479))}else o=V0(a,u,d,2),o!==null&&wr(o,a,2)}function om(a){var o=a.alternate;return a===Fe||o!==null&&o===Fe}function XC(a,o){Bu=em=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function ZC(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,mf(a,u)}}var Wf={readContext:Bn,use:rm,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Wf.useEffectEvent=Ft;var JC={readContext:Bn,use:rm,useCallback:function(a,o){return ur().memoizedState=[a,o===void 0?null:o],a},useContext:Bn,useEffect:jC,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,am(4194308,4,UC.bind(null,o,a),u)},useLayoutEffect:function(a,o){return am(4194308,4,a,o)},useInsertionEffect:function(a,o){am(4,2,a,o)},useMemo:function(a,o){var u=ur();o=o===void 0?null:o;var d=a();if(El){Qr(!0);try{a()}finally{Qr(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=ur();if(u!==void 0){var v=u(o);if(El){Qr(!0);try{u(o)}finally{Qr(!1)}}}else v=o;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=CU.bind(null,Fe,a),[d.memoizedState,a]},useRef:function(a){var o=ur();return a={current:a},o.memoizedState=a},useState:function(a){a=p_(a);var o=a.queue,u=QC.bind(null,Fe,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:v_,useDeferredValue:function(a,o){var u=ur();return y_(u,a,o)},useTransition:function(){var a=p_(!1);return a=HC.bind(null,Fe,a.queue,!0,!1),ur().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=Fe,v=ur();if(rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),xt===null)throw Error(r(349));(Je&127)!==0||bC(d,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,jC(xC.bind(null,d,_,a),[a]),d.flags|=2048,qu(9,{destroy:void 0},wC.bind(null,d,_,u,o),null),u},useId:function(){var a=ur(),o=xt.identifierPrefix;if(rt){var u=ca,d=ua;u=(d&~(1<<32-Kt(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=tm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=bU++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:b_,useFormState:RC,useActionState:RC,useOptimistic:function(a){var o=ur();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=w_.bind(null,Fe,!0,u),u.dispatch=o,[a,o]},useMemoCache:f_,useCacheRefresh:function(){return ur().memoizedState=AU.bind(null,Fe)},useEffectEvent:function(a){var o=ur(),u={impl:a};return o.memoizedState=u,function(){if((ut&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},x_={readContext:Bn,use:rm,useCallback:FC,useContext:Bn,useEffect:g_,useImperativeHandle:BC,useInsertionEffect:VC,useLayoutEffect:zC,useMemo:qC,useReducer:im,useRef:DC,useState:function(){return im(za)},useDebugValue:v_,useDeferredValue:function(a,o){var u=Qt();return $C(u,yt.memoizedState,a,o)},useTransition:function(){var a=im(za)[0],o=Qt().memoizedState;return[typeof a=="boolean"?a:Gf(a),o]},useSyncExternalStore:_C,useId:WC,useHostTransitionStatus:b_,useFormState:kC,useActionState:kC,useOptimistic:function(a,o){var u=Qt();return TC(u,yt,a,o)},useMemoCache:f_,useCacheRefresh:YC};x_.useEffectEvent=LC;var eI={readContext:Bn,use:rm,useCallback:FC,useContext:Bn,useEffect:g_,useImperativeHandle:BC,useInsertionEffect:VC,useLayoutEffect:zC,useMemo:qC,useReducer:d_,useRef:DC,useState:function(){return d_(za)},useDebugValue:v_,useDeferredValue:function(a,o){var u=Qt();return yt===null?y_(u,a,o):$C(u,yt.memoizedState,a,o)},useTransition:function(){var a=d_(za)[0],o=Qt().memoizedState;return[typeof a=="boolean"?a:Gf(a),o]},useSyncExternalStore:_C,useId:WC,useHostTransitionStatus:b_,useFormState:MC,useActionState:MC,useOptimistic:function(a,o){var u=Qt();return yt!==null?TC(u,yt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:f_,useCacheRefresh:YC};eI.useEffectEvent=LC;function E_(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var S_={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Ur(),v=Js(d);v.payload=o,u!=null&&(v.callback=u),o=eo(a,v,d),o!==null&&(wr(o,a,d),Ff(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Ur(),v=Js(d);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=eo(a,v,d),o!==null&&(wr(o,a,d),Ff(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Ur(),d=Js(u);d.tag=2,o!=null&&(d.callback=o),o=eo(a,d,u),o!==null&&(wr(o,a,u),Ff(o,a,u))}};function tI(a,o,u,d,v,_,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,_,A):o.prototype&&o.prototype.isPureReactComponent?!Mf(u,d)||!Mf(v,_):!0}function nI(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&S_.enqueueReplaceState(o,o.state,null)}function Sl(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function rI(a){zp(a)}function iI(a){console.error(a)}function aI(a){zp(a)}function lm(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function sI(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function T_(a,o,u){return u=Js(u),u.tag=3,u.payload={element:null},u.callback=function(){lm(a,o)},u}function oI(a){return a=Js(a),a.tag=3,a}function lI(a,o,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;a.payload=function(){return v(_)},a.callback=function(){sI(o,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){sI(o,u,d),typeof v!="function"&&(so===null?so=new Set([this]):so.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function IU(a,o,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Du(o,u,v,!0),u=jr.current,u!==null){switch(u.tag){case 31:case 13:return si===null?bm():u.alternate===null&&qt===0&&(qt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===Yp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),Q_(a,d,v)),!1;case 22:return u.flags|=65536,d===Yp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),Q_(a,d,v)),!1}throw Error(r(435,u.tag))}return Q_(a,d,v),bm(),!1}if(rt)return o=jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==$0&&(a=Error(r(422),{cause:d}),Lf(ni(a,u)))):(d!==$0&&(o=Error(r(423),{cause:d}),Lf(ni(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=ni(d,u),v=T_(a.stateNode,d,v),t_(a,v),qt!==4&&(qt=2)),!1;var _=Error(r(520),{cause:d});if(_=ni(_,u),nh===null?nh=[_]:nh.push(_),qt!==4&&(qt=2),o===null)return!0;d=ni(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=T_(u.stateNode,d,a),t_(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(so===null||!so.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=oI(v),lI(v,a,u,d),t_(u,v),!1}u=u.return}while(u!==null);return!1}var A_=Error(r(461)),ln=!1;function Fn(a,o,u,d){o.child=a===null?hC(o,null,u,d):xl(o,a.child,u,d)}function uI(a,o,u,d,v){u=u.render;var _=o.ref;if("ref"in d){var A={};for(var R in d)R!=="ref"&&(A[R]=d[R])}else A=d;return yl(o),d=o_(a,o,u,A,_,v),R=l_(),a!==null&&!ln?(u_(a,o,v),Ua(a,o,v)):(rt&&R&&F0(o),o.flags|=1,Fn(a,o,d,v),o.child)}function cI(a,o,u,d,v){if(a===null){var _=u.type;return typeof _=="function"&&!z0(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,fI(a,o,_,d,v)):(a=qp(u.type,null,d,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!M_(a,v)){var A=_.memoizedProps;if(u=u.compare,u=u!==null?u:Mf,u(A,d)&&a.ref===o.ref)return Ua(a,o,v)}return o.flags|=1,a=Ma(_,d),a.ref=o.ref,a.return=o,o.child=a}function fI(a,o,u,d,v){if(a!==null){var _=a.memoizedProps;if(Mf(_,d)&&a.ref===o.ref)if(ln=!1,o.pendingProps=d=_,M_(a,v))(a.flags&131072)!==0&&(ln=!0);else return o.lanes=a.lanes,Ua(a,o,v)}return C_(a,o,u,d,v)}function hI(a,o,u,d){var v=d.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(d=o.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~_}else d=0,o.child=null;return dI(a,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kp(o,_!==null?_.cachePool:null),_!==null?mC(o,_):r_(),gC(o);else return d=o.lanes=536870912,dI(a,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(Kp(o,_.cachePool),mC(o,_),no(),o.memoizedState=null):(a!==null&&Kp(o,null),r_(),no());return Fn(a,o,v,u),o.child}function Yf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function dI(a,o,u,d,v){var _=X0();return _=_===null?null:{parent:sn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&Kp(o,null),r_(),gC(o),a!==null&&Du(a,o,d,!0),o.childLanes=v,null}function um(a,o){return o=fm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function pI(a,o,u){return xl(o,a.child,null,u),a=um(o,o.pendingProps),a.flags|=2,Lr(o),o.memoizedState=null,a}function OU(a,o,u){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(rt){if(d.mode==="hidden")return a=um(o,d),o.lanes=536870912,Yf(null,a);if(a_(o),(a=It)?(a=AO(a,ai),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ws!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},u=XA(a),u.return=o,o.child=u,Un=o,It=null)):a=null,a===null)throw Qs(o);return o.lanes=536870912,null}return um(o,d)}var _=a.memoizedState;if(_!==null){var A=_.dehydrated;if(a_(o),v)if(o.flags&256)o.flags&=-257,o=pI(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(ln||Du(a,o,u,!1),v=(u&a.childLanes)!==0,ln||v){if(d=xt,d!==null&&(A=gf(d,u),A!==0&&A!==_.retryLane))throw _.retryLane=A,pl(a,A),wr(d,a,A),A_;bm(),o=pI(a,o,u)}else a=_.treeContext,It=oi(A.nextSibling),Un=o,rt=!0,Ys=null,ai=!1,a!==null&&eC(o,a),o=um(o,d),o.flags|=4096;return o}return a=Ma(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function cm(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function C_(a,o,u,d,v){return yl(o),u=o_(a,o,u,d,void 0,v),d=l_(),a!==null&&!ln?(u_(a,o,v),Ua(a,o,v)):(rt&&d&&F0(o),o.flags|=1,Fn(a,o,u,v),o.child)}function mI(a,o,u,d,v,_){return yl(o),o.updateQueue=null,u=yC(o,d,u,v),vC(a),d=l_(),a!==null&&!ln?(u_(a,o,_),Ua(a,o,_)):(rt&&d&&F0(o),o.flags|=1,Fn(a,o,u,_),o.child)}function gI(a,o,u,d,v){if(yl(o),o.stateNode===null){var _=Ru,A=u.contextType;typeof A=="object"&&A!==null&&(_=Bn(A)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=S_,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},J0(o),A=u.contextType,_.context=typeof A=="object"&&A!==null?Bn(A):Ru,_.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(E_(o,u,A,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&S_.enqueueReplaceState(_,_.state,null),$f(o,d,_,v),qf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){_=o.stateNode;var R=o.memoizedProps,$=Sl(u,R);_.props=$;var Z=_.context,ie=u.contextType;A=Ru,typeof ie=="object"&&ie!==null&&(A=Bn(ie));var le=u.getDerivedStateFromProps;ie=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||Z!==A)&&nI(o,_,d,A),Zs=!1;var J=o.memoizedState;_.state=J,$f(o,d,_,v),qf(),Z=o.memoizedState,R||J!==Z||Zs?(typeof le=="function"&&(E_(o,u,le,d),Z=o.memoizedState),($=Zs||tI(o,u,$,d,J,Z,A))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Z),_.props=d,_.state=Z,_.context=A,d=$):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,e_(a,o),A=o.memoizedProps,ie=Sl(u,A),_.props=ie,le=o.pendingProps,J=_.context,Z=u.contextType,$=Ru,typeof Z=="object"&&Z!==null&&($=Bn(Z)),R=u.getDerivedStateFromProps,(Z=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==le||J!==$)&&nI(o,_,d,$),Zs=!1,J=o.memoizedState,_.state=J,$f(o,d,_,v),qf();var te=o.memoizedState;A!==le||J!==te||Zs||a!==null&&a.dependencies!==null&&Hp(a.dependencies)?(typeof R=="function"&&(E_(o,u,R,d),te=o.memoizedState),(ie=Zs||tI(o,u,ie,d,J,te,$)||a!==null&&a.dependencies!==null&&Hp(a.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,te,$),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,te,$)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=te),_.props=d,_.state=te,_.context=$,d=ie):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),d=!1)}return _=d,cm(a,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&d?(o.child=xl(o,a.child,null,v),o.child=xl(o,null,u,v)):Fn(a,o,u,v),o.memoizedState=_.state,a=o.child):a=Ua(a,o,v),a}function vI(a,o,u,d){return gl(),o.flags|=256,Fn(a,o,u,d),o.child}var I_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function O_(a){return{baseLanes:a,cachePool:sC()}}function N_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=zr),a}function yI(a,o,u){var d=o.pendingProps,v=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=a!==null&&a.memoizedState===null?!1:(Yt.current&2)!==0),A&&(v=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,a===null){if(rt){if(v?to(o):no(),(a=It)?(a=AO(a,ai),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ws!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},u=XA(a),u.return=o,o.child=u,Un=o,It=null)):a=null,a===null)throw Qs(o);return hb(a)?o.lanes=32:o.lanes=536870912,null}var R=d.children;return d=d.fallback,v?(no(),v=o.mode,R=fm({mode:"hidden",children:R},v),d=ml(d,v,u,null),R.return=o,d.return=o,R.sibling=d,o.child=R,d=o.child,d.memoizedState=O_(u),d.childLanes=N_(a,A,u),o.memoizedState=I_,Yf(null,d)):(to(o),R_(o,R))}var $=a.memoizedState;if($!==null&&(R=$.dehydrated,R!==null)){if(_)o.flags&256?(to(o),o.flags&=-257,o=k_(a,o,u)):o.memoizedState!==null?(no(),o.child=a.child,o.flags|=128,o=null):(no(),R=d.fallback,v=o.mode,d=fm({mode:"visible",children:d.children},v),R=ml(R,v,u,null),R.flags|=2,d.return=o,R.return=o,d.sibling=R,o.child=d,xl(o,a.child,null,u),d=o.child,d.memoizedState=O_(u),d.childLanes=N_(a,A,u),o.memoizedState=I_,o=Yf(null,d));else if(to(o),hb(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var Z=A.dgst;A=Z,d=Error(r(419)),d.stack="",d.digest=A,Lf({value:d,source:null,stack:null}),o=k_(a,o,u)}else if(ln||Du(a,o,u,!1),A=(u&a.childLanes)!==0,ln||A){if(A=xt,A!==null&&(d=gf(A,u),d!==0&&d!==$.retryLane))throw $.retryLane=d,pl(a,d),wr(A,a,d),A_;fb(R)||bm(),o=k_(a,o,u)}else fb(R)?(o.flags|=192,o.child=a.child,o=null):(a=$.treeContext,It=oi(R.nextSibling),Un=o,rt=!0,Ys=null,ai=!1,a!==null&&eC(o,a),o=R_(o,d.children),o.flags|=4096);return o}return v?(no(),R=d.fallback,v=o.mode,$=a.child,Z=$.sibling,d=Ma($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,Z!==null?R=Ma(Z,R):(R=ml(R,v,u,null),R.flags|=2),R.return=o,d.return=o,d.sibling=R,o.child=d,Yf(null,d),d=o.child,R=a.child.memoizedState,R===null?R=O_(u):(v=R.cachePool,v!==null?($=sn._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=sC(),R={baseLanes:R.baseLanes|u,cachePool:v}),d.memoizedState=R,d.childLanes=N_(a,A,u),o.memoizedState=I_,Yf(a.child,d)):(to(o),u=a.child,a=u.sibling,u=Ma(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(A=o.deletions,A===null?(o.deletions=[a],o.flags|=16):A.push(a)),o.child=u,o.memoizedState=null,u)}function R_(a,o){return o=fm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function fm(a,o){return a=Dr(22,a,null,o),a.lanes=0,a}function k_(a,o,u){return xl(o,a.child,null,u),a=R_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function _I(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),K0(a.return,o,u)}function P_(a,o,u,d,v,_){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=u,A.tailMode=v,A.treeForkCount=_)}function bI(a,o,u){var d=o.pendingProps,v=d.revealOrder,_=d.tail;d=d.children;var A=Yt.current,R=(A&2)!==0;if(R?(A=A&1|2,o.flags|=128):A&=1,ae(Yt,A),Fn(a,o,d,u),d=rt?jf:0,!R&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_I(a,u,o);else if(a.tag===19)_I(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Jp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),P_(o,!1,v,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Jp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}P_(o,!0,u,null,_,d);break;case"together":P_(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ua(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ao|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Du(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ma(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ma(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function M_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Hp(a)))}function NU(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Xs(o,sn,a.memoizedState.cache),gl();break;case 27:case 5:Ce(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Xs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,a_(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(to(o),o.flags|=128,null):(u&o.child.childLanes)!==0?yI(a,o,u):(to(o),a=Ua(a,o,u),a!==null?a.sibling:null);to(o);break;case 19:var v=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Du(a,o,u,!1),d=(u&o.childLanes)!==0),v){if(d)return bI(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ae(Yt,Yt.current),d)break;return null;case 22:return o.lanes=0,hI(a,o,u,o.pendingProps);case 24:Xs(o,sn,a.memoizedState.cache)}return Ua(a,o,u)}function wI(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)ln=!0;else{if(!M_(a,u)&&(o.flags&128)===0)return ln=!1,NU(a,o,u);ln=(a.flags&131072)!==0}else ln=!1,rt&&(o.flags&1048576)!==0&&JA(o,jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=bl(o.elementType),o.type=a,typeof a=="function")z0(a)?(d=Sl(a,d),o.tag=1,o=gI(null,o,a,d,u)):(o.tag=0,o=C_(null,o,a,d,u));else{if(a!=null){var v=a.$$typeof;if(v===U){o.tag=11,o=uI(null,o,a,d,u);break e}else if(v===N){o.tag=14,o=cI(null,o,a,d,u);break e}}throw o=pe(a)||a,Error(r(306,o,""))}}return o;case 0:return C_(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,v=Sl(d,o.pendingProps),gI(a,o,d,v,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;v=_.element,e_(a,o),$f(o,d,null,u);var A=o.memoizedState;if(d=A.cache,Xs(o,sn,d),d!==_.cache&&W0(o,[sn],u,!0),qf(),d=A.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=vI(a,o,d,u);break e}else if(d!==v){v=ni(Error(r(424)),o),Lf(v),o=vI(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=oi(a.firstChild),Un=o,rt=!0,Ys=null,ai=!0,u=hC(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(gl(),d===v){o=Ua(a,o,u);break e}Fn(a,o,d,u)}o=o.child}return o;case 26:return cm(a,o),a===null?(u=kO(o.type,null,o.pendingProps,null))?o.memoizedState=u:rt||(u=o.type,a=o.pendingProps,d=Cm(Ie.current).createElement(u),d[nn]=o,d[An]=a,qn(d,u,a),rn(d),o.stateNode=d):o.memoizedState=kO(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ce(o),a===null&&rt&&(d=o.stateNode=OO(o.type,o.pendingProps,Ie.current),Un=o,ai=!0,v=It,co(o.type)?(db=v,It=oi(d.firstChild)):It=v),Fn(a,o,o.pendingProps.children,u),cm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&rt&&((v=d=It)&&(d=s8(d,o.type,o.pendingProps,ai),d!==null?(o.stateNode=d,Un=o,It=oi(d.firstChild),ai=!1,v=!0):v=!1),v||Qs(o)),Ce(o),v=o.type,_=o.pendingProps,A=a!==null?a.memoizedProps:null,d=_.children,lb(v,_)?d=null:A!==null&&lb(v,A)&&(o.flags|=32),o.memoizedState!==null&&(v=o_(a,o,wU,null,null,u),ch._currentValue=v),cm(a,o),Fn(a,o,d,u),o.child;case 6:return a===null&&rt&&((a=u=It)&&(u=o8(u,o.pendingProps,ai),u!==null?(o.stateNode=u,Un=o,It=null,a=!0):a=!1),a||Qs(o)),null;case 13:return yI(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=xl(o,null,d,u):Fn(a,o,d,u),o.child;case 11:return uI(a,o,o.type,o.pendingProps,u);case 7:return Fn(a,o,o.pendingProps,u),o.child;case 8:return Fn(a,o,o.pendingProps.children,u),o.child;case 12:return Fn(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Xs(o,o.type,d.value),Fn(a,o,d.children,u),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,yl(o),v=Bn(v),d=d(v),o.flags|=1,Fn(a,o,d,u),o.child;case 14:return cI(a,o,o.type,o.pendingProps,u);case 15:return fI(a,o,o.type,o.pendingProps,u);case 19:return bI(a,o,u);case 31:return OU(a,o,u);case 22:return hI(a,o,u,o.pendingProps);case 24:return yl(o),d=Bn(sn),a===null?(v=X0(),v===null&&(v=xt,_=Y0(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:d,cache:v},J0(o),Xs(o,sn,v)):((a.lanes&u)!==0&&(e_(a,o),$f(o,null,null,u),qf()),v=a.memoizedState,_=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Xs(o,sn,d)):(d=_.cache,Xs(o,sn,d),d!==v.cache&&W0(o,[sn],u,!0))),Fn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ba(a){a.flags|=4}function D_(a,o,u,d,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(WI())a.flags|=8192;else throw wl=Yp,Z0}else a.flags&=-16777217}function xI(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!LO(o))if(WI())a.flags|=8192;else throw wl=Yp,Z0}function hm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?yp():536870912,a.lanes|=o,Ku|=o)}function Qf(a,o){if(!rt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ot(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function RU(a,o,u){var d=o.pendingProps;switch(q0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),La(sn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Mu(o)?Ba(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,H0())),Ot(o),null;case 26:var v=o.type,_=o.memoizedState;return a===null?(Ba(o),_!==null?(Ot(o),xI(o,_)):(Ot(o),D_(o,v,null,d,u))):_?_!==a.memoizedState?(Ba(o),Ot(o),xI(o,_)):(Ot(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Ba(o),Ot(o),D_(o,v,a,d,u)),null;case 27:if(Le(o),u=Ie.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ba(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}a=fe.current,Mu(o)?tC(o):(a=OO(v,d,u),o.stateNode=a,Ba(o))}return Ot(o),null;case 5:if(Le(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Ba(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(_=fe.current,Mu(o))tC(o);else{var A=Cm(Ie.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?A.createElement(v,{is:d.is}):A.createElement(v)}}_[nn]=o,_[An]=d;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(qn(_,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ba(o)}}return Ot(o),D_(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Ba(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ie.current,Mu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,v=Un,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[nn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||yO(a.nodeValue,u)),a||Qs(o,!0)}else a=Cm(a).createTextNode(d),a[nn]=o,o.stateNode=a}return Ot(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=Mu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[nn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),a=!1}else u=H0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Lr(o),o):(Lr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ot(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Mu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[nn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=H0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Lr(o),o):(Lr(o),null)}return Lr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),hm(o,o.updateQueue),Ot(o),null);case 4:return se(),a===null&&rb(o.stateNode.containerInfo),Ot(o),null;case 10:return La(o.type),Ot(o),null;case 19:if(W(Yt),d=o.memoizedState,d===null)return Ot(o),null;if(v=(o.flags&128)!==0,_=d.rendering,_===null)if(v)Qf(d,!1);else{if(qt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=Jp(a),_!==null){for(o.flags|=128,Qf(d,!1),a=_.updateQueue,o.updateQueue=a,hm(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)QA(u,a),u=u.sibling;return ae(Yt,Yt.current&1|2),rt&&Da(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&or()>vm&&(o.flags|=128,v=!0,Qf(d,!1),o.lanes=4194304)}else{if(!v)if(a=Jp(_),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,hm(o,a),Qf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!rt)return Ot(o),null}else 2*or()-d.renderingStartTime>vm&&u!==536870912&&(o.flags|=128,v=!0,Qf(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(a=d.last,a!==null?a.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=or(),a.sibling=null,u=Yt.current,ae(Yt,v?u&1|2:u&1),rt&&Da(o,d.treeForkCount),a):(Ot(o),null);case 22:case 23:return Lr(o),i_(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&hm(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(_l),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),La(sn),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function kU(a,o){switch(q0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return La(sn),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Le(o),null;case 31:if(o.memoizedState!==null){if(Lr(o),o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Lr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));gl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(Yt),null;case 4:return se(),null;case 10:return La(o.type),null;case 22:case 23:return Lr(o),i_(),a!==null&&W(_l),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return La(sn),null;case 25:return null;default:return null}}function EI(a,o){switch(q0(o),o.tag){case 3:La(sn),se();break;case 26:case 27:case 5:Le(o);break;case 4:se();break;case 31:o.memoizedState!==null&&Lr(o);break;case 13:Lr(o);break;case 19:W(Yt);break;case 10:La(o.type);break;case 22:case 23:Lr(o),i_(),a!==null&&W(_l);break;case 24:La(sn)}}function Xf(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&a)===a){d=void 0;var _=u.create,A=u.inst;d=_(),A.destroy=d}u=u.next}while(u!==v)}}catch(R){pt(o,o.return,R)}}function ro(a,o,u){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&a)===a){var A=d.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,v=o;var $=u,Z=R;try{Z()}catch(ie){pt(v,$,ie)}}}d=d.next}while(d!==_)}}catch(ie){pt(o,o.return,ie)}}function SI(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{pC(o,u)}catch(d){pt(a,a.return,d)}}}function TI(a,o,u){u.props=Sl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){pt(a,o,d)}}function Zf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(v){pt(a,o,v)}}function fa(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){pt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){pt(a,o,v)}else u.current=null}function AI(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){pt(a,a.return,v)}}function j_(a,o,u){try{var d=a.stateNode;e8(d,a.type,u,o),d[An]=o}catch(v){pt(a,a.return,v)}}function CI(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&co(a.type)||a.tag===4}function L_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||CI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&co(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function V_(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=xi));else if(d!==4&&(d===27&&co(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(V_(a,o,u),a=a.sibling;a!==null;)V_(a,o,u),a=a.sibling}function dm(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&co(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(dm(a,o,u),a=a.sibling;a!==null;)dm(a,o,u),a=a.sibling}function II(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);qn(o,d,u),o[nn]=a,o[An]=u}catch(_){pt(a,a.return,_)}}var Fa=!1,un=!1,z_=!1,OI=typeof WeakSet=="function"?WeakSet:Set,In=null;function PU(a,o){if(a=a.containerInfo,sb=Mm,a=BA(a),k0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var A=0,R=-1,$=-1,Z=0,ie=0,le=a,J=null;t:for(;;){for(var te;le!==u||v!==0&&le.nodeType!==3||(R=A+v),le!==_||d!==0&&le.nodeType!==3||($=A+d),le.nodeType===3&&(A+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===a)break t;if(J===u&&++Z===v&&(R=A),J===_&&++ie===d&&($=A),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}u=R===-1||$===-1?null:{start:R,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(ob={focusedElem:a,selectionRange:u},Mm=!1,In=o;In!==null;)if(o=In,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,In=a;else for(;In!==null;){switch(o=In,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var xe=Sl(u.type,v);a=d.getSnapshotBeforeUpdate(xe,_),d.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){pt(u,u.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)cb(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,In=a;break}In=o.return}}function NI(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:$a(a,u),d&4&&Xf(5,u);break;case 1:if($a(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(A){pt(u,u.return,A)}else{var v=Sl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(u,u.return,A)}}d&64&&SI(u),d&512&&Zf(u,u.return);break;case 3:if($a(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{pC(a,o)}catch(A){pt(u,u.return,A)}}break;case 27:o===null&&d&4&&II(u);case 26:case 5:$a(a,u),o===null&&d&4&&AI(u),d&512&&Zf(u,u.return);break;case 12:$a(a,u);break;case 31:$a(a,u),d&4&&PI(a,u);break;case 13:$a(a,u),d&4&&MI(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=FU.bind(null,u),l8(a,u))));break;case 22:if(d=u.memoizedState!==null||Fa,!d){o=o!==null&&o.memoizedState!==null||un,v=Fa;var _=un;Fa=d,(un=o)&&!_?Ha(a,u,(u.subtreeFlags&8772)!==0):$a(a,u),Fa=v,un=_}break;case 30:break;default:$a(a,u)}}function RI(a){var o=a.alternate;o!==null&&(a.alternate=null,RI(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&vu(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,vr=!1;function qa(a,o,u){for(u=u.child;u!==null;)kI(a,o,u),u=u.sibling}function kI(a,o,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(yi,u)}catch{}switch(u.tag){case 26:un||fa(u,o),qa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:un||fa(u,o);var d=Dt,v=vr;co(u.type)&&(Dt=u.stateNode,vr=!1),qa(a,o,u),oh(u.stateNode),Dt=d,vr=v;break;case 5:un||fa(u,o);case 6:if(d=Dt,v=vr,Dt=null,qa(a,o,u),Dt=d,vr=v,Dt!==null)if(vr)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(u.stateNode)}catch(_){pt(u,o,_)}else try{Dt.removeChild(u.stateNode)}catch(_){pt(u,o,_)}break;case 18:Dt!==null&&(vr?(a=Dt,SO(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),tc(a)):SO(Dt,u.stateNode));break;case 4:d=Dt,v=vr,Dt=u.stateNode.containerInfo,vr=!0,qa(a,o,u),Dt=d,vr=v;break;case 0:case 11:case 14:case 15:ro(2,u,o),un||ro(4,u,o),qa(a,o,u);break;case 1:un||(fa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&TI(u,o,d)),qa(a,o,u);break;case 21:qa(a,o,u);break;case 22:un=(d=un)||u.memoizedState!==null,qa(a,o,u),un=d;break;default:qa(a,o,u)}}function PI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{tc(a)}catch(u){pt(o,o.return,u)}}}function MI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{tc(a)}catch(u){pt(o,o.return,u)}}function MU(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new OI),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new OI),o;default:throw Error(r(435,a.tag))}}function pm(a,o){var u=MU(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var v=qU.bind(null,a,d);d.then(v,v)}})}function yr(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],_=a,A=o,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(co(R.type)){Dt=R.stateNode,vr=!1;break e}break;case 5:Dt=R.stateNode,vr=!1;break e;case 3:case 4:Dt=R.stateNode.containerInfo,vr=!0;break e}R=R.return}if(Dt===null)throw Error(r(160));kI(_,A,v),Dt=null,vr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)DI(o,a),o=o.sibling}var Ii=null;function DI(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yr(o,a),_r(a),d&4&&(ro(3,a,a.return),Xf(3,a),ro(5,a,a.return));break;case 1:yr(o,a),_r(a),d&512&&(un||u===null||fa(u,u.return)),d&64&&Fa&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Ii;if(yr(o,a),_r(a),d&512&&(un||u===null||fa(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Xi]||_[nn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),qn(_,d,u),_[nn]=a,rn(_),d=_;break e;case"link":var A=DO("link","href",v).get(d+(u.href||""));if(A){for(var R=0;R<A.length;R++)if(_=A[R],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(R,1);break t}}_=v.createElement(d),qn(_,d,u),v.head.appendChild(_);break;case"meta":if(A=DO("meta","content",v).get(d+(u.content||""))){for(R=0;R<A.length;R++)if(_=A[R],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(R,1);break t}}_=v.createElement(d),qn(_,d,u),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[nn]=a,rn(_),d=_}a.stateNode=d}else jO(v,a.type,a.stateNode);else a.stateNode=MO(v,d,a.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?jO(v,a.type,a.stateNode):MO(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&j_(a,a.memoizedProps,u.memoizedProps)}break;case 27:yr(o,a),_r(a),d&512&&(un||u===null||fa(u,u.return)),u!==null&&d&4&&j_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(yr(o,a),_r(a),d&512&&(un||u===null||fa(u,u.return)),a.flags&32){v=a.stateNode;try{gr(v,"")}catch(xe){pt(a,a.return,xe)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,j_(a,v,u!==null?u.memoizedProps:v)),d&1024&&(z_=!0);break;case 6:if(yr(o,a),_r(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(xe){pt(a,a.return,xe)}}break;case 3:if(Nm=null,v=Ii,Ii=Im(o.containerInfo),yr(o,a),Ii=v,_r(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{tc(o.containerInfo)}catch(xe){pt(a,a.return,xe)}z_&&(z_=!1,jI(a));break;case 4:d=Ii,Ii=Im(a.stateNode.containerInfo),yr(o,a),_r(a),Ii=d;break;case 12:yr(o,a),_r(a);break;case 31:yr(o,a),_r(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,pm(a,d)));break;case 13:yr(o,a),_r(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(gm=or()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,pm(a,d)));break;case 22:v=a.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=Fa,ie=un;if(Fa=Z||v,un=ie||$,yr(o,a),un=ie,Fa=Z,_r(a),d&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||$||Fa||un||Tl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(_=$.stateNode,v)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=$.stateNode;var le=$.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xe){pt($,$.return,xe)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(xe){pt($,$.return,xe)}}}else if(o.tag===18){if(u===null){$=o;try{var te=$.stateNode;v?TO(te,!0):TO($.stateNode,!1)}catch(xe){pt($,$.return,xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,pm(a,u))));break;case 19:yr(o,a),_r(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,pm(a,d)));break;case 30:break;case 21:break;default:yr(o,a),_r(a)}}function _r(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(CI(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=L_(a);dm(a,_,v);break;case 5:var A=u.stateNode;u.flags&32&&(gr(A,""),u.flags&=-33);var R=L_(a);dm(a,R,A);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=L_(a);V_(a,Z,$);break;default:throw Error(r(161))}}catch(ie){pt(a,a.return,ie)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function jI(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;jI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function $a(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)NI(a,o.alternate,o),o=o.sibling}function Tl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ro(4,o,o.return),Tl(o);break;case 1:fa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&TI(o,o.return,u),Tl(o);break;case 27:oh(o.stateNode);case 26:case 5:fa(o,o.return),Tl(o);break;case 22:o.memoizedState===null&&Tl(o);break;case 30:Tl(o);break;default:Tl(o)}a=a.sibling}}function Ha(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=a,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(v,_,u),Xf(4,_);break;case 1:if(Ha(v,_,u),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){pt(d,d.return,Z)}if(d=_,v=d.updateQueue,v!==null){var R=d.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)dC($[v],R)}catch(Z){pt(d,d.return,Z)}}u&&A&64&&SI(_),Zf(_,_.return);break;case 27:II(_);case 26:case 5:Ha(v,_,u),u&&d===null&&A&4&&AI(_),Zf(_,_.return);break;case 12:Ha(v,_,u);break;case 31:Ha(v,_,u),u&&A&4&&PI(v,_);break;case 13:Ha(v,_,u),u&&A&4&&MI(v,_);break;case 22:_.memoizedState===null&&Ha(v,_,u),Zf(_,_.return);break;case 30:break;default:Ha(v,_,u)}o=o.sibling}}function U_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Vf(u))}function B_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vf(a))}function Oi(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)LI(a,o,u,d),o=o.sibling}function LI(a,o,u,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(a,o,u,d),v&2048&&Xf(9,o);break;case 1:Oi(a,o,u,d);break;case 3:Oi(a,o,u,d),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vf(a)));break;case 12:if(v&2048){Oi(a,o,u,d),a=o.stateNode;try{var _=o.memoizedProps,A=_.id,R=_.onPostCommit;typeof R=="function"&&R(A,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){pt(o,o.return,$)}}else Oi(a,o,u,d);break;case 31:Oi(a,o,u,d);break;case 13:Oi(a,o,u,d);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?Oi(a,o,u,d):Jf(a,o):_._visibility&2?Oi(a,o,u,d):(_._visibility|=2,$u(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&U_(A,o);break;case 24:Oi(a,o,u,d),v&2048&&B_(o.alternate,o);break;default:Oi(a,o,u,d)}}function $u(a,o,u,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,A=o,R=u,$=d,Z=A.flags;switch(A.tag){case 0:case 11:case 15:$u(_,A,R,$,v),Xf(8,A);break;case 23:break;case 22:var ie=A.stateNode;A.memoizedState!==null?ie._visibility&2?$u(_,A,R,$,v):Jf(_,A):(ie._visibility|=2,$u(_,A,R,$,v)),v&&Z&2048&&U_(A.alternate,A);break;case 24:$u(_,A,R,$,v),v&&Z&2048&&B_(A.alternate,A);break;default:$u(_,A,R,$,v)}o=o.sibling}}function Jf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,v=d.flags;switch(d.tag){case 22:Jf(u,d),v&2048&&U_(d.alternate,d);break;case 24:Jf(u,d),v&2048&&B_(d.alternate,d);break;default:Jf(u,d)}o=o.sibling}}var eh=8192;function Hu(a,o,u){if(a.subtreeFlags&eh)for(a=a.child;a!==null;)VI(a,o,u),a=a.sibling}function VI(a,o,u){switch(a.tag){case 26:Hu(a,o,u),a.flags&eh&&a.memoizedState!==null&&b8(u,Ii,a.memoizedState,a.memoizedProps);break;case 5:Hu(a,o,u);break;case 3:case 4:var d=Ii;Ii=Im(a.stateNode.containerInfo),Hu(a,o,u),Ii=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=eh,eh=16777216,Hu(a,o,u),eh=d):Hu(a,o,u));break;default:Hu(a,o,u)}}function zI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function th(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];In=d,BI(d,a)}zI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)UI(a),a=a.sibling}function UI(a){switch(a.tag){case 0:case 11:case 15:th(a),a.flags&2048&&ro(9,a,a.return);break;case 3:th(a);break;case 12:th(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,mm(a)):th(a);break;default:th(a)}}function mm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];In=d,BI(d,a)}zI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ro(8,o,o.return),mm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,mm(o));break;default:mm(o)}a=a.sibling}}function BI(a,o){for(;In!==null;){var u=In;switch(u.tag){case 0:case 11:case 15:ro(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Vf(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,In=d;else e:for(u=a;In!==null;){d=In;var v=d.sibling,_=d.return;if(RI(d),d===u){In=null;break e}if(v!==null){v.return=_,In=v;break e}In=_}}}var DU={getCacheForType:function(a){var o=Bn(sn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Bn(sn).controller.signal}},jU=typeof WeakMap=="function"?WeakMap:Map,ut=0,xt=null,Ye=null,Je=0,dt=0,Vr=null,io=!1,Gu=!1,F_=!1,Ga=0,qt=0,ao=0,Al=0,q_=0,zr=0,Ku=0,nh=null,br=null,$_=!1,gm=0,FI=0,vm=1/0,ym=null,so=null,yn=0,oo=null,Wu=null,Ka=0,H_=0,G_=null,qI=null,rh=0,K_=null;function Ur(){return(ut&2)!==0&&Je!==0?Je&-Je:K.T!==null?J_():_p()}function $I(){if(zr===0)if((Je&536870912)===0||rt){var a=Jo;Jo<<=1,(Jo&3932160)===0&&(Jo=262144),zr=a}else zr=536870912;return a=jr.current,a!==null&&(a.flags|=32),zr}function wr(a,o,u){(a===xt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(Yu(a,0),lo(a,Je,zr,!1)),el(a,u),((ut&2)===0||a!==xt)&&(a===xt&&((ut&2)===0&&(Al|=u),qt===4&&lo(a,Je,zr,!1)),ha(a))}function HI(a,o,u){if((ut&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||_i(a,o),v=d?zU(a,o):Y_(a,o,!0),_=d;do{if(v===0){Gu&&!d&&lo(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!LU(u)){v=Y_(a,o,!1),_=!1;continue}if(v===2){if(_=o,a.errorRecoveryDisabledLanes&_)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var R=a;v=nh;var $=R.current.memoizedState.isDehydrated;if($&&(Yu(R,A).flags|=256),A=Y_(R,A,!1),A!==2){if(F_&&!$){R.errorRecoveryDisabledLanes|=_,Al|=_,v=4;break e}_=br,br=v,_!==null&&(br===null?br=_:br.push.apply(br,_))}v=A}if(_=!1,v!==2)continue}}if(v===1){Yu(a,0),lo(a,o,0,!0);break}e:{switch(d=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:lo(d,o,zr,!io);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=gm+300-or(),10<v)){if(lo(d,o,zr,!io),Wi(d,0,!0)!==0)break e;Ka=o,d.timeoutHandle=xO(GI.bind(null,d,u,br,ym,$_,o,zr,Al,Ku,io,_,"Throttled",-0,0),v);break e}GI(d,u,br,ym,$_,o,zr,Al,Ku,io,_,null,-0,0)}}break}while(!0);ha(a)}function GI(a,o,u,d,v,_,A,R,$,Z,ie,le,J,te){if(a.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},VI(o,_,le);var xe=(_&62914560)===_?gm-or():(_&4194048)===_?FI-or():0;if(xe=w8(le,xe),xe!==null){Ka=_,a.cancelPendingCommit=xe(eO.bind(null,a,o,_,u,d,v,A,R,$,ie,le,null,J,te)),lo(a,_,A,!Z);return}}eO(a,o,_,u,d,v,A,R,$)}function LU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],_=v.getSnapshot;v=v.value;try{if(!Mr(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lo(a,o,u,d){o&=~q_,o&=~Al,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var v=o;0<v;){var _=31-Kt(v),A=1<<_;d[_]=-1,v&=~A}u!==0&&tl(a,u,o)}function _m(){return(ut&6)===0?(ih(0),!1):!0}function W_(){if(Ye!==null){if(dt===0)var a=Ye.return;else a=Ye,ja=vl=null,c_(a),zu=null,Uf=0,a=Ye;for(;a!==null;)EI(a.alternate,a),a=a.return;Ye=null}}function Yu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,r8(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ka=0,W_(),xt=a,Ye=u=Ma(a.current,null),Je=o,dt=0,Vr=null,io=!1,Gu=_i(a,o),F_=!1,Ku=zr=q_=Al=ao=qt=0,br=nh=null,$_=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var v=31-Kt(d),_=1<<v;o|=a[v],d&=~_}return Ga=o,Up(),u}function KI(a,o){Fe=null,K.H=Wf,o===Vu||o===Wp?(o=uC(),dt=3):o===Z0?(o=uC(),dt=4):dt=o===A_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Vr=o,Ye===null&&(qt=1,lm(a,ni(o,a.current)))}function WI(){var a=jr.current;return a===null?!0:(Je&4194048)===Je?si===null:(Je&62914560)===Je||(Je&536870912)!==0?a===si:!1}function YI(){var a=K.H;return K.H=Wf,a===null?Wf:a}function QI(){var a=K.A;return K.A=DU,a}function bm(){qt=4,io||(Je&4194048)!==Je&&jr.current!==null||(Gu=!0),(ao&134217727)===0&&(Al&134217727)===0||xt===null||lo(xt,Je,zr,!1)}function Y_(a,o,u){var d=ut;ut|=2;var v=YI(),_=QI();(xt!==a||Je!==o)&&(ym=null,Yu(a,o)),o=!1;var A=qt;e:do try{if(dt!==0&&Ye!==null){var R=Ye,$=Vr;switch(dt){case 8:W_(),A=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(o=!0);var Z=dt;if(dt=0,Vr=null,Qu(a,R,$,Z),u&&Gu){A=0;break e}break;default:Z=dt,dt=0,Vr=null,Qu(a,R,$,Z)}}VU(),A=qt;break}catch(ie){KI(a,ie)}while(!0);return o&&a.shellSuspendCounter++,ja=vl=null,ut=d,K.H=v,K.A=_,Ye===null&&(xt=null,Je=0,Up()),A}function VU(){for(;Ye!==null;)XI(Ye)}function zU(a,o){var u=ut;ut|=2;var d=YI(),v=QI();xt!==a||Je!==o?(ym=null,vm=or()+500,Yu(a,o)):Gu=_i(a,o);e:do try{if(dt!==0&&Ye!==null){o=Ye;var _=Vr;t:switch(dt){case 1:dt=0,Vr=null,Qu(a,o,_,1);break;case 2:case 9:if(oC(_)){dt=0,Vr=null,ZI(o);break}o=function(){dt!==2&&dt!==9||xt!==a||(dt=7),ha(a)},_.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:oC(_)?(dt=0,Vr=null,ZI(o)):(dt=0,Vr=null,Qu(a,o,_,7));break;case 5:var A=null;switch(Ye.tag){case 26:A=Ye.memoizedState;case 5:case 27:var R=Ye;if(A?LO(A):R.stateNode.complete){dt=0,Vr=null;var $=R.sibling;if($!==null)Ye=$;else{var Z=R.return;Z!==null?(Ye=Z,wm(Z)):Ye=null}break t}}dt=0,Vr=null,Qu(a,o,_,5);break;case 6:dt=0,Vr=null,Qu(a,o,_,6);break;case 8:W_(),qt=6;break e;default:throw Error(r(462))}}UU();break}catch(ie){KI(a,ie)}while(!0);return ja=vl=null,K.H=d,K.A=v,ut=u,Ye!==null?0:(xt=null,Je=0,Up(),qt)}function UU(){for(;Ye!==null&&!T0();)XI(Ye)}function XI(a){var o=wI(a.alternate,a,Ga);a.memoizedProps=a.pendingProps,o===null?wm(a):Ye=o}function ZI(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=mI(u,o,o.pendingProps,o.type,void 0,Je);break;case 11:o=mI(u,o,o.pendingProps,o.type.render,o.ref,Je);break;case 5:c_(o);default:EI(u,o),o=Ye=QA(o,Ga),o=wI(u,o,Ga)}a.memoizedProps=a.pendingProps,o===null?wm(a):Ye=o}function Qu(a,o,u,d){ja=vl=null,c_(o),zu=null,Uf=0;var v=o.return;try{if(IU(a,v,o,u,Je)){qt=1,lm(a,ni(u,a.current)),Ye=null;return}}catch(_){if(v!==null)throw Ye=v,_;qt=1,lm(a,ni(u,a.current)),Ye=null;return}o.flags&32768?(rt||d===1?a=!0:Gu||(Je&536870912)!==0?a=!1:(io=a=!0,(d===2||d===9||d===3||d===6)&&(d=jr.current,d!==null&&d.tag===13&&(d.flags|=16384))),JI(o,a)):wm(o)}function wm(a){var o=a;do{if((o.flags&32768)!==0){JI(o,io);return}a=o.return;var u=RU(o.alternate,o,Ga);if(u!==null){Ye=u;return}if(o=o.sibling,o!==null){Ye=o;return}Ye=o=a}while(o!==null);qt===0&&(qt=5)}function JI(a,o){do{var u=kU(a.alternate,a);if(u!==null){u.flags&=32767,Ye=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=u}while(a!==null);qt=6,Ye=null}function eO(a,o,u,d,v,_,A,R,$){a.cancelPendingCommit=null;do xm();while(yn!==0);if((ut&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=L0,I0(a,u,_,A,R,$),a===xt&&(Ye=xt=null,Je=0),Wu=o,oo=a,Ka=u,H_=_,G_=v,qI=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,$U(Vs,function(){return aO(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,v=re.p,re.p=2,A=ut,ut|=4;try{PU(a,o,u)}finally{ut=A,re.p=v,K.T=d}}yn=1,tO(),nO(),rO()}}function tO(){if(yn===1){yn=0;var a=oo,o=Wu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var d=re.p;re.p=2;var v=ut;ut|=4;try{DI(o,a);var _=ob,A=BA(a.containerInfo),R=_.focusedElem,$=_.selectionRange;if(A!==R&&R&&R.ownerDocument&&UA(R.ownerDocument.documentElement,R)){if($!==null&&k0(R)){var Z=$.start,ie=$.end;if(ie===void 0&&(ie=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(ie,R.value.length);else{var le=R.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),xe=R.textContent.length,Pe=Math.min($.start,xe),bt=$.end===void 0?Pe:Math.min($.end,xe);!te.extend&&Pe>bt&&(A=bt,bt=Pe,Pe=A);var Y=zA(R,Pe),G=zA(R,bt);if(Y&&G&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var X=le.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Pe>bt?(te.addRange(X),te.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),te.addRange(X))}}}}for(le=[],te=R;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<le.length;R++){var oe=le[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Mm=!!sb,ob=sb=null}finally{ut=v,re.p=d,K.T=u}}a.current=o,yn=2}}function nO(){if(yn===2){yn=0;var a=oo,o=Wu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var d=re.p;re.p=2;var v=ut;ut|=4;try{NI(a,o.alternate,o)}finally{ut=v,re.p=d,K.T=u}}yn=3}}function rO(){if(yn===4||yn===3){yn=0,hp();var a=oo,o=Wu,u=Ka,d=qI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Wu=oo=null,iO(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(so=null),Na(u),o=o.stateNode,Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(yi,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=K.T,v=re.p,re.p=2,K.T=null;try{for(var _=a.onRecoverableError,A=0;A<d.length;A++){var R=d[A];_(R.value,{componentStack:R.stack})}}finally{K.T=o,re.p=v}}(Ka&3)!==0&&xm(),ha(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===K_?rh++:(rh=0,K_=a):rh=0,ih(0)}}function iO(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Vf(o)))}function xm(){return tO(),nO(),rO(),aO()}function aO(){if(yn!==5)return!1;var a=oo,o=H_;H_=0;var u=Na(Ka),d=K.T,v=re.p;try{re.p=32>u?32:u,K.T=null,u=G_,G_=null;var _=oo,A=Ka;if(yn=0,Wu=oo=null,Ka=0,(ut&6)!==0)throw Error(r(331));var R=ut;if(ut|=4,UI(_.current),LI(_,_.current,A,u),ut=R,ih(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(yi,_)}catch{}return!0}finally{re.p=v,K.T=d,iO(a,o)}}function sO(a,o,u){o=ni(u,o),o=T_(a.stateNode,o,2),a=eo(a,o,2),a!==null&&(el(a,2),ha(a))}function pt(a,o,u){if(a.tag===3)sO(a,a,u);else for(;o!==null;){if(o.tag===3){sO(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(so===null||!so.has(d))){a=ni(u,a),u=oI(2),d=eo(o,u,2),d!==null&&(lI(u,d,o,a),el(d,2),ha(d));break}}o=o.return}}function Q_(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new jU;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(u)||(F_=!0,v.add(u),a=BU.bind(null,a,o,u),o.then(a,a))}function BU(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,xt===a&&(Je&u)===u&&(qt===4||qt===3&&(Je&62914560)===Je&&300>or()-gm?(ut&2)===0&&Yu(a,0):q_|=u,Ku===Je&&(Ku=0)),ha(a)}function oO(a,o){o===0&&(o=yp()),a=pl(a,o),a!==null&&(el(a,o),ha(a))}function FU(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),oO(a,u)}function qU(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),oO(a,u)}function $U(a,o){return vn(a,o)}var Em=null,Xu=null,X_=!1,Sm=!1,Z_=!1,uo=0;function ha(a){a!==Xu&&a.next===null&&(Xu===null?Em=Xu=a:Xu=Xu.next=a),Sm=!0,X_||(X_=!0,GU())}function ih(a,o){if(!Z_&&Sm){Z_=!0;do for(var u=!1,d=Em;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var A=d.suspendedLanes,R=d.pingedLanes;_=(1<<31-Kt(42|a)+1)-1,_&=v&~(A&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,fO(d,_))}else _=Je,_=Wi(d,d===xt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||_i(d,_)||(u=!0,fO(d,_));d=d.next}while(u);Z_=!1}}function HU(){lO()}function lO(){Sm=X_=!1;var a=0;uo!==0&&n8()&&(a=uo);for(var o=or(),u=null,d=Em;d!==null;){var v=d.next,_=uO(d,o);_===0?(d.next=null,u===null?Em=v:u.next=v,v===null&&(Xu=u)):(u=d,(a!==0||(_&3)!==0)&&(Sm=!0)),d=v}yn!==0&&yn!==5||ih(a),uo!==0&&(uo=0)}function uO(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var A=31-Kt(_),R=1<<A,$=v[A];$===-1?((R&u)===0||(R&d)!==0)&&(v[A]=C0(R,o)):$<=o&&(a.expiredLanes|=R),_&=~R}if(o=xt,u=Je,u=Wi(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Ls(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||_i(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Ls(d),Na(u)){case 2:case 8:u=pf;break;case 32:u=Vs;break;case 268435456:u=dp;break;default:u=Vs}return d=cO.bind(null,a),u=vn(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Ls(d),a.callbackPriority=2,a.callbackNode=null,2}function cO(a,o){if(yn!==0&&yn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(xm()&&a.callbackNode!==u)return null;var d=Je;return d=Wi(a,a===xt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(HI(a,d,o),uO(a,or()),a.callbackNode!=null&&a.callbackNode===u?cO.bind(null,a):null)}function fO(a,o){if(xm())return null;HI(a,o,!0)}function GU(){i8(function(){(ut&6)!==0?vn(df,HU):lO()})}function J_(){if(uo===0){var a=ju;a===0&&(a=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),uo=a}return uo}function hO(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:wu(""+a)}function dO(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function KU(a,o,u,d,v){if(o==="submit"&&u&&u.stateNode===v){var _=hO((v[An]||null).action),A=d.submitter;A&&(o=(o=A[An]||null)?hO(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var R=new aa("action","action",null,d,v);a.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(uo!==0){var $=A?dO(v,A):new FormData(v);__(u,{pending:!0,data:$,method:v.method,action:_},null,$)}}else typeof _=="function"&&(R.preventDefault(),$=A?dO(v,A):new FormData(v),__(u,{pending:!0,data:$,method:v.method,action:_},_,$))},currentTarget:v}]})}}for(var eb=0;eb<j0.length;eb++){var tb=j0[eb],WU=tb.toLowerCase(),YU=tb[0].toUpperCase()+tb.slice(1);Ci(WU,"on"+YU)}Ci($A,"onAnimationEnd"),Ci(HA,"onAnimationIteration"),Ci(GA,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(fU,"onTransitionRun"),Ci(hU,"onTransitionStart"),Ci(dU,"onTransitionCancel"),Ci(KA,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ah));function pO(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],v=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var A=d.length-1;0<=A;A--){var R=d[A],$=R.instance,Z=R.currentTarget;if(R=R.listener,$!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=Z;try{_(v)}catch(ie){zp(ie)}v.currentTarget=null,_=$}else for(A=0;A<d.length;A++){if(R=d[A],$=R.instance,Z=R.currentTarget,R=R.listener,$!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=Z;try{_(v)}catch(ie){zp(ie)}v.currentTarget=null,_=$}}}}function Qe(a,o){var u=o[gu];u===void 0&&(u=o[gu]=new Set);var d=a+"__bubble";u.has(d)||(mO(o,a,2,!1),u.add(d))}function nb(a,o,u){var d=0;o&&(d|=4),mO(u,a,d,o)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function rb(a){if(!a[Tm]){a[Tm]=!0,vf.forEach(function(u){u!=="selectionchange"&&(QU.has(u)||nb(u,!1,a),nb(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Tm]||(o[Tm]=!0,nb("selectionchange",!1,o))}}function mO(a,o,u,d){switch($O(o)){case 2:var v=S8;break;case 8:v=T8;break;default:v=yb}u=v.bind(null,o,u,a),v=void 0,!sl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function ib(a,o,u,d,v){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var R=d.stateNode.containerInfo;if(R===v)break;if(A===4)for(A=d.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;R!==null;){if(A=Zi(R),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){d=_=A;continue e}R=R.parentNode}}d=d.return}$s(function(){var Z=_,ie=Zr(u),le=[];e:{var J=WA.get(a);if(J!==void 0){var te=aa,xe=a;switch(a){case"keypress":if(ll(u)===0)break e;case"keydown":case"keyup":te=jp;break;case"focusin":xe="focus",te=cl;break;case"focusout":xe="blur",te=cl;break;case"beforeblur":case"afterblur":te=cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case $A:case HA:case GA:te=Op;break;case KA:te=D;break;case"scroll":case"scrollend":te=Of;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=Np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Pa;break;case"toggle":case"beforetoggle":te=Be}var Pe=(o&4)!==0,bt=!Pe&&(a==="scroll"||a==="scrollend"),Y=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var G=Z,X;G!==null;){var oe=G;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=Ei(G,Y),oe!=null&&Pe.push(sh(G,oe,X))),bt)break;G=G.return}0<Pe.length&&(J=new te(J,xe,null,u,ie),le.push({event:J,listeners:Pe}))}}if((o&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",J&&u!==Af&&(xe=u.relatedTarget||u.fromElement)&&(Zi(xe)||xe[Qi]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(xe=u.relatedTarget||u.toElement,te=Z,xe=xe?Zi(xe):null,xe!==null&&(bt=s(xe),Pe=xe.tag,xe!==bt||Pe!==5&&Pe!==27&&Pe!==6)&&(xe=null)):(te=null,xe=Z),te!==xe)){if(Pe=Nf,oe="onMouseLeave",Y="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=Pa,oe="onPointerLeave",Y="onPointerEnter",G="pointer"),bt=te==null?J:kr(te),X=xe==null?J:kr(xe),J=new Pe(oe,G+"leave",te,u,ie),J.target=bt,J.relatedTarget=X,oe=null,Zi(ie)===Z&&(Pe=new Pe(Y,G+"enter",xe,u,ie),Pe.target=X,Pe.relatedTarget=bt,oe=Pe),bt=oe,te&&xe)t:{for(Pe=XU,Y=te,G=xe,X=0,oe=Y;oe;oe=Pe(oe))X++;oe=0;for(var Oe=G;Oe;Oe=Pe(Oe))oe++;for(;0<X-oe;)Y=Pe(Y),X--;for(;0<oe-X;)G=Pe(G),oe--;for(;X--;){if(Y===G||G!==null&&Y===G.alternate){Pe=Y;break t}Y=Pe(Y),G=Pe(G)}Pe=null}else Pe=null;te!==null&&gO(le,J,te,Pe,!1),xe!==null&&bt!==null&&gO(le,bt,xe,Pe,!0)}}e:{if(J=Z?kr(Z):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var at=PA;else if(RA(J))if(MA)at=lU;else{at=sU;var Ee=aU}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&bu(Z.elementType)&&(at=PA):at=oU;if(at&&(at=at(a,Z))){kA(le,at,u,ie);break e}Ee&&Ee(a,J,Z),a==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Ef(J,"number",J.value)}switch(Ee=Z?kr(Z):window,a){case"focusin":(RA(Ee)||Ee.contentEditable==="true")&&(Iu=Ee,P0=Z,Df=null);break;case"focusout":Df=P0=Iu=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,FA(le,u,ie);break;case"selectionchange":if(cU)break;case"keydown":case"keyup":FA(le,u,ie)}var qe;if(lt)e:{switch(a){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Cu?fl(a,u)&&(et="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(la&&u.locale!=="ko"&&(Cu||et!=="onCompositionStart"?et==="onCompositionEnd"&&Cu&&(qe=If()):(ia=ie,Cf="value"in ia?ia.value:ia.textContent,Cu=!0)),Ee=Am(Z,et),0<Ee.length&&(et=new oa(et,a,null,u,ie),le.push({event:et,listeners:Ee}),qe?et.data=qe:(qe=Au(u),qe!==null&&(et.data=qe)))),(qe=ei?tU(a,u):nU(a,u))&&(et=Am(Z,"onBeforeInput"),0<et.length&&(Ee=new oa("onBeforeInput","beforeinput",null,u,ie),le.push({event:Ee,listeners:et}),Ee.data=qe)),KU(le,a,Z,u,ie)}pO(le,o)})}function sh(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Am(a,o){for(var u=o+"Capture",d=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ei(a,u),v!=null&&d.unshift(sh(a,v,_)),v=Ei(a,o),v!=null&&d.push(sh(a,v,_))),a.tag===3)return d;a=a.return}return[]}function XU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function gO(a,o,u,d,v){for(var _=o._reactName,A=[];u!==null&&u!==d;){var R=u,$=R.alternate,Z=R.stateNode;if(R=R.tag,$!==null&&$===d)break;R!==5&&R!==26&&R!==27||Z===null||($=Z,v?(Z=Ei(u,_),Z!=null&&A.unshift(sh(u,Z,$))):v||(Z=Ei(u,_),Z!=null&&A.push(sh(u,Z,$)))),u=u.return}A.length!==0&&a.push({event:o,listeners:A})}var ZU=/\r\n?/g,JU=/\u0000|\uFFFD/g;function vO(a){return(typeof a=="string"?a:""+a).replace(ZU,`
`).replace(JU,"")}function yO(a,o){return o=vO(o),vO(a)===o}function _t(a,o,u,d,v,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||gr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&gr(a,""+d);break;case"className":Pr(a,"class",d);break;case"tabIndex":Pr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(a,u,d);break;case"style":Tf(a,d,_);break;case"data":if(o!=="object"){Pr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=wu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&_t(a,o,"name",v.name,v,null),_t(a,o,"formEncType",v.formEncType,v,null),_t(a,o,"formMethod",v.formMethod,v,null),_t(a,o,"formTarget",v.formTarget,v,null)):(_t(a,o,"encType",v.encType,v,null),_t(a,o,"method",v.method,v,null),_t(a,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=wu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=xi);break;case"onScroll":d!=null&&Qe("scroll",a);break;case"onScrollEnd":d!=null&&Qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=wu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Qe("beforetoggle",a),Qe("toggle",a),yu(a,"popover",d);break;case"xlinkActuate":an(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":an(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":an(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":an(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":an(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":an(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":an(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":an(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":an(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yu(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ap.get(u)||u,yu(a,u,d))}}function ab(a,o,u,d,v,_){switch(u){case"style":Tf(a,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?gr(a,d):(typeof d=="number"||typeof d=="bigint")&&gr(a,""+d);break;case"onScroll":d!=null&&Qe("scroll",a);break;case"onScrollEnd":d!=null&&Qe("scrollend",a);break;case"onClick":d!=null&&(a.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=a[An]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,v);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):yu(a,u,d)}}}function qn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",a),Qe("load",a);var d=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var A=u[_];if(A!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(a,o,_,A,u,null)}}v&&_t(a,o,"srcSet",u.srcSet,u,null),d&&_t(a,o,"src",u.src,u,null);return;case"input":Qe("invalid",a);var R=_=A=v=null,$=null,Z=null;for(d in u)if(u.hasOwnProperty(d)){var ie=u[d];if(ie!=null)switch(d){case"name":v=ie;break;case"type":A=ie;break;case"checked":$=ie;break;case"defaultChecked":Z=ie;break;case"value":_=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:_t(a,o,d,ie,u,null)}}Ep(a,_,R,$,Z,A,v,!1);return;case"select":Qe("invalid",a),d=A=_=null;for(v in u)if(u.hasOwnProperty(v)&&(R=u[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":A=R;break;case"multiple":d=R;default:_t(a,o,v,R,u,null)}o=_,u=A,a.multiple=!!d,o!=null?Us(a,!!d,o,!1):u!=null&&Us(a,!!d,u,!0);return;case"textarea":Qe("invalid",a),_=v=d=null;for(A in u)if(u.hasOwnProperty(A)&&(R=u[A],R!=null))switch(A){case"value":d=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:_t(a,o,A,R,u,null)}Bs(a,d,v,_);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:_t(a,o,$,d,u,null)}return;case"dialog":Qe("beforetoggle",a),Qe("toggle",a),Qe("cancel",a),Qe("close",a);break;case"iframe":case"object":Qe("load",a);break;case"video":case"audio":for(d=0;d<ah.length;d++)Qe(ah[d],a);break;case"image":Qe("error",a),Qe("load",a);break;case"details":Qe("toggle",a);break;case"embed":case"source":case"link":Qe("error",a),Qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(d=u[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(a,o,Z,d,u,null)}return;default:if(bu(o)){for(ie in u)u.hasOwnProperty(ie)&&(d=u[ie],d!==void 0&&ab(a,o,ie,d,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(d=u[R],d!=null&&_t(a,o,R,d,u,null))}function e8(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,A=null,R=null,$=null,Z=null,ie=null;for(te in u){var le=u[te];if(u.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":$=le;default:d.hasOwnProperty(te)||_t(a,o,te,null,d,le)}}for(var J in d){var te=d[J];if(le=u[J],d.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":_=te;break;case"name":v=te;break;case"checked":Z=te;break;case"defaultChecked":ie=te;break;case"value":A=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:te!==le&&_t(a,o,J,te,d,le)}}_u(a,A,R,$,Z,ie,_,v);return;case"select":te=A=R=J=null;for(_ in u)if($=u[_],u.hasOwnProperty(_)&&$!=null)switch(_){case"value":break;case"multiple":te=$;default:d.hasOwnProperty(_)||_t(a,o,_,null,d,$)}for(v in d)if(_=d[v],$=u[v],d.hasOwnProperty(v)&&(_!=null||$!=null))switch(v){case"value":J=_;break;case"defaultValue":R=_;break;case"multiple":A=_;default:_!==$&&_t(a,o,v,_,d,$)}o=R,u=A,d=te,J!=null?Us(a,!!u,J,!1):!!d!=!!u&&(o!=null?Us(a,!!u,o,!0):Us(a,!!u,u?[]:"",!1));return;case"textarea":te=J=null;for(R in u)if(v=u[R],u.hasOwnProperty(R)&&v!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:_t(a,o,R,null,d,v)}for(A in d)if(v=d[A],_=u[A],d.hasOwnProperty(A)&&(v!=null||_!=null))switch(A){case"value":J=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&_t(a,o,A,v,d,_)}Sp(a,J,te);return;case"option":for(var xe in u)if(J=u[xe],u.hasOwnProperty(xe)&&J!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:_t(a,o,xe,null,d,J)}for($ in d)if(J=d[$],te=u[$],d.hasOwnProperty($)&&J!==te&&(J!=null||te!=null))switch($){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:_t(a,o,$,J,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)J=u[Pe],u.hasOwnProperty(Pe)&&J!=null&&!d.hasOwnProperty(Pe)&&_t(a,o,Pe,null,d,J);for(Z in d)if(J=d[Z],te=u[Z],d.hasOwnProperty(Z)&&J!==te&&(J!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:_t(a,o,Z,J,d,te)}return;default:if(bu(o)){for(var bt in u)J=u[bt],u.hasOwnProperty(bt)&&J!==void 0&&!d.hasOwnProperty(bt)&&ab(a,o,bt,void 0,d,J);for(ie in d)J=d[ie],te=u[ie],!d.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||ab(a,o,ie,J,d,te);return}}for(var Y in u)J=u[Y],u.hasOwnProperty(Y)&&J!=null&&!d.hasOwnProperty(Y)&&_t(a,o,Y,null,d,J);for(le in d)J=d[le],te=u[le],!d.hasOwnProperty(le)||J===te||J==null&&te==null||_t(a,o,le,J,d,te)}function _O(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],_=v.transferSize,A=v.initiatorType,R=v.duration;if(_&&R&&_O(A)){for(A=0,R=v.responseEnd,d+=1;d<u.length;d++){var $=u[d],Z=$.startTime;if(Z>R)break;var ie=$.transferSize,le=$.initiatorType;ie&&_O(le)&&($=$.responseEnd,A+=ie*($<R?1:(R-Z)/($-Z)))}if(--d,o+=8*(_+A)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var sb=null,ob=null;function Cm(a){return a.nodeType===9?a:a.ownerDocument}function bO(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wO(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function lb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ub=null;function n8(){var a=window.event;return a&&a.type==="popstate"?a===ub?!1:(ub=a,!0):(ub=null,!1)}var xO=typeof setTimeout=="function"?setTimeout:void 0,r8=typeof clearTimeout=="function"?clearTimeout:void 0,EO=typeof Promise=="function"?Promise:void 0,i8=typeof queueMicrotask=="function"?queueMicrotask:typeof EO<"u"?function(a){return EO.resolve(null).then(a).catch(a8)}:xO;function a8(a){setTimeout(function(){throw a})}function co(a){return a==="head"}function SO(a,o){var u=o,d=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(v),tc(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")oh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,oh(u);for(var _=u.firstChild;_;){var A=_.nextSibling,R=_.nodeName;_[Xi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=A}}else u==="body"&&oh(a.ownerDocument.body);u=v}while(u);tc(o)}function TO(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function cb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cb(u),vu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function s8(a,o,u,d){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Xi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=oi(a.nextSibling),a===null)break}return null}function o8(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=oi(a.nextSibling),a===null))return null;return a}function AO(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=oi(a.nextSibling),a===null))return null;return a}function fb(a){return a.data==="$?"||a.data==="$~"}function hb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function l8(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function oi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var db=null;function CO(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return oi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function IO(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function OO(a,o,u){switch(o=Cm(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function oh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);vu(a)}var li=new Map,NO=new Set;function Im(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wa=re.d;re.d={f:u8,r:c8,D:f8,C:h8,L:d8,m:p8,X:g8,S:m8,M:v8};function u8(){var a=Wa.f(),o=_m();return a||o}function c8(a){var o=Xr(a);o!==null&&o.tag===5&&o.type==="form"?KC(o):Wa.r(a)}var Zu=typeof document>"u"?null:document;function RO(a,o,u){var d=Zu;if(d&&typeof o=="string"&&o){var v=mr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),NO.has(v)||(NO.add(v),a={rel:a,crossOrigin:u,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),qn(o,"link",a),rn(o),d.head.appendChild(o)))}}function f8(a){Wa.D(a),RO("dns-prefetch",a,null)}function h8(a,o){Wa.C(a,o),RO("preconnect",a,o)}function d8(a,o,u){Wa.L(a,o,u);var d=Zu;if(d&&a&&o){var v='link[rel="preload"][as="'+mr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+mr(u.imageSizes)+'"]')):v+='[href="'+mr(a)+'"]';var _=v;switch(o){case"style":_=Ju(a);break;case"script":_=ec(a)}li.has(_)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),li.set(_,a),d.querySelector(v)!==null||o==="style"&&d.querySelector(lh(_))||o==="script"&&d.querySelector(uh(_))||(o=d.createElement("link"),qn(o,"link",a),rn(o),d.head.appendChild(o)))}}function p8(a,o){Wa.m(a,o);var u=Zu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+mr(d)+'"][href="'+mr(a)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ec(a)}if(!li.has(_)&&(a=m({rel:"modulepreload",href:a},o),li.set(_,a),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(uh(_)))return}d=u.createElement("link"),qn(d,"link",a),rn(d),u.head.appendChild(d)}}}function m8(a,o,u){Wa.S(a,o,u);var d=Zu;if(d&&a){var v=Ji(d).hoistableStyles,_=Ju(a);o=o||"default";var A=v.get(_);if(!A){var R={loading:0,preload:null};if(A=d.querySelector(lh(_)))R.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=li.get(_))&&pb(a,u);var $=A=d.createElement("link");rn($),qn($,"link",a),$._p=new Promise(function(Z,ie){$.onload=Z,$.onerror=ie}),$.addEventListener("load",function(){R.loading|=1}),$.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Om(A,o,d)}A={type:"stylesheet",instance:A,count:1,state:R},v.set(_,A)}}}function g8(a,o){Wa.X(a,o);var u=Zu;if(u&&a){var d=Ji(u).hoistableScripts,v=ec(a),_=d.get(v);_||(_=u.querySelector(uh(v)),_||(a=m({src:a,async:!0},o),(o=li.get(v))&&mb(a,o),_=u.createElement("script"),rn(_),qn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function v8(a,o){Wa.M(a,o);var u=Zu;if(u&&a){var d=Ji(u).hoistableScripts,v=ec(a),_=d.get(v);_||(_=u.querySelector(uh(v)),_||(a=m({src:a,async:!0,type:"module"},o),(o=li.get(v))&&mb(a,o),_=u.createElement("script"),rn(_),qn(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function kO(a,o,u,d){var v=(v=Ie.current)?Im(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ju(u.href),u=Ji(v).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ju(u.href);var _=Ji(v).hoistableStyles,A=_.get(a);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,A),(_=v.querySelector(lh(a)))&&!_._p&&(A.instance=_,A.state.loading=5),li.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},li.set(a,u),_||y8(v,a,u,A.state))),o&&d===null)throw Error(r(528,""));return A}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ec(u),u=Ji(v).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ju(a){return'href="'+mr(a)+'"'}function lh(a){return'link[rel="stylesheet"]['+a+"]"}function PO(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function y8(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),qn(o,"link",u),rn(o),a.head.appendChild(o))}function ec(a){return'[src="'+mr(a)+'"]'}function uh(a){return"script[async]"+a}function MO(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+mr(u.href)+'"]');if(d)return o.instance=d,rn(d),d;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),rn(d),qn(d,"style",v),Om(d,u.precedence,a),o.instance=d;case"stylesheet":v=Ju(u.href);var _=a.querySelector(lh(v));if(_)return o.state.loading|=4,o.instance=_,rn(_),_;d=PO(u),(v=li.get(v))&&pb(d,v),_=(a.ownerDocument||a).createElement("link"),rn(_);var A=_;return A._p=new Promise(function(R,$){A.onload=R,A.onerror=$}),qn(_,"link",d),o.state.loading|=4,Om(_,u.precedence,a),o.instance=_;case"script":return _=ec(u.src),(v=a.querySelector(uh(_)))?(o.instance=v,rn(v),v):(d=u,(v=li.get(_))&&(d=m({},u),mb(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),rn(v),qn(v,"link",d),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Om(d,u.precedence,a));return o.instance}function Om(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,A=0;A<d.length;A++){var R=d[A];if(R.dataset.precedence===o)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function pb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function mb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Nm=null;function DO(a,o,u){if(Nm===null){var d=new Map,v=Nm=new Map;v.set(u,d)}else v=Nm,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[Xi]||_[nn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=a+A;var R=d.get(A);R?R.push(_):d.set(A,[_])}}return d}function jO(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function _8(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function LO(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function b8(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ju(d.href),_=o.querySelector(lh(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Rm.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,rn(_);return}_=o.ownerDocument||o,d=PO(d),(v=li.get(v))&&pb(d,v),_=_.createElement("link"),rn(_);var A=_;A._p=new Promise(function(R,$){A.onload=R,A.onerror=$}),qn(_,"link",d),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Rm.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var gb=0;function w8(a,o){return a.stylesheets&&a.count===0&&Pm(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Pm(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&gb===0&&(gb=62500*t8());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Pm(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>gb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var km=null;function Pm(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,km=new Map,o.forEach(x8,a),km=null,Rm.call(a))}function x8(a,o){if(!(o.state.loading&4)){var u=km.get(a);if(u)var d=u.get(null);else{u=new Map,km.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var A=v[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}v=o.instance,A=v.getAttribute("data-precedence"),_=u.get(A)||d,_===d&&u.set(null,v),u.set(A,v),this.count++,d=Rm.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ch={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function E8(a,o,u,d,v,_,A,R,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function VO(a,o,u,d,v,_,A,R,$,Z,ie,le){return a=new E8(a,o,u,A,$,Z,ie,le,R),o=1,_===!0&&(o|=24),_=Dr(3,null,null,o),a.current=_,_.stateNode=a,o=Y0(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},J0(_),a}function zO(a){return a?(a=Ru,a):Ru}function UO(a,o,u,d,v,_){v=zO(v),d.context===null?d.context=v:d.pendingContext=v,d=Js(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=eo(a,d,o),u!==null&&(wr(u,a,o),Ff(u,a,o))}function BO(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function vb(a,o){BO(a,o),(a=a.alternate)&&BO(a,o)}function FO(a){if(a.tag===13||a.tag===31){var o=pl(a,67108864);o!==null&&wr(o,a,67108864),vb(a,67108864)}}function qO(a){if(a.tag===13||a.tag===31){var o=Ur();o=nl(o);var u=pl(a,o);u!==null&&wr(u,a,o),vb(a,o)}}var Mm=!0;function S8(a,o,u,d){var v=K.T;K.T=null;var _=re.p;try{re.p=2,yb(a,o,u,d)}finally{re.p=_,K.T=v}}function T8(a,o,u,d){var v=K.T;K.T=null;var _=re.p;try{re.p=8,yb(a,o,u,d)}finally{re.p=_,K.T=v}}function yb(a,o,u,d){if(Mm){var v=_b(d);if(v===null)ib(a,o,d,Dm,u),HO(a,d);else if(C8(v,a,o,u,d))d.stopPropagation();else if(HO(a,d),o&4&&-1<A8.indexOf(a)){for(;v!==null;){var _=Xr(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=Ki(_.pendingLanes);if(A!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var $=1<<31-Kt(A);R.entanglements[1]|=$,A&=~$}ha(_),(ut&6)===0&&(vm=or()+500,ih(0))}}break;case 31:case 13:R=pl(_,2),R!==null&&wr(R,_,2),_m(),vb(_,2)}if(_=_b(d),_===null&&ib(a,o,d,Dm,u),_===v)break;v=_}v!==null&&d.stopPropagation()}else ib(a,o,d,null,u)}}function _b(a){return a=Zr(a),bb(a)}var Dm=null;function bb(a){if(Dm=null,a=Zi(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Dm=a,null}function $O(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zo()){case df:return 2;case pf:return 8;case Vs:case A0:return 32;case dp:return 268435456;default:return 32}default:return 32}}var wb=!1,fo=null,ho=null,po=null,fh=new Map,hh=new Map,mo=[],A8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HO(a,o){switch(a){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":fh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(o.pointerId)}}function dh(a,o,u,d,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},o!==null&&(o=Xr(o),o!==null&&FO(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function C8(a,o,u,d,v){switch(o){case"focusin":return fo=dh(fo,a,o,u,d,v),!0;case"dragenter":return ho=dh(ho,a,o,u,d,v),!0;case"mouseover":return po=dh(po,a,o,u,d,v),!0;case"pointerover":var _=v.pointerId;return fh.set(_,dh(fh.get(_)||null,a,o,u,d,v)),!0;case"gotpointercapture":return _=v.pointerId,hh.set(_,dh(hh.get(_)||null,a,o,u,d,v)),!0}return!1}function GO(a){var o=Zi(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,bi(a.priority,function(){qO(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,bi(a.priority,function(){qO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=_b(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Af=d,u.target.dispatchEvent(d),Af=null}else return o=Xr(u),o!==null&&FO(o),a.blockedOn=u,!1;o.shift()}return!0}function KO(a,o,u){jm(a)&&u.delete(o)}function I8(){wb=!1,fo!==null&&jm(fo)&&(fo=null),ho!==null&&jm(ho)&&(ho=null),po!==null&&jm(po)&&(po=null),fh.forEach(KO),hh.forEach(KO)}function Lm(a,o){a.blockedOn===o&&(a.blockedOn=null,wb||(wb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I8)))}var Vm=null;function WO(a){Vm!==a&&(Vm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vm===a&&(Vm=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],v=a[o+2];if(typeof d!="function"){if(bb(d||u)===null)continue;break}var _=Xr(u);_!==null&&(a.splice(o,3),o-=3,__(_,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function tc(a){function o($){return Lm($,a)}fo!==null&&Lm(fo,a),ho!==null&&Lm(ho,a),po!==null&&Lm(po,a),fh.forEach(o),hh.forEach(o);for(var u=0;u<mo.length;u++){var d=mo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<mo.length&&(u=mo[0],u.blockedOn===null);)GO(u),u.blockedOn===null&&mo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],_=u[d+1],A=v[An]||null;if(typeof _=="function")A||WO(u);else if(A){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,A=_[An]||null)R=A.formAction;else if(bb(v)!==null)continue}else R=A.action;typeof R=="function"?u[d+1]=R:(u.splice(d,3),d-=3),WO(u)}}}function YO(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function xb(a){this._internalRoot=a}zm.prototype.render=xb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Ur();UO(u,d,a,o,null,null)},zm.prototype.unmount=xb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;UO(a.current,2,null,a,null,null),_m(),o[Qi]=null}};function zm(a){this._internalRoot=a}zm.prototype.unstable_scheduleHydration=function(a){if(a){var o=_p();a={blockedOn:null,target:a,priority:o};for(var u=0;u<mo.length&&o!==0&&o<mo[u].priority;u++);mo.splice(u,0,a),u===0&&GO(a)}};var QO=e.version;if(QO!=="19.2.3")throw Error(r(527,QO,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var O8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Um.isDisabled&&Um.supportsFiber)try{yi=Um.inject(O8),Vn=Um}catch{}}return mh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",v=rI,_=iI,A=aI;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=VO(a,1,!1,null,null,u,d,null,v,_,A,YO),a[Qi]=o.current,rb(a),new xb(o)},mh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,v="",_=rI,A=iI,R=aI,$=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=VO(a,1,!0,o,u??null,d,v,$,_,A,R,YO),o.context=zO(null),u=o.current,d=Ur(),d=nl(d),v=Js(d),v.callback=null,eo(u,v,d),u=d,o.current.lanes=u,el(o,u),ha(o),a[Qi]=o.current,rb(a),new zm(o)},mh.version="19.2.3",mh}var sN;function F8(){if(sN)return Ab.exports;sN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ab.exports=B8(),Ab.exports}var q8=F8();const $8=Oa(q8),Nw={A:{id:"user_a",name:"Alex",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alex",income:5e3},B:{id:"user_b",name:"Sam",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Sam",income:3500}};Nw.A.income+Nw.B.income;const Bm=[{id:"Mercado",emoji:""},{id:"Lazer",emoji:""},{id:"Transporte",emoji:""},{id:"Casa",emoji:""},{id:"Sade",emoji:""}];/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),oN=t=>{const e=G8(t);return e.charAt(0).toUpperCase()+e.slice(1)},sj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),K8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>C.createElement("svg",{ref:f,...W8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sj("lucide",i),...!s&&!K8(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>C.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(Y8,{ref:s,iconNode:e,className:sj(`lucide-${H8(oN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=oN(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X8=He("activity",Q8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],J8=He("arrow-down-right",Z8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tB=He("arrow-right",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],rB=He("arrow-up-right",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rw=He("calendar",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],lN=He("camera",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kg=He("check",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oj=He("chevron-left",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yE=He("chevron-right",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lj=He("circle-alert",uB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fB=He("circle-check",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uj=He("circle",hB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pB=He("clock",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gB=He("credit-card",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yB=He("eye-off",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bB=He("eye",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_E=He("heart",wB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],uN=He("house",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],SB=He("link",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],cN=He("list-ordered",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pg=He("loader-circle",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IB=He("lock",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cj=He("log-out",OB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RB=He("mail",NB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PB=He("moon",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fj=He("pen-line",MB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oy=He("plus",DB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],hj=He("repeat",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VB=He("save",LB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fN=He("settings",zB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dj=He("shield-check",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pj=He("shopping-cart",BB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qB=He("sparkles",FB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hN=He("sun",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kw=He("target",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bE=He("trash-2",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Mg=He("trending-up",KB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],YB=He("wallet",WB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mj=He("x",QB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZB=He("zap",XB),JB=({className:t=""})=>S.jsxs("div",{className:`relative flex items-center justify-center ${t}`,children:[S.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse"}),S.jsxs("div",{className:"relative w-14 h-14 bg-neutral-900 border-2 border-primary/30 rounded-[1.5rem] flex items-center justify-center shadow-glow overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent"}),S.jsx(_E,{size:28,className:"text-primary logo-glow",fill:"currentColor",strokeWidth:0}),S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-5 bg-neutral-900/40 rounded-full blur-[1px]"})]})]}),eF=({transactions:t,goals:e,users:n,familyName:r,onNavigate:i,onOpenAddModal:s})=>{const[l,c]=C.useState(new Date);C.useEffect(()=>{const U=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(U)},[]);const f=l.getMonth(),h=l.getFullYear(),p=t.filter(U=>{const[q,V,N]=U.date.split("/").map(Number);return V===f+1&&N===h}),m=n.A.income+n.B.income+p.filter(U=>U.type==="revenue").reduce((U,q)=>U+q.amount,0),y=p.filter(U=>U.type==="expense").reduce((U,q)=>U+q.amount,0),b=m-y,w=m>0?y/m*100:0,E=[...t].sort((U,q)=>{const[V,N,k]=U.date.split("/").map(Number),[P,B,M]=q.date.split("/").map(Number);return new Date(M,B-1,P).getTime()-new Date(k,N-1,V).getTime()}).slice(0,3),T=e.filter(U=>!U.isDeleted).slice(0,2),O=()=>{const U=l.getHours();return U>=5&&U<12?"BOM DIA":U>=12&&U<18?"BOA TARDE":"BOA NOITE"},j=l.toLocaleDateString("pt-BR",{weekday:"short",day:"numeric",month:"short"}).toUpperCase(),z=l.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return S.jsxs("div",{className:"space-y-6 md:space-y-10 animate-slide-up pb-24",children:[S.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-5 px-1 pt-2",children:[S.jsx(JB,{}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[S.jsx("span",{className:"h-px w-6 bg-neutral-200 dark:bg-neutral-800"}),S.jsx("p",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-[0.4em] italic",children:O()}),S.jsx("span",{className:"h-px w-6 bg-neutral-200 dark:bg-neutral-800"})]}),S.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-black text-neutral-900 dark:text-white uppercase tracking-tighter italic leading-none",children:[r.split(" ")[0]," ",S.jsx("span",{className:"text-primary italic",children:"Sinc"})]}),S.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[S.jsx("p",{className:"text-[9px] font-black text-neutral-500 uppercase tracking-[0.2em]",children:j}),S.jsx("span",{className:"text-neutral-300 dark:text-neutral-800 opacity-30",children:"|"}),S.jsxs("div",{className:"flex items-center space-x-1.5",children:[S.jsx(pB,{size:10,className:"text-primary animate-pulse"}),S.jsx("p",{className:"text-[9px] font-black text-neutral-600 dark:text-neutral-400 uppercase tracking-widest tabular-nums",children:z})]})]})]}),S.jsxs("div",{className:"flex -space-x-3 pt-1",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:n.A.avatar,className:"w-10 h-10 rounded-full border-2 border-white dark:border-neutral-950 shadow-xl group-hover:scale-110 transition-transform",alt:n.A.name}),S.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white dark:border-neutral-950 rounded-full"})]}),S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:n.B.avatar,className:"w-10 h-10 rounded-full border-2 border-white dark:border-neutral-950 shadow-xl group-hover:scale-110 transition-transform",alt:n.B.name}),S.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white dark:border-neutral-950 rounded-full"})]})]})]}),S.jsxs("div",{className:"relative group overflow-hidden bg-neutral-950 rounded-[2.8rem] md:rounded-[3rem] p-7 md:p-12 shadow-2xl transition-all border border-neutral-800",children:[S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 blur-[100px] rounded-full -mr-32 -mt-32"}),S.jsxs("div",{className:"relative z-10 space-y-6 md:space-y-8 text-center md:text-left",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(dj,{size:12,className:"text-primary"}),S.jsx("span",{className:"text-[9px] font-black text-neutral-500 uppercase tracking-[0.3em]",children:"Backup Sincronizado"})]}),S.jsx("span",{className:"text-[9px] font-black text-white/40 uppercase tracking-widest italic",children:l.toLocaleString("pt-BR",{month:"long"}).toUpperCase()})]}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-5",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("p",{className:"text-neutral-400 text-[10px] font-black uppercase tracking-[0.2em]",children:"Fluxo Disponvel"}),S.jsxs("div",{className:"flex items-baseline justify-center md:justify-start space-x-2",children:[S.jsx("span",{className:"text-xl font-black text-primary italic",children:"R$"}),S.jsx("h3",{className:"text-5xl md:text-7xl font-display font-black text-white tracking-tighter italic",children:b.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]}),S.jsxs("button",{onClick:()=>i("analytics"),className:"flex items-center justify-center space-x-3 bg-white/5 border border-white/10 px-6 py-4 rounded-[1.5rem] transition-all active:scale-95 group/btn",children:[S.jsx(Mg,{size:16,className:"text-primary group-hover/btn:translate-x-1 transition-transform"}),S.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-widest italic",children:"Sade de Dados"})]})]}),S.jsxs("div",{className:"space-y-2 pt-2",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsx("span",{className:"text-[8px] font-black text-neutral-600 uppercase tracking-[0.3em]",children:"Eficincia de Gastos"}),S.jsxs("span",{className:`text-[10px] font-black italic ${w>85?"text-red-500":"text-white"}`,children:[w.toFixed(0),"% UTILIZADO"]})]}),S.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden border border-white/5 p-0.5",children:S.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${w>85?"bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.5)]":"bg-primary shadow-glow"}`,style:{width:`${Math.min(100,w)}%`}})})]})]})]}),S.jsxs("div",{className:"space-y-4 px-1",children:[S.jsxs("div",{className:"flex items-center justify-between px-3",children:[S.jsx("h4",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-[0.4em] italic",children:"Nosso Futuro"}),S.jsxs("button",{onClick:()=>i("goals"),className:"flex items-center text-[9px] font-black text-primary uppercase tracking-widest hover:translate-x-1 transition-transform",children:["Metas Ativas ",S.jsx(yE,{size:12,className:"ml-1"})]})]}),S.jsx("div",{className:"space-y-3",children:T.map(U=>{const q=Math.min(100,U.currentAmount/U.targetAmount*100),V=U.targetAmount-U.currentAmount;return S.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200/50 dark:border-neutral-800 rounded-[2.2rem] p-5 shadow-sm active:scale-[0.98] transition-all",children:[S.jsxs("div",{className:"flex justify-between items-center mb-3",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:`w-9 h-9 rounded-xl ${U.color} bg-opacity-10 border border-white/5 flex items-center justify-center text-lg`,children:S.jsx(kw,{size:18,className:U.color.replace("bg-","text-")})}),S.jsx("span",{className:"text-sm font-black text-neutral-900 dark:text-white uppercase italic tracking-tight",children:U.title})]}),S.jsxs("span",{className:"text-xs font-black text-neutral-900 dark:text-white italic bg-neutral-100 dark:bg-neutral-800 px-3 py-1 rounded-full",children:[q.toFixed(0),"%"]})]}),S.jsx("div",{className:"h-1.5 bg-neutral-100 dark:bg-neutral-800/50 rounded-full overflow-hidden mb-2",children:S.jsx("div",{className:`h-full ${U.color} rounded-full transition-all duration-1000 shadow-glow`,style:{width:`${q}%`}})}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase tracking-widest",children:["Falta R$ ",V.toLocaleString("pt-BR")]}),S.jsxs("span",{className:"text-[8px] font-black text-neutral-500 uppercase tracking-widest opacity-60",children:["Alvo R$ ",U.targetAmount.toLocaleString("pt-BR")]})]})]},U.id)})})]}),S.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1",children:[S.jsx(Fm,{icon:S.jsx(oy,{size:24,strokeWidth:3}),label:"Novo",color:"bg-primary text-neutral-950",onClick:s}),S.jsx(Fm,{icon:S.jsx(pj,{size:22}),label:"Lista",color:"bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800",onClick:()=>i("shopping")}),S.jsx(Fm,{icon:S.jsx(kw,{size:22}),label:"Metas",color:"bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800",onClick:()=>i("goals")}),S.jsx(Fm,{icon:S.jsx(Mg,{size:22}),label:"Dados",color:"bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800",onClick:()=>i("analytics")})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between px-3",children:[S.jsx("h4",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-[0.4em] italic",children:"Timeline de Fluxo"}),S.jsx("button",{onClick:()=>i("dashboard"),className:"text-[9px] font-black text-primary uppercase tracking-widest",children:"Histrico Completo"})]}),S.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 rounded-[2.5rem] overflow-hidden shadow-xl",children:E.map(U=>S.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-neutral-50 dark:border-neutral-800/50 last:border-0 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"w-11 h-11 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex items-center justify-center text-xl shadow-inner",children:U.emoji}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-black text-neutral-900 dark:text-white uppercase italic truncate max-w-[120px] tracking-tight",children:U.title}),S.jsx("p",{className:"text-[9px] font-bold text-neutral-400 uppercase tracking-widest",children:U.date})]})]}),S.jsx("div",{className:"text-right",children:S.jsxs("p",{className:`text-sm font-black italic tracking-tighter ${U.type==="revenue"?"text-emerald-500":"text-neutral-900 dark:text-white"}`,children:[U.type==="expense"?"-":"+"," R$ ",U.amount.toLocaleString("pt-BR")]})})]},U.id))})]})]})},Fm=({icon:t,label:e,color:n,onClick:r})=>S.jsxs("button",{onClick:r,className:"flex flex-col items-center space-y-3 group",children:[S.jsx("div",{className:`w-15 h-15 md:w-16 md:h-16 rounded-[1.8rem] flex items-center justify-center shadow-lg active:scale-90 transition-all border border-transparent group-hover:border-primary/50 ${n}`,children:t}),S.jsx("span",{className:"text-[9px] font-black text-neutral-500 uppercase tracking-widest group-hover:text-primary transition-colors",children:e})]}),tF=({transactions:t,totalIncome:e,currentDate:n,users:r,alertThreshold:i,onMonthChange:s,onDelete:l,onTogglePaid:c,onEdit:f,onOpenShopping:h,onOpenAddModal:p})=>{const[m,y]=C.useState("all"),b=n.toLocaleString("pt-BR",{month:"long",year:"numeric"}),w=`${n.getFullYear()}-${n.getMonth()+1}`,E=C.useMemo(()=>t.filter(V=>{const[N,k,P]=V.date.split("/").map(Number),B=new Date(P,k-1,N),M=B.getMonth()===n.getMonth()&&B.getFullYear()===n.getFullYear(),F=V.isFixed&&(B.getFullYear()<n.getFullYear()||B.getFullYear()===n.getFullYear()&&B.getMonth()<=n.getMonth());return!M&&!F?!1:m==="all"?!0:V.spenderId===m}).sort((V,N)=>{const[k,P,B]=V.date.split("/").map(Number),[M,F,L]=N.date.split("/").map(Number);return new Date(L,F-1,M).getTime()-new Date(B,P-1,k).getTime()}),[t,n,m]),T=E.filter(V=>V.type==="expense").reduce((V,N)=>V+N.amount,0),O=E.filter(V=>V.type==="revenue").reduce((V,N)=>V+N.amount,0),j=e+O,z=j-T,U=z>0&&z<j*(i/100),q=z<0;return S.jsxs("div",{className:"space-y-6 md:space-y-10 animate-slide-up relative text-left",children:[S.jsxs("div",{className:"flex items-center justify-between px-1",children:[S.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[S.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-primary/10 rounded-[1rem] md:rounded-2xl flex items-center justify-center text-primary border border-primary/20 shadow-inner",children:S.jsx(Rw,{size:18,className:"md:w-[22px]"})}),S.jsxs("div",{className:"space-y-0",children:[S.jsx("h2",{className:"text-[8px] md:text-[9px] font-black text-neutral-500 uppercase tracking-[0.2em]",children:"Extrato Mensal"}),S.jsx("span",{className:"text-lg md:text-xl font-display font-black text-neutral-900 dark:text-white uppercase tracking-tighter italic leading-none",children:b})]})]}),S.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 rounded-2xl p-0.5 md:p-1 shadow-xl",children:[S.jsx("button",{onClick:()=>s("prev"),className:"p-2.5 md:p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl text-neutral-500 transition-all active:scale-75",children:S.jsx(oj,{size:18})}),S.jsx("div",{className:"w-px h-3 md:h-4 bg-neutral-100 dark:bg-neutral-800 mx-0.5 md:mx-1"}),S.jsx("button",{onClick:()=>s("next"),className:"p-2.5 md:p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl text-neutral-500 transition-all active:scale-75",children:S.jsx(yE,{size:18})})]})]}),S.jsxs("div",{className:`relative overflow-hidden bg-neutral-950 border rounded-[2.5rem] md:rounded-[3rem] p-6 md:p-12 shadow-2xl transition-all duration-700 
        ${U?"border-amber-400/40":q?"border-red-500/40":"border-neutral-800"}`,children:[S.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-primary/5 blur-[80px] rounded-full -mr-24 -mt-24"}),S.jsxs("div",{className:"relative z-10 flex flex-col space-y-6 md:space-y-8",children:[S.jsxs("div",{className:"space-y-1 text-center md:text-left",children:[S.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[S.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-neutral-500 uppercase tracking-[0.4em]",children:"Resumo de Caixa"}),U&&S.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"})]}),S.jsxs("div",{className:"flex items-baseline justify-center md:justify-start space-x-1.5",children:[S.jsx("span",{className:"text-lg md:text-xl font-black text-neutral-600 italic",children:"R$"}),S.jsx("h2",{className:`text-4xl md:text-7xl font-display font-black tracking-tighter italic tabular-nums leading-none ${q?"text-red-500":U?"text-amber-500":"text-white"}`,children:z.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[S.jsxs("div",{className:"p-4 md:p-5 bg-white/5 rounded-2xl md:rounded-[2rem] border border-white/5",children:[S.jsxs("div",{className:"text-emerald-500 text-[7px] md:text-[8px] font-black uppercase tracking-widest mb-1 flex items-center",children:[S.jsx(rB,{size:10,className:"mr-1"})," Ganhos"]}),S.jsxs("p",{className:"text-base md:text-lg font-black text-white tabular-nums",children:["R$ ",j.toLocaleString()]})]}),S.jsxs("div",{className:"p-4 md:p-5 bg-white/5 rounded-2xl md:rounded-[2rem] border border-white/5",children:[S.jsxs("div",{className:"text-red-500 text-[7px] md:text-[8px] font-black uppercase tracking-widest mb-1 flex items-center",children:[S.jsx(J8,{size:10,className:"mr-1"})," Gastos"]}),S.jsxs("p",{className:"text-base md:text-lg font-black text-white tabular-nums",children:["R$ ",T.toLocaleString()]})]})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between px-2",children:[S.jsx("h3",{className:"text-[9px] md:text-[10px] font-black text-neutral-500 uppercase tracking-[0.3em]",children:"Histrico do Ms"}),S.jsxs("div",{className:"flex -space-x-1.5",children:[S.jsx("img",{src:r.A.avatar,className:"w-5 h-5 md:w-6 md:h-6 rounded-full border border-neutral-100 dark:border-neutral-800",alt:""}),S.jsx("img",{src:r.B.avatar,className:"w-5 h-5 md:w-6 md:h-6 rounded-full border border-neutral-100 dark:border-neutral-800",alt:""})]})]}),S.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 rounded-[2rem] md:rounded-[2.8rem] overflow-hidden shadow-xl",children:[E.map((V,N)=>{var P;const k=V.isFixed?((P=V.paidMonths)==null?void 0:P.includes(w))??!1:V.isPaid;return S.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-4 md:p-6 ${N!==E.length-1?"border-b border-neutral-50 dark:border-neutral-800/50":""} hover:bg-neutral-50 dark:hover:bg-neutral-800/40 transition-all duration-300 group gap-4 md:gap-0`,children:[S.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 min-w-0 flex-1",children:[S.jsx("div",{className:`w-11 h-11 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center text-xl md:text-2xl shrink-0 shadow-inner ${V.type==="revenue"?"bg-emerald-50 dark:bg-emerald-950/30":"bg-neutral-100 dark:bg-neutral-800/60"}`,children:V.emoji}),S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("h4",{className:"text-[13px] md:text-[15px] font-black text-neutral-900 dark:text-white uppercase italic truncate tracking-tight leading-tight",children:V.title}),V.isFixed&&S.jsxs("div",{className:"flex items-center ml-2 bg-primary/10 px-1.5 py-0.5 rounded-md",children:[S.jsx(hj,{size:10,className:"text-primary"}),S.jsx("span",{className:"text-[7px] font-black text-primary uppercase tracking-tighter ml-1",children:"FIXO"})]})]}),S.jsxs("div",{className:"flex items-center space-x-1.5 text-[8px] md:text-[9px] font-bold text-neutral-400 uppercase tracking-widest mt-0.5",children:[S.jsx("span",{className:"truncate max-w-[80px] md:max-w-none",children:V.category}),S.jsx("span",{className:"text-neutral-200 dark:text-neutral-700",children:""}),S.jsx("span",{className:"italic",children:V.isFixed?"MENSAL":V.date})]})]})]}),S.jsxs("div",{className:"flex items-center justify-between md:justify-end md:space-x-6",children:[S.jsxs("div",{className:"text-left md:text-right flex flex-col md:items-end space-y-0.5",children:[S.jsxs("p",{className:`text-[15px] md:text-[16px] font-black italic tracking-tighter tabular-nums ${V.type==="revenue"?"text-emerald-500":"text-neutral-900 dark:text-white"}`,children:["R$ ",V.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),S.jsx("div",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full border text-[7px] md:text-[8px] font-black uppercase tracking-widest transition-all ${k?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.1)]":"bg-neutral-100 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 text-neutral-400"}`,children:k?S.jsxs(S.Fragment,{children:[S.jsx(kg,{size:8,className:"mr-1",strokeWidth:4})," PAGO"]}):S.jsxs(S.Fragment,{children:[S.jsx(uj,{size:8,className:"mr-1",fill:"currentColor"})," PENDENTE"]})})]}),S.jsxs("div",{className:"flex items-center bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl p-1 md:bg-transparent md:p-0",children:[S.jsx("button",{onClick:()=>c(V.id,V.isFixed?w:void 0),className:`p-2.5 md:p-2 rounded-xl transition-all ${k?"text-emerald-500 bg-emerald-500/20 md:bg-emerald-500/10":"text-neutral-300 dark:text-neutral-700 hover:text-primary active:scale-75"}`,title:"Marcar Pago",children:S.jsx(kg,{size:20,strokeWidth:3})}),S.jsx("div",{className:"w-px h-4 bg-neutral-200 dark:bg-neutral-700 mx-1 md:mx-2"}),S.jsx("button",{onClick:()=>f(V),className:"p-2.5 md:p-2 text-neutral-400 dark:text-neutral-600 hover:text-neutral-900 dark:hover:text-white transition-all active:scale-75",title:"Editar",children:S.jsx(fj,{size:18})}),S.jsx("button",{onClick:()=>l(V.id),className:"p-2.5 md:p-2 text-red-500/40 dark:text-red-500/20 hover:text-red-500 transition-all active:scale-75",title:"Excluir",children:S.jsx(bE,{size:18})})]})]})]},V.id)}),E.length===0&&S.jsx("div",{className:"text-center py-20 opacity-30 flex flex-col items-center",children:S.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] italic",children:"Sem lanamentos registrados"})})]})]})]})},wE=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmLabel:s="Apagar",cancelLabel:l="Cancelar",variant:c="danger"})=>t?S.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300 px-6",children:[S.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:i}),S.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 w-full max-w-sm rounded-[32px] overflow-hidden shadow-2xl border border-neutral-200 dark:border-neutral-800 animate-in zoom-in-95 duration-300",children:[S.jsxs("div",{className:"p-8 text-center",children:[S.jsx("div",{className:`mx-auto w-16 h-16 rounded-3xl flex items-center justify-center mb-6 ${c==="danger"?"bg-red-50 dark:bg-red-900/20 text-red-500":"bg-amber-50 dark:bg-amber-900/20 text-amber-500"}`,children:S.jsx(lj,{size:32})}),S.jsx("h3",{className:"text-xl font-display font-bold text-neutral-900 dark:text-white mb-2 uppercase tracking-tight",children:e}),S.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 leading-relaxed font-medium",children:n})]}),S.jsxs("div",{className:"flex border-t border-neutral-100 dark:border-neutral-800",children:[S.jsx("button",{onClick:i,className:"flex-1 px-6 py-5 text-[10px] font-black uppercase tracking-widest text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors border-r border-neutral-100 dark:border-neutral-800",children:l}),S.jsx("button",{onClick:r,className:`flex-1 px-6 py-5 text-[10px] font-black uppercase tracking-widest transition-colors ${c==="danger"?"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10":"text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/10"}`,children:s})]})]})]}):null,nF=({goals:t,onUpdateGoal:e,onSaveGoal:n,onDeleteGoal:r})=>{const[i,s]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState({isOpen:!1,goalId:null}),[p,m]=C.useState(""),[y,b]=C.useState({isOpen:!1,id:null}),w=t.filter(T=>!T.isDeleted),E=T=>{c(T),s(!0)};return S.jsxs("div",{className:"space-y-8 md:space-y-12 animate-in fade-in px-1 pb-20",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[S.jsxs("div",{className:"text-center md:text-left space-y-2",children:[S.jsx("h2",{className:"text-3xl font-display font-black text-neutral-900 dark:text-white uppercase tracking-tighter italic",children:"Nossas Metas"}),S.jsx("p",{className:"text-neutral-500 text-xs font-bold uppercase tracking-widest",children:"Investindo no nosso futuro juntos"})]}),S.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"bg-neutral-900 dark:bg-white text-white dark:text-neutral-950 px-8 py-5 rounded-[2rem] font-black uppercase tracking-widest text-[10px] shadow-2xl transition-all",children:[S.jsx(oy,{size:18,strokeWidth:3,className:"inline mr-2"}),"Novo Objetivo"]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(T=>{const O=Math.min(100,T.currentAmount/T.targetAmount*100);return S.jsxs("div",{className:"rounded-[2.5rem] bg-white dark:bg-neutral-900 shadow-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden group",children:[S.jsxs("div",{className:"h-44 relative",children:[S.jsx("img",{src:T.imageUrl||"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?q=80&w=800&auto=format&fit=crop",className:"w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700",alt:""}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),S.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[T.purchaseUrl&&S.jsx("a",{href:T.purchaseUrl,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-white/90 rounded-2xl text-primary hover:scale-110 transition-transform",children:S.jsx(SB,{size:16})}),S.jsx("button",{onClick:()=>E(T),className:"p-3 bg-white/90 rounded-2xl text-neutral-600 hover:text-primary",children:S.jsx(fj,{size:16})}),S.jsx("button",{onClick:()=>b({isOpen:!0,id:T.id}),className:"p-3 bg-white/90 rounded-2xl text-neutral-600 hover:text-red-500",children:S.jsx(bE,{size:16})})]}),S.jsx("h3",{className:"absolute bottom-4 left-6 text-white font-display font-black text-2xl uppercase tracking-tight italic",children:T.title})]}),S.jsxs("div",{className:"p-6 md:p-8",children:[S.jsxs("div",{className:"flex justify-between items-end mb-4",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase tracking-widest",children:"Acumulado"}),S.jsxs("p",{className:"text-2xl font-display font-black text-neutral-900 dark:text-white",children:["R$ ",T.currentAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase tracking-widest",children:"Meta"}),S.jsxs("p",{className:"text-xs font-bold text-neutral-500 italic",children:["R$ ",T.targetAmount.toLocaleString("pt-BR")]})]})]}),S.jsx("div",{className:"h-4 bg-neutral-100 dark:bg-neutral-950 rounded-full border border-neutral-200 dark:border-neutral-800 p-1 mb-6",children:S.jsx("div",{className:`h-full ${T.color} rounded-full transition-all duration-1000 shadow-glow`,style:{width:`${O}%`}})}),S.jsx("button",{onClick:()=>h({isOpen:!0,goalId:T.id}),className:"w-full text-[10px] font-black bg-primary px-6 py-5 rounded-3xl uppercase tracking-widest shadow-glow active:scale-95 transition-all",children:"Adicionar Economia"})]})]},T.id)})}),f.isOpen&&S.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6",children:[S.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:()=>h({isOpen:!1,goalId:null})}),S.jsxs("form",{onSubmit:T=>{T.preventDefault(),e(f.goalId,parseFloat(p)),h({isOpen:!1,goalId:null}),m("")},className:"relative bg-[#0F0F0F] border border-neutral-800 w-full max-w-sm rounded-[3rem] p-10 shadow-2xl animate-in zoom-in-95 duration-300",children:[S.jsx("h4",{className:"text-xl font-display font-black text-white text-center uppercase italic mb-8",children:"Quanto vamos poupar?"}),S.jsxs("div",{className:"relative mb-10",children:[S.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-primary font-black text-xl",children:"R$"}),S.jsx("input",{type:"number",autoFocus:!0,inputMode:"decimal",value:p,onChange:T=>m(T.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-800 rounded-3xl py-6 pl-16 pr-6 text-3xl font-display font-black text-white outline-none focus:border-primary",placeholder:"0,00"})]}),S.jsx("button",{type:"submit",className:"w-full bg-primary py-6 rounded-[2rem] font-black uppercase text-xs tracking-widest shadow-glow active:scale-95 transition-all",children:"Confirmar Depsito"})]})]}),S.jsx(rF,{isOpen:i,onClose:()=>s(!1),onSave:n,goal:l}),S.jsx(wE,{isOpen:y.isOpen,title:"Excluir Meta?",message:"Deseja remover este objetivo permanentemente?",onConfirm:()=>{r(y.id),b({isOpen:!1,id:null}),s(!1)},onCancel:()=>b({isOpen:!1,id:null})})]})},rF=({isOpen:t,onClose:e,onSave:n,goal:r})=>{const[i,s]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(""),[p,m]=C.useState(""),[y,b]=C.useState("bg-primary");return Cd.useEffect(()=>{r?(s(r.title),c(r.targetAmount.toString()),h(r.imageUrl||""),m(r.purchaseUrl||""),b(r.color)):(s(""),c(""),h(""),m(""),b("bg-primary"))},[r,t]),t?S.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:e}),S.jsxs("form",{onSubmit:w=>{w.preventDefault(),n({id:r?r.id:`goal_${Date.now()}`,title:i,targetAmount:parseFloat(l),currentAmount:r?r.currentAmount:0,imageUrl:f,purchaseUrl:p,color:y}),e()},className:"relative bg-[#0F0F0F] border border-neutral-800 w-full max-w-lg rounded-[3.5rem] p-8 md:p-12 shadow-2xl animate-in slide-in-from-bottom duration-500 overflow-y-auto max-h-[90vh] scrollbar-hide",children:[S.jsxs("div",{className:"flex justify-between items-center mb-10",children:[S.jsx("h2",{className:"text-3xl font-display font-black text-white uppercase italic tracking-tighter leading-none",children:"Novo Objetivo"}),S.jsx("button",{onClick:e,className:"p-3 bg-neutral-900 rounded-full text-neutral-500 hover:text-white transition-all",children:S.jsx(mj,{size:24})})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest ml-1",children:"O que vamos conquistar?"}),S.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),required:!0,placeholder:"Ex: Viagem, Carro, Sof...",className:"w-full px-8 py-6 bg-neutral-900/50 border border-neutral-800 rounded-[2.5rem] font-bold text-white outline-none focus:border-primary transition-all shadow-inner"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest ml-1",children:"Valor do Objetivo"}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-8 top-1/2 -translate-y-1/2 text-primary font-black text-2xl italic",children:"R$"}),S.jsx("input",{type:"number",inputMode:"decimal",value:l,onChange:w=>c(w.target.value),required:!0,className:"w-full pl-20 pr-8 py-8 bg-neutral-900/50 border border-neutral-800 rounded-[2.8rem] font-display font-black text-white text-4xl outline-none focus:border-primary transition-all tracking-tighter italic",placeholder:"0,00"})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest ml-1",children:"Link da Imagem (Visualizao)"}),S.jsx("input",{type:"url",value:f,onChange:w=>h(w.target.value),placeholder:"https://exemplo.com/foto.jpg",className:"w-full px-8 py-5 bg-neutral-900/30 border border-neutral-800 rounded-[2rem] text-neutral-400 text-xs font-semibold outline-none focus:border-primary"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest ml-1",children:"Link de onde comprar"}),S.jsx("input",{type:"url",value:p,onChange:w=>m(w.target.value),placeholder:"https://mercadolivre.com.br/...",className:"w-full px-8 py-5 bg-neutral-900/30 border border-neutral-800 rounded-[2rem] text-neutral-400 text-xs font-semibold outline-none focus:border-primary"})]}),S.jsxs("div",{className:"pt-4",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest ml-1 mb-4 block",children:"Cor do Indicador"}),S.jsx("div",{className:"grid grid-cols-6 gap-3",children:["bg-primary","bg-blue-500","bg-orange-500","bg-emerald-500","bg-purple-500","bg-pink-500"].map(w=>S.jsx("button",{type:"button",onClick:()=>b(w),className:`h-12 rounded-2xl border-4 transition-all active:scale-90 ${y===w?"border-white scale-110 shadow-glow":"border-transparent opacity-40"} ${w}`},w))})]})]}),S.jsx("button",{type:"submit",className:"w-full mt-12 py-8 bg-primary rounded-[2.5rem] font-display font-black text-sm uppercase tracking-[0.2em] shadow-glow active:scale-95 transition-all text-neutral-950",children:"SALVAR OBJETIVO"})]})]}):null},iF=({users:t,familyName:e,alertThreshold:n,onUpdateUser:r,onUpdateFamilySettings:i,currentTheme:s,onThemeToggle:l,onLogout:c,onForceSync:f,isSyncing:h})=>{const[p,m]=C.useState(t.A.income.toString()),[y,b]=C.useState(t.A.name),[w,E]=C.useState(t.A.avatar),[T,O]=C.useState(t.B.income.toString()),[j,z]=C.useState(t.B.name),[U,q]=C.useState(t.B.avatar),[V,N]=C.useState(e),[k,P]=C.useState(!1),[B,M]=C.useState(!1);C.useEffect(()=>{k||(b(t.A.name),m(t.A.income.toString()),E(t.A.avatar),z(t.B.name),O(t.B.income.toString()),q(t.B.avatar),N(e))},[t,e]);const F=C.useRef(null),L=C.useRef(null),pe=async()=>{P(!0),M(!1);const K={A:{...t.A,name:y,income:parseFloat(p)||0,avatar:w},B:{...t.B,name:j,income:parseFloat(T)||0,avatar:U}};r(t.A.id,K.A),r(t.B.id,K.B),i(V,n),await f(K,V,n),P(!1),M(!0),setTimeout(()=>M(!1),3e3)},Se=(parseFloat(p)||0)+(parseFloat(T)||0);return S.jsxs("div",{className:"space-y-8 animate-slide-up max-w-4xl mx-auto pb-24",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 px-2",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("h2",{className:"text-3xl font-display font-black text-neutral-900 dark:text-white uppercase tracking-tighter italic",children:"Configuraes"}),S.jsx("p",{className:"text-neutral-500 text-[10px] font-bold uppercase tracking-[0.2em]",children:"Personalize seu ecossistema financeiro"})]}),B&&S.jsxs("div",{className:"bg-emerald-500 text-white px-6 py-2 rounded-full font-black uppercase text-[10px] tracking-widest flex items-center space-x-2 animate-bounce",children:[S.jsx(kg,{size:14})," ",S.jsx("span",{children:"Sincronizado!"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"group relative p-8 bg-white dark:bg-neutral-900 border-2 border-primary/40 rounded-[2.5rem] space-y-8 shadow-xl transition-all hover:border-primary",children:[S.jsx("div",{className:"absolute top-6 right-8 text-[10px] font-black text-primary uppercase tracking-[0.3em]",children:"Perfil Principal"}),S.jsx("div",{className:"flex flex-col items-center",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"w-32 h-32 rounded-[2rem] border-4 border-primary/20 p-1 bg-neutral-100 dark:bg-neutral-800 shadow-2xl overflow-hidden transition-transform group-hover:scale-105",children:S.jsx("img",{src:w,alt:"User A",className:"w-full h-full rounded-[1.5rem] object-cover"})}),S.jsx("button",{onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},className:"absolute -bottom-2 -right-2 p-3 bg-primary text-neutral-950 rounded-2xl shadow-glow hover:scale-110 transition-transform active:scale-90",children:S.jsx(lN,{size:18,strokeWidth:2.5})}),S.jsx("input",{type:"file",ref:F,className:"hidden",accept:"image/*",onChange:K=>{var de;const re=(de=K.target.files)==null?void 0:de[0];if(re){const me=new FileReader;me.onloadend=()=>E(me.result),me.readAsDataURL(re)}}})]})}),S.jsxs("div",{className:"space-y-5",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest ml-1",children:"Nome de Exibio"}),S.jsx("input",{type:"text",value:y,onChange:K=>b(K.target.value),className:"w-full bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-2xl px-6 py-4 text-lg font-bold text-neutral-900 dark:text-white outline-none focus:border-primary transition-all"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest ml-1",children:"Renda Mensal"}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-neutral-400 font-bold",children:"R$"}),S.jsx("input",{type:"number",value:p,onChange:K=>m(K.target.value),className:"w-full pl-14 pr-6 py-5 bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-2xl text-2xl font-display font-black text-neutral-900 dark:text-white outline-none focus:border-primary transition-all"})]})]})]})]}),S.jsxs("div",{className:"group relative p-8 bg-white dark:bg-neutral-900 border-2 border-blue-500/40 rounded-[2.5rem] space-y-8 shadow-xl transition-all hover:border-blue-500",children:[S.jsx("div",{className:"absolute top-6 right-8 text-[10px] font-black text-blue-500 uppercase tracking-[0.3em]",children:"Co-Responsvel"}),S.jsx("div",{className:"flex flex-col items-center",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"w-32 h-32 rounded-[2rem] border-4 border-blue-500/20 p-1 bg-neutral-100 dark:bg-neutral-800 shadow-2xl overflow-hidden transition-transform group-hover:scale-105",children:S.jsx("img",{src:U,alt:"User B",className:"w-full h-full rounded-[1.5rem] object-cover"})}),S.jsx("button",{onClick:()=>{var K;return(K=L.current)==null?void 0:K.click()},className:"absolute -bottom-2 -right-2 p-3 bg-blue-500 text-white rounded-2xl shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:scale-110 transition-transform active:scale-90",children:S.jsx(lN,{size:18,strokeWidth:2.5})}),S.jsx("input",{type:"file",ref:L,className:"hidden",accept:"image/*",onChange:K=>{var de;const re=(de=K.target.files)==null?void 0:de[0];if(re){const me=new FileReader;me.onloadend=()=>q(me.result),me.readAsDataURL(re)}}})]})}),S.jsxs("div",{className:"space-y-5",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest ml-1",children:"Nome de Exibio"}),S.jsx("input",{type:"text",value:j,onChange:K=>z(K.target.value),className:"w-full bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-2xl px-6 py-4 text-lg font-bold text-neutral-900 dark:text-white outline-none focus:border-blue-500 transition-all"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest ml-1",children:"Renda Mensal"}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-neutral-400 font-bold",children:"R$"}),S.jsx("input",{type:"number",value:T,onChange:K=>O(K.target.value),className:"w-full pl-14 pr-6 py-5 bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-2xl text-2xl font-display font-black text-neutral-900 dark:text-white outline-none focus:border-blue-500 transition-all"})]})]})]})]})]}),S.jsxs("div",{className:"p-8 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-[2.5rem] shadow-sm",children:[S.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[S.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center text-primary border border-primary/20",children:S.jsx(hN,{size:24})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-widest",children:"Tema Visual"}),S.jsx("p",{className:"text-[10px] text-neutral-500 font-medium",children:"Adapte a interface ao seu estilo de uso."})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:()=>l("light"),className:`flex flex-col items-center justify-center space-y-3 p-8 rounded-[2rem] border-2 transition-all ${s==="light"?"border-primary bg-primary/5 shadow-glow":"border-neutral-100 dark:border-neutral-800 opacity-40 hover:opacity-70"}`,children:[S.jsx(hN,{size:28}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Modo Claro"})]}),S.jsxs("button",{onClick:()=>l("dark"),className:`flex flex-col items-center justify-center space-y-3 p-8 rounded-[2rem] border-2 transition-all ${s==="dark"?"border-primary bg-primary/5 shadow-glow":"border-neutral-100 dark:border-neutral-800 opacity-40 hover:opacity-70"}`,children:[S.jsx(PB,{size:28}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Modo Escuro"})]})]})]}),S.jsxs("div",{className:"sticky bottom-24 md:static bg-neutral-950 border border-neutral-800 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-[0_0_60px_rgba(0,0,0,0.6)] z-50 animate-in slide-in-from-bottom-4",children:[S.jsxs("div",{className:"flex items-center space-x-6",children:[S.jsx("div",{className:"p-6 bg-primary rounded-[2rem] shadow-glow transform hover:rotate-12 transition-transform",children:S.jsx(YB,{className:"w-8 h-8 text-neutral-950"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-neutral-400 text-[10px] font-black uppercase tracking-[0.25em] mb-1",children:"Renda Mensal Combinada"}),S.jsxs("p",{className:"text-white font-display font-bold text-4xl tracking-tighter",children:["R$ ",Se.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),S.jsx("button",{onClick:pe,disabled:h||k,className:`w-full md:w-auto min-w-[280px] flex items-center justify-center space-x-3 px-12 py-8 rounded-[2.5rem] font-black uppercase text-xs tracking-[0.3em] transition-all active:scale-95 ${h||k?"bg-emerald-500 text-white animate-pulse cursor-wait":"bg-primary text-neutral-950 shadow-glow hover:bg-yellow-300"}`,children:h||k?S.jsxs(S.Fragment,{children:[S.jsx(Pg,{className:"animate-spin",size:20}),S.jsx("span",{children:"Sincronizando..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(VB,{size:20}),S.jsx("span",{children:"Salvar na Nuvem"})]})})]}),S.jsx("div",{className:"pt-4 pb-12",children:S.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center space-x-3 px-8 py-6 border-2 border-red-500/20 text-red-500 rounded-[2rem] font-black uppercase text-[10px] tracking-widest hover:bg-red-500/5 transition-all",children:[S.jsx(cj,{size:18}),S.jsx("span",{children:"Encerrar Sesso do Casal"})]})})]})},aF=({items:t,onAdd:e,onToggle:n,onDelete:r})=>{const[i,s]=C.useState(""),[l,c]=C.useState({isOpen:!1,id:null}),f=t.filter(p=>!p.isDeleted),h=p=>{p.preventDefault(),i.trim()&&(e(i.trim()),s(""))};return S.jsxs("div",{className:"space-y-8 animate-slide-up pb-20",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"w-12 h-12 bg-neutral-100 dark:bg-neutral-900 rounded-2xl flex items-center justify-center text-2xl",children:""}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-white uppercase italic tracking-tighter",children:"Lista de Compras"}),S.jsx("p",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest",children:"Sincronizada em tempo real"})]})]}),S.jsxs("form",{onSubmit:h,className:"flex space-x-3",children:[S.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"O que precisamos comprar?",className:"flex-1 p-5 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl font-semibold outline-none focus:border-primary"}),S.jsx("button",{type:"submit",className:"bg-primary text-neutral-950 p-5 rounded-2xl shadow-glow active:scale-95",children:S.jsx(oy,{size:24,strokeWidth:3})})]}),S.jsxs("div",{className:"space-y-3",children:[f.map(p=>S.jsxs("div",{className:`flex items-center justify-between p-5 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl transition-all ${p.completed?"opacity-40":""}`,children:[S.jsxs("button",{onClick:()=>n(p.id),className:"flex items-center space-x-4 flex-1 text-left",children:[p.completed?S.jsx(fB,{size:24,className:"text-emerald-500",strokeWidth:3}):S.jsx(uj,{size:24,className:"text-neutral-300",strokeWidth:2}),S.jsx("span",{className:`text-lg font-bold italic ${p.completed?"line-through":""}`,children:p.text})]}),S.jsx("button",{onClick:()=>c({isOpen:!0,id:p.id}),className:"p-2 text-neutral-300 hover:text-red-500",children:S.jsx(bE,{size:20})})]},p.id)),f.length===0&&S.jsx("div",{className:"text-center py-20 bg-neutral-50 dark:bg-neutral-900/30 rounded-3xl border-2 border-dashed border-neutral-200",children:S.jsx("p",{className:"text-neutral-400 font-bold uppercase italic text-sm",children:"Nada por aqui! "})})]}),S.jsx(wE,{isOpen:l.isOpen,title:"Ocultar Item?",message:"Este item ser movido para o histrico oculto. Confirmar?",onConfirm:()=>{l.id&&r(l.id),c({isOpen:!1,id:null})},onCancel:()=>c({isOpen:!1,id:null})})]})};function gj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gj(t))&&(r&&(r+=" "),r+=e);return r}var sF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xE(t){if(typeof t!="string")return!1;var e=sF;return e.includes(t)}var oF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lF=new Set(oF);function vj(t){return typeof t!="string"?!1:lF.has(t)}function yj(t){return typeof t=="string"&&t.startsWith("data-")}function us(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(vj(n)||yj(n))&&(e[n]=t[n]);return e}function EE(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return us(e)}return typeof t=="object"&&!Array.isArray(t)?us(t):null}function pi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(vj(n)||yj(n)||xE(n))&&(e[n]=t[n]);return e}var uF=["children","width","height","viewBox","className","style","title","desc"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}function cF(t,e){if(t==null)return{};var n,r,i=fF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _j=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:f,desc:h}=t,p=cF(t,uF),m=s||{width:r,height:i,x:0,y:0},y=Pt("recharts-surface",l);return C.createElement("svg",Pw({},pi(p),{className:y,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),C.createElement("title",null,f),C.createElement("desc",null,h),n)}),hF=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function dF(t,e){if(t==null)return{};var n,r,i=pF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cs=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=dF(t,hF),s=Pt("recharts-layer",r);return C.createElement("g",Mw({className:s},pi(i),{ref:e}),n)}),bj=aj(),mF=C.createContext(null);function Tt(t){return function(){return t}}const wj=Math.cos,Dg=Math.sin,Hi=Math.sqrt,jg=Math.PI,ly=2*jg,Dw=Math.PI,jw=2*Dw,Cl=1e-6,gF=jw-Cl;function xj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xj;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let yF=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xj:vF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Cl)if(!(Math.abs(m*f-h*p)>Cl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,w=i-c,E=f*f+h*h,T=b*b+w*w,O=Math.sqrt(E),j=Math.sqrt(y),z=s*Math.tan((Dw-Math.acos((E+y-T)/(2*O*j)))/2),U=z/j,q=z/O;Math.abs(U-1)>Cl&&this._append`L${e+U*p},${n+U*m}`,this._append`A${s},${s},0,0,${+(m*b>p*w)},${this._x1=e+q*f},${this._y1=n+q*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,y=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Cl||Math.abs(this._y1-p)>Cl)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%jw+jw),y>gF?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:y>Cl&&this._append`A${r},${r},0,${+(y>=Dw)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function SE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yF(e)}function TE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ej(t){this._context=t}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uy(t){return new Ej(t)}function Sj(t){return t[0]}function Tj(t){return t[1]}function Aj(t,e){var n=Tt(!0),r=null,i=uy,s=null,l=SE(c);t=typeof t=="function"?t:t===void 0?Sj:Tt(t),e=typeof e=="function"?e:e===void 0?Tj:Tt(e);function c(f){var h,p=(f=TE(f)).length,m,y=!1,b;for(r==null&&(s=i(b=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(m,h,f),+e(m,h,f));if(b)return s=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function qm(t,e,n){var r=null,i=Tt(!0),s=null,l=uy,c=null,f=SE(h);t=typeof t=="function"?t:t===void 0?Sj:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Tj:Tt(+n);function h(m){var y,b,w,E=(m=TE(m)).length,T,O=!1,j,z=new Array(E),U=new Array(E);for(s==null&&(c=l(j=f())),y=0;y<=E;++y){if(!(y<E&&i(T=m[y],y,m))===O)if(O=!O)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=y-1;w>=b;--w)c.point(z[w],U[w]);c.lineEnd(),c.areaEnd()}O&&(z[y]=+t(T,y,m),U[y]=+e(T,y,m),c.point(r?+r(T,y,m):z[y],n?+n(T,y,m):U[y]))}if(j)return c=null,j+""||null}function p(){return Aj().defined(i).curve(l).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:Tt(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Tt(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Tt(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:Tt(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Tt(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Tt(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Tt(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),h):s},h}class Cj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _F(t){return new Cj(t,!0)}function bF(t){return new Cj(t,!1)}const AE={draw(t,e){const n=Hi(e/jg);t.moveTo(n,0),t.arc(0,0,n,0,ly)}},wF={draw(t,e){const n=Hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ij=Hi(1/3),xF=Ij*2,EF={draw(t,e){const n=Hi(e/xF),r=n*Ij;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},SF={draw(t,e){const n=Hi(e),r=-n/2;t.rect(r,r,n,n)}},TF=.8908130915292852,Oj=Dg(jg/10)/Dg(7*jg/10),AF=Dg(ly/10)*Oj,CF=-wj(ly/10)*Oj,IF={draw(t,e){const n=Hi(e*TF),r=AF*n,i=CF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=ly*s/5,c=wj(l),f=Dg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},Nb=Hi(3),OF={draw(t,e){const n=-Hi(e/(Nb*3));t.moveTo(0,n*2),t.lineTo(-Nb*n,-n),t.lineTo(Nb*n,-n),t.closePath()}},ui=-.5,ci=Hi(3)/2,Lw=1/Hi(12),NF=(Lw/2+1)*3,RF={draw(t,e){const n=Hi(e/NF),r=n/2,i=n*Lw,s=r,l=n*Lw+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(ui*r-ci*i,ci*r+ui*i),t.lineTo(ui*s-ci*l,ci*s+ui*l),t.lineTo(ui*c-ci*f,ci*c+ui*f),t.lineTo(ui*r+ci*i,ui*i-ci*r),t.lineTo(ui*s+ci*l,ui*l-ci*s),t.lineTo(ui*c+ci*f,ui*f-ci*c),t.closePath()}};function kF(t,e){let n=null,r=SE(i);t=typeof t=="function"?t:Tt(t||AE),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Lg(){}function Vg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Nj(t){this._context=t}Nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PF(t){return new Nj(t)}function Rj(t){this._context=t}Rj.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MF(t){return new Rj(t)}function kj(t){this._context=t}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DF(t){return new kj(t)}function Pj(t){this._context=t}Pj.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jF(t){return new Pj(t)}function dN(t){return t<0?-1:1}function pN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(dN(s)+dN(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function mN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rb(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function zg(t){this._context=t}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rb(this,this._t0,mN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rb(this,mN(this,n=pN(this,t,e)),n);break;default:Rb(this,this._t0,n=pN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Mj(t){this._context=new Dj(t)}(Mj.prototype=Object.create(zg.prototype)).point=function(t,e){zg.prototype.point.call(this,e,t)};function Dj(t){this._context=t}Dj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function LF(t){return new zg(t)}function VF(t){return new Mj(t)}function jj(t){this._context=t}jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gN(t),i=gN(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gN(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function zF(t){return new jj(t)}function cy(t,e){this._context=t,this._t=e}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UF(t){return new cy(t,.5)}function BF(t){return new cy(t,0)}function FF(t){return new cy(t,1)}function $l(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function qF(t,e){return t[e]}function $F(t){const e=[];return e.key=t,e}function HF(){var t=Tt([]),e=Vw,n=$l,r=qF;function i(s){var l=Array.from(t.apply(this,arguments),$F),c,f=l.length,h=-1,p;for(const m of s)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,s)]).data=m;for(c=0,p=TE(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Vw:typeof s=="function"?s:Tt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??$l,i):n},i}function GF(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}$l(t,e)}}function KF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}$l(t,e)}}function WF(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,y=p[r-1][1]||0,b=(m-y)/2,w=0;w<c;++w){var E=t[e[w]],T=E[r][1]||0,O=E[r-1][1]||0;b+=T-O}f+=m,h+=b*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,$l(t,e)}}var kb={},Pb={},vN;function YF(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Pb)),Pb}var Mb={},yN;function Lj(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Mb)),Mb}var Db={},_N;function CE(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Db)),Db}var jb={},Lb={},bN;function QF(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Lb)),Lb}var wN;function IE(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QF(),n=CE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const m=i[c];h?m==="\\"&&c+1<l?(c++,f+=i[c]):m===h?h="":f+=m:p?m==='"'||m==="'"?h=m:m==="]"?(p=!1,s.push(f),f=""):f+=m:m==="["?(p=!0,f&&(s.push(f),f="")):m==="."?f&&(s.push(f),f=""):f+=m,c++}return f&&s.push(f),s}t.toPath=r})(jb)),jb}var xN;function OE(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YF(),n=Lj(),r=CE(),i=IE();function s(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=c[f];return p===void 0?n.isDeepKey(f)?s(c,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=c[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(c,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=c[f];return p===void 0?h:p}}}function l(c,f,h){if(f.length===0)return h;let p=c;for(let m=0;m<f.length;m++){if(p==null||e.isUnsafeProperty(f[m]))return h;p=p[f[m]]}return p===void 0?h:p}t.get=s})(kb)),kb}var Vb,EN;function XF(){return EN||(EN=1,Vb=OE().get),Vb}var ZF=XF();const Ac=Oa(ZF);var JF=4;function To(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JF,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function $t(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+To(c)+s:i+s},"")}var Sr=t=>t===0?0:t>0?1:-1,Ui=t=>typeof t=="number"&&t!=+t,fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Te=t=>(typeof t=="number"||t instanceof Number)&&!Ui(t),Ta=t=>Te(t)||typeof t=="string",eq=0,Qh=t=>{var e=++eq;return"".concat(t||"").concat(e)},Bi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&typeof e!="string")return r;var s;if(fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ui(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Vj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Gn(t,e,n){return Te(t)&&Te(e)?To(t+n*(e-t)):e}function tq(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ac(r,e))===n)}var Dn=t=>t===null||typeof t>"u",Id=t=>Dn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function nq(t){return t!=null}function Od(){}var rq=["type","size","sizeType"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e,n){return(e=aq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aq(t){var e=sq(t,"string");return typeof e=="symbol"?e:e+""}function sq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oq(t,e){if(t==null)return{};var n,r,i=lq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zj={symbolCircle:AE,symbolCross:wF,symbolDiamond:EF,symbolSquare:SF,symbolStar:IF,symbolTriangle:OF,symbolWye:RF},uq=Math.PI/180,cq=t=>{var e="symbol".concat(Id(t));return zj[e]||AE},fq=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*uq;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hq=(t,e)=>{zj["symbol".concat(Id(t))]=e},Uj=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=oq(t,rq),s=TN(TN({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var y=cq(l),b=kF().type(y).size(fq(n,r,l)),w=b();if(w!==null)return w},{className:f,cx:h,cy:p}=s,m=pi(s);return Te(h)&&Te(p)&&Te(n)?C.createElement("path",zw({},m,{className:Pt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Uj.registerSymbol=hq;var Bj=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,dq=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{xE(i)&&(r[i]=(s=>n[i](n,s)))}),r},pq=(t,e,n)=>r=>(t(e,n,r),null),NE=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];xE(i)&&typeof s=="function"&&(r||(r={}),r[i]=pq(s,e,n))}),r};function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t,e,n){return(e=vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=yq(t,"string");return typeof e=="symbol"?e:e+""}function yq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yr(t,e){var n=mq({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var zb={},Ub={},CN;function _q(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Ub)),Ub}var Bb={},IN;function Fj(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Bb)),Bb}var Fb={},qb={},$b={},ON;function bq(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})($b)),$b}var NN;function RE(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bq();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(qb)),qb}var Hb={},RN;function wq(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Hb)),Hb}var kN;function xq(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=wq();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Fb)),Fb}var Gb={},Kb={},PN;function Eq(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Kb)),Kb}var Wb={},Yb={},Qb={},Xb={},MN;function qj(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Xb)),Xb}var Zb={},DN;function $j(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Zb)),Zb}var Jb={},jN;function Hj(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Jb)),Jb}var LN;function Sq(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qj(),n=$j(),r=Hj();function i(p,m,y){return typeof y!="function"?i(p,m,()=>{}):s(p,m,function b(w,E,T,O,j,z){const U=y(w,E,T,O,j,z);return U!==void 0?!!U:s(w,E,b,z)},new Map)}function s(p,m,y,b){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,y,b);case"function":return Object.keys(m).length>0?s(p,{...m},y,b):r.eq(p,m);default:return e.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,y,b){if(m==null)return!0;if(Array.isArray(m))return f(p,m,y,b);if(m instanceof Map)return c(p,m,y,b);if(m instanceof Set)return h(p,m,y,b);const w=Object.keys(m);if(p==null||n.isPrimitive(p))return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(m))return b.get(m)===p;b==null||b.set(m,p);try{for(let E=0;E<w.length;E++){const T=w[E];if(!n.isPrimitive(p)&&!(T in p)||m[T]===void 0&&p[T]!==void 0||m[T]===null&&p[T]!==null||!y(p[T],m[T],T,p,m,b))return!1}return!0}finally{b==null||b.delete(m)}}function c(p,m,y,b){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,E]of m.entries()){const T=p.get(w);if(y(T,E,w,p,m,b)===!1)return!1}return!0}function f(p,m,y,b){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let E=0;E<m.length;E++){const T=m[E];let O=!1;for(let j=0;j<p.length;j++){if(w.has(j))continue;const z=p[j];let U=!1;if(y(z,T,E,p,m,b)&&(U=!0),U){w.add(j),O=!0;break}}if(!O)return!1}return!0}function h(p,m,y,b){return m.size===0?!0:p instanceof Set?f([...p],[...m],y,b):!1}t.isMatchWith=i,t.isSetMatch=h})(Qb)),Qb}var VN;function Gj(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sq();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Yb)),Yb}var e1={},t1={},n1={},zN;function Tq(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(n1)),n1}var r1={},UN;function Kj(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(r1)),r1}var i1={},BN;function Wj(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",E="[object DataView]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",z="[object Uint32Array]",U="[object BigUint64Array]",q="[object Int8Array]",V="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",P="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=P,t.float64ArrayTag=B,t.functionTag=m,t.int16ArrayTag=V,t.int32ArrayTag=N,t.int8ArrayTag=q,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=z,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=O})(i1)),i1}var a1={},FN;function Aq(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(a1)),a1}var qN;function Yj(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tq(),n=Kj(),r=Wj(),i=$j(),s=Aq();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,y,b=new Map,w=void 0){const E=w==null?void 0:w(p,m,y,b);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const T=new Array(p.length);b.set(p,T);for(let O=0;O<p.length;O++)T[O]=c(p[O],O,y,b,w);return Object.hasOwn(p,"index")&&(T.index=p.index),Object.hasOwn(p,"input")&&(T.input=p.input),T}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const T=new RegExp(p.source,p.flags);return T.lastIndex=p.lastIndex,T}if(p instanceof Map){const T=new Map;b.set(p,T);for(const[O,j]of p)T.set(O,c(j,O,y,b,w));return T}if(p instanceof Set){const T=new Set;b.set(p,T);for(const O of p)T.add(c(O,void 0,y,b,w));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const T=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,T);for(let O=0;O<p.length;O++)T[O]=c(p[O],O,y,b,w);return T}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const T=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,T),f(T,p,y,b,w),T}if(typeof File<"u"&&p instanceof File){const T=new File([p],p.name,{type:p.type});return b.set(p,T),f(T,p,y,b,w),T}if(typeof Blob<"u"&&p instanceof Blob){const T=new Blob([p],{type:p.type});return b.set(p,T),f(T,p,y,b,w),T}if(p instanceof Error){const T=new p.constructor;return b.set(p,T),T.message=p.message,T.name=p.name,T.stack=p.stack,T.cause=p.cause,f(T,p,y,b,w),T}if(p instanceof Boolean){const T=new Boolean(p.valueOf());return b.set(p,T),f(T,p,y,b,w),T}if(p instanceof Number){const T=new Number(p.valueOf());return b.set(p,T),f(T,p,y,b,w),T}if(p instanceof String){const T=new String(p.valueOf());return b.set(p,T),f(T,p,y,b,w),T}if(typeof p=="object"&&h(p)){const T=Object.create(Object.getPrototypeOf(p));return b.set(p,T),f(T,p,y,b,w),T}return p}function f(p,m,y=p,b,w){const E=[...Object.keys(m),...e.getSymbols(m)];for(let T=0;T<E.length;T++){const O=E[T],j=Object.getOwnPropertyDescriptor(p,O);(j==null||j.writable)&&(p[O]=c(m[O],O,y,b,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(t1)),t1}var $N;function Cq(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(e1)),e1}var HN;function Iq(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj(),n=Cq();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Wb)),Wb}var s1={},o1={},l1={},GN;function Oq(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yj(),n=Wj();function r(i,s){return e.cloneDeepWith(i,(l,c,f,h)=>{const p=s==null?void 0:s(l,c,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(l1)),l1}var KN;function Nq(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oq();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(o1)),o1}var u1={},c1={},WN;function Qj(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(c1)),c1}var f1={},YN;function Rq(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kj();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(f1)),f1}var QN;function kq(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lj(),n=Qj(),r=Rq(),i=IE();function s(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const m=f[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}t.has=s})(u1)),u1}var XN;function Pq(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj(),n=CE(),r=Nq(),i=OE(),s=kq();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,c);return p===void 0?s.has(h,c):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(s1)),s1}var ZN;function Mq(){return ZN||(ZN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fj(),n=Eq(),r=Iq(),i=Pq();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Gb)),Gb}var JN;function Dq(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_q(),n=Fj(),r=xq(),i=Mq();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(zb)),zb}var h1,e2;function jq(){return e2||(e2=1,h1=Dq().uniqBy),h1}var Lq=jq();const t2=Oa(Lq);function Vq(t,e,n){return e===!0?t2(t,n):typeof e=="function"?t2(t,e):t}var d1={exports:{}},p1={},m1={exports:{}},g1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function zq(){if(n2)return g1;n2=1;var t=Gc();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),E=w[0].inst,T=w[1];return s(function(){E.value=b,E.getSnapshot=y,f(E)&&T({inst:E})},[m,b,y]),i(function(){return f(E)&&T({inst:E}),m(function(){f(E)&&T({inst:E})})},[m]),l(b),b}function f(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return g1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,g1}var r2;function Uq(){return r2||(r2=1,m1.exports=zq()),m1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function Bq(){if(i2)return p1;i2=1;var t=Gc(),e=Uq();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return p1.useSyncExternalStoreWithSelector=function(h,p,m,y,b){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function O(V){if(!j){if(j=!0,z=V,V=y(V),b!==void 0&&E.hasValue){var N=E.value;if(b(N,V))return U=N}return U=V}if(N=U,r(z,V))return N;var k=y(V);return b!==void 0&&b(N,k)?(z=V,N):(z=V,U=k)}var j=!1,z,U,q=m===void 0?null:m;return[function(){return O(p())},q===null?void 0:function(){return O(q())}]},[p,m,y,b]);var T=i(h,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},p1}var a2;function Fq(){return a2||(a2=1,d1.exports=Bq()),d1.exports}var qq=Fq(),kE=C.createContext(null),$q=t=>t,Jt=()=>{var t=C.useContext(kE);return t?t.store.dispatch:$q},mg=()=>{},Hq=()=>mg,Gq=(t,e)=>t===e;function ke(t){var e=C.useContext(kE);return qq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Hq,e?e.store.getState:mg,e?e.store.getState:mg,e?t:mg,Gq)}function Kq(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Wq(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Yq(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var s2=t=>Array.isArray(t)?t:[t];function Qq(t){const e=Array.isArray(t[0])?t[0]:t;return Yq(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Xq(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Zq=class{constructor(t){this.value=t}deref(){return this.value}},Jq=typeof WeakRef<"u"?WeakRef:Zq,e7=0,o2=1;function $m(){return{s:e7,v:void 0,o:null,p:null}}function Xj(t,e={}){let n=$m();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var m;let c=n;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const T=E.get(w);T===void 0?(c=$m(),E.set(w,c)):c=T}else{let E=c.p;E===null&&(c.p=E=new Map);const T=E.get(w);T===void 0?(c=$m(),E.set(w,c)):c=T}}const h=c;let p;if(c.s===o2)p=c.v;else if(p=t.apply(null,arguments),s++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,p)&&(p=y,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Jq(p):p}return h.s=o2,h.v=p,p}return l.clearCache=()=>{n=$m(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function t7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),Kq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:m,memoizeOptions:y=[],argsMemoize:b=Xj,argsMemoizeOptions:w=[]}=p,E=s2(y),T=s2(w),O=Qq(i),j=m(function(){return s++,h.apply(null,arguments)},...E),z=b(function(){l++;const q=Xq(O,arguments);return c=j.apply(null,q),c},...T);return Object.assign(z,{resultFunc:h,memoizedResultFunc:j,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ne=t7(Xj),n7=Object.assign((t,e=ne)=>{Wq(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>n7}),v1={},y1={},_1={},l2;function r7(){return l2||(l2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(_1)),_1}var b1={},w1={},u2;function Zj(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(w1)),w1}var c2;function i7(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zj(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(b1)),b1}var f2;function a7(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r7(),n=i7(),r=IE();function i(s,l,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,w)=>{let E=b;for(let T=0;T<w.length&&E!=null;++T)E=E[w[T]];return E},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,m=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:m.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let E=0;E<m.length;E++){const T=e.compareValues(b.criteria[E],w.criteria[E],c[E]);if(T!==0)return T}return 0}).map(b=>b.original)}t.orderBy=i})(y1)),y1}var x1={},h2;function s7(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,f)=>{for(let h=0;h<c.length;h++){const p=c[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(x1)),x1}var E1={},d2;function Jj(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qj(),n=RE(),r=qj(),i=Hj();function s(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=s})(E1)),E1}var p2;function o7(){return p2||(p2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a7(),n=s7(),r=Jj();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(v1)),v1}var S1,m2;function l7(){return m2||(m2=1,S1=o7().sortBy),S1}var u7=l7();const fy=Oa(u7);var e4=t=>t.legend.settings,c7=t=>t.legend.size,f7=t=>t.legend.payload;ne([f7,e4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?fy(r,n):r});var Hm=1;function h7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Hm||Math.abs(l.left-e.left)>Hm||Math.abs(l.top-e.top)>Hm||Math.abs(l.width-e.width)>Hm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function $n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var d7=typeof Symbol=="function"&&Symbol.observable||"@@observable",g2=d7,T1=()=>Math.random().toString(36).substring(7).split("").join("."),p7={INIT:`@@redux/INIT${T1()}`,REPLACE:`@@redux/REPLACE${T1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T1()}`},Ug=p7;function PE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function t4(t,e,n){if(typeof t!="function")throw new Error($n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($n(1));return n(t4)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((T,O)=>{l.set(O,T)}))}function p(){if(f)throw new Error($n(3));return i}function m(T){if(typeof T!="function")throw new Error($n(4));if(f)throw new Error($n(5));let O=!0;h();const j=c++;return l.set(j,T),function(){if(O){if(f)throw new Error($n(6));O=!1,h(),l.delete(j),s=null}}}function y(T){if(!PE(T))throw new Error($n(7));if(typeof T.type>"u")throw new Error($n(8));if(typeof T.type!="string")throw new Error($n(17));if(f)throw new Error($n(9));try{f=!0,i=r(i,T)}finally{f=!1}return(s=l).forEach(j=>{j()}),T}function b(T){if(typeof T!="function")throw new Error($n(10));r=T,y({type:Ug.REPLACE})}function w(){const T=m;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error($n(11));function j(){const U=O;U.next&&U.next(p())}return j(),{unsubscribe:T(j)}},[g2](){return this}}}return y({type:Ug.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:b,[g2]:w}}function m7(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ug.INIT})>"u")throw new Error($n(12));if(typeof n(void 0,{type:Ug.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function n4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{m7(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const m=r[p],y=n[m],b=l[m],w=y(b,c);if(typeof w>"u")throw c&&c.type,new Error($n(14));h[m]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Bg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function g7(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error($n(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},c=t.map(f=>f(l));return s=Bg(...c)(i.dispatch),{...i,dispatch:s}}}function r4(t){return PE(t)&&"type"in t&&typeof t.type=="string"}var i4=Symbol.for("immer-nothing"),v2=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hr=Object,Cc=Hr.getPrototypeOf,Fg="constructor",hy="prototype",Uw="configurable",qg="enumerable",gg="writable",Xh="value",hs=t=>!!t&&!!t[dr];function Fi(t){var e;return t?a4(t)||dy(t)||!!t[v2]||!!((e=t[Fg])!=null&&e[v2])||py(t)||my(t):!1}var v7=Hr[hy][Fg].toString(),y2=new WeakMap;function a4(t){if(!t||!ME(t))return!1;const e=Cc(t);if(e===null||e===Hr[hy])return!0;const n=Hr.hasOwnProperty.call(e,Fg)&&e[Fg];if(n===Object)return!0;if(!oc(n))return!1;let r=y2.get(n);return r===void 0&&(r=Function.toString.call(n),y2.set(n,r)),r===v7}function Nd(t,e,n=!0){Rd(t)===0?(n?Reflect.ownKeys(t):Hr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Rd(t){const e=t[dr];return e?e.type_:dy(t)?1:py(t)?2:my(t)?3:0}var _2=(t,e,n=Rd(t))=>n===2?t.has(e):Hr[hy].hasOwnProperty.call(t,e),Bw=(t,e,n=Rd(t))=>n===2?t.get(e):t[e],$g=(t,e,n,r=Rd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function y7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var dy=Array.isArray,py=t=>t instanceof Map,my=t=>t instanceof Set,ME=t=>typeof t=="object",oc=t=>typeof t=="function",A1=t=>typeof t=="boolean";function _7(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Qa=t=>t.copy_||t.base_,DE=t=>t.modified_?t.copy_:t.base_;function Fw(t,e){if(py(t))return new Map(t);if(my(t))return new Set(t);if(dy(t))return Array[hy].slice.call(t);const n=a4(t);if(e===!0||e==="class_only"&&!n){const r=Hr.getOwnPropertyDescriptors(t);delete r[dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[gg]===!1&&(c[gg]=!0,c[Uw]=!0),(c.get||c.set)&&(r[l]={[Uw]:!0,[gg]:!0,[qg]:c[qg],[Xh]:t[l]})}return Hr.create(Cc(t),r)}else{const r=Cc(t);if(r!==null&&n)return{...t};const i=Hr.create(r);return Hr.assign(i,t)}}function jE(t,e=!1){return gy(t)||hs(t)||!Fi(t)||(Rd(t)>1&&Hr.defineProperties(t,{set:Gm,add:Gm,clear:Gm,delete:Gm}),Hr.freeze(t),e&&Nd(t,(n,r)=>{jE(r,!0)},!1)),t}function b7(){Ni(2)}var Gm={[Xh]:b7};function gy(t){return t===null||!ME(t)?!0:Hr.isFrozen(t)}var Hg="MapSet",qw="Patches",b2="ArrayMethods",s4={};function Hl(t){const e=s4[t];return e||Ni(0,t),e}var w2=t=>!!s4[t],Zh,o4=()=>Zh,w7=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:w2(Hg)?Hl(Hg):void 0,arrayMethodsPlugin_:w2(b2)?Hl(b2):void 0});function x2(t,e){e&&(t.patchPlugin_=Hl(qw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $w(t){Hw(t),t.drafts_.forEach(x7),t.drafts_=null}function Hw(t){t===Zh&&(Zh=t.parent_)}var E2=t=>Zh=w7(Zh,t);function x7(t){const e=t[dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function S2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[dr].modified_&&($w(e),Ni(4)),Fi(t)&&(t=T2(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[dr].base_,t,e)}else t=T2(e,n);return E7(e,t,!0),$w(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==i4?t:void 0}function T2(t,e){if(gy(e))return e;const n=e[dr];if(!n)return LE(e,t.handledSet_,t);if(!vy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);c4(n,t)}return n.copy_}function E7(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jE(e,n)}function l4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var vy=(t,e)=>t.scope_===e,S7=[];function u4(t,e,n,r){const i=Qa(t),s=t.type_;if(r!==void 0&&Bw(i,r,s)===e){$g(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Nd(i,(f,h)=>{if(hs(h)){const p=c.get(h)||[];p.push(f),c.set(h,p)}})}const l=t.draftLocations_.get(e)??S7;for(const c of l)$g(i,c,n,s)}function T7(t,e,n){t.callbacks_.push(function(i){var c;const s=e;if(!s||!vy(s,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(s);const l=DE(s);u4(t,s.draft_??s,l,n),c4(s,i)})}function c4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}l4(t)}}function A7(t,e,n){const{scope_:r}=t;if(hs(n)){const i=n[dr];vy(i,r)&&i.callbacks_.push(function(){vg(t);const l=DE(i);u4(t,n,l,e)})}else Fi(n)&&t.callbacks_.push(function(){const s=Qa(t);Bw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&LE(Bw(t.copy_,e,t.type_),r.handledSet_,r)})}function LE(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(t)||e.has(t)||!Fi(t)||gy(t)||(e.add(t),Nd(t,(r,i)=>{if(hs(i)){const s=i[dr];if(vy(s,n)){const l=DE(s);$g(t,r,l,t.type_),l4(s)}}else Fi(i)&&LE(i,e,n)})),t}function C7(t,e){const n=dy(t),r={type_:n?1:0,scope_:e?e.scope_:o4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=VE;n&&(i=[r],s=Jh);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var VE={get(t,e){if(e===dr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Qa(t);if(!_2(i,e,t.type_))return I7(t,i,e);const s=i[e];if(t.finalized_||!Fi(s)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&_7(e))return s;if(s===C1(t.base_,e)){vg(t);const l=t.type_===1?+e:e,c=Kw(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Qa(t)},ownKeys(t){return Reflect.ownKeys(Qa(t))},set(t,e,n){const r=f4(Qa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=C1(Qa(t),e),s=i==null?void 0:i[dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(y7(n,i)&&(n!==void 0||_2(t.base_,e,t.type_)))return!0;vg(t),Gw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),A7(t,e,n)),!0},deleteProperty(t,e){return vg(t),C1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Gw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[gg]:!0,[Uw]:t.type_!==1||e!=="length",[qg]:r[qg],[Xh]:n[e]}},defineProperty(){Ni(11)},getPrototypeOf(t){return Cc(t.base_)},setPrototypeOf(){Ni(12)}},Jh={};Nd(VE,(t,e)=>{Jh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Jh.deleteProperty=function(t,e){return Jh.set.call(this,t,e,void 0)};Jh.set=function(t,e,n){return VE.set.call(this,t[0],e,n,t[0])};function C1(t,e){const n=t[dr];return(n?Qa(n):t)[e]}function I7(t,e,n){var i;const r=f4(e,n);return r?Xh in r?r[Xh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function f4(t,e){if(!(e in t))return;let n=Cc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cc(n)}}function Gw(t){t.modified_||(t.modified_=!0,t.parent_&&Gw(t.parent_))}function vg(t){t.copy_||(t.assigned_=new Map,t.copy_=Fw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var O7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(oc(n)&&!oc(r)){const l=r;r=n;const c=this;return function(h=l,...p){return c.produce(h,m=>r.call(this,m,...p))}}oc(r)||Ni(6),i!==void 0&&!oc(i)&&Ni(7);let s;if(Fi(n)){const l=E2(this),c=Kw(l,n,void 0);let f=!0;try{s=r(c),f=!1}finally{f?$w(l):Hw(l)}return x2(l,i),S2(s,l)}else if(!n||!ME(n)){if(s=r(n),s===void 0&&(s=n),s===i4&&(s=void 0),this.autoFreeze_&&jE(s,!0),i){const l=[],c=[];Hl(qw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else Ni(1,n)},this.produceWithPatches=(n,r)=>{if(oc(n))return(c,...f)=>this.produceWithPatches(c,h=>n(h,...f));let i,s;return[this.produce(n,r,(c,f)=>{i=c,s=f}),i,s]},A1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),A1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),A1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Fi(e)||Ni(8),hs(e)&&(e=Li(e));const n=E2(this),r=Kw(n,e,void 0);return r[dr].isManual_=!0,Hw(n),r}finishDraft(e,n){const r=e&&e[dr];(!r||!r.isManual_)&&Ni(9);const{scope_:i}=r;return x2(i,n),S2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Hl(qw).applyPatches_;return hs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Kw(t,e,n,r){const[i,s]=py(e)?Hl(Hg).proxyMap_(e,n):my(e)?Hl(Hg).proxySet_(e,n):C7(e,n);return((n==null?void 0:n.scope_)??o4()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?T7(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function Li(t){return hs(t)||Ni(10,t),h4(t)}function h4(t){if(!Fi(t)||gy(t))return t;const e=t[dr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Fw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Fw(t,!0);return Nd(n,(i,s)=>{$g(n,i,h4(s))},r),e&&(e.finalized_=!1),n}var N7=new O7,d4=N7.produce;function p4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var R7=p4(),k7=p4,P7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bg:Bg.apply(null,arguments)};function mi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Kr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>r4(r)&&r.type===t,n}var m4=class Oh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Oh.prototype)}static get[Symbol.species](){return Oh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Oh(...e[0].concat(this)):new Oh(...e.concat(this))}};function A2(t){return Fi(t)?d4(t,()=>{}):t}function Km(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function M7(t){return typeof t=="boolean"}var D7=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new m4;return n&&(M7(n)?l.push(R7):l.push(k7(n.extraArgument))),l},g4="RTK_autoBatch",jt=()=>t=>({payload:t,meta:{[g4]:!0}}),C2=t=>e=>{setTimeout(e,t)},v4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:C2(10):t.type==="callback"?t.queueNotification:C2(t.timeout),h=()=>{l=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),y=r.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[g4]),s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},j7=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new m4(t);return r&&i.push(v4(typeof r=="object"?r:void 0)),i};function L7(t){const e=D7(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(PE(n))c=n4(n);else throw new Error(Kr(1));let f;typeof r=="function"?f=r(e):f=e();let h=Bg;i&&(h=P7({trace:!1,...typeof i=="object"&&i}));const p=g7(...f),m=j7(p);let y=typeof l=="function"?l(m):m();const b=h(...y);return t4(c,s,b)}function y4(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Kr(28));if(c in e)throw new Error(Kr(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function V7(t){return typeof t=="function"}function z7(t,e){let[n,r,i]=y4(e),s;if(V7(t))s=()=>A2(t());else{const c=A2(t);s=()=>c}function l(c=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,m)=>{if(m)if(hs(p)){const b=m(p,f);return b===void 0?p:b}else{if(Fi(p))return d4(p,y=>m(y,f));{const y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return l.getInitialState=s,l}var U7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",B7=(t=21)=>{let e="",n=t;for(;n--;)e+=U7[Math.random()*64|0];return e},F7=Symbol.for("rtk-slice-createasyncthunk");function q7(t,e){return`${t}/${e}`}function $7({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[F7];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Kr(11));const c=(typeof i.reducers=="function"?i.reducers(G7()):i.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(U,q){const V=typeof U=="string"?U:U.type;if(!V)throw new Error(Kr(12));if(V in h.sliceCaseReducersByType)throw new Error(Kr(13));return h.sliceCaseReducersByType[V]=q,p},addMatcher(U,q){return h.sliceMatchers.push({matcher:U,reducer:q}),p},exposeAction(U,q){return h.actionCreators[U]=q,p},exposeCaseReducer(U,q){return h.sliceCaseReducersByName[U]=q,p}};f.forEach(U=>{const q=c[U],V={reducerName:U,type:q7(s,U),createNotation:typeof i.reducers=="function"};W7(q)?Q7(V,q,p,e):K7(V,q,p)});function m(){const[U={},q=[],V=void 0]=typeof i.extraReducers=="function"?y4(i.extraReducers):[i.extraReducers],N={...U,...h.sliceCaseReducersByType};return z7(i.initialState,k=>{for(let P in N)k.addCase(P,N[P]);for(let P of h.sliceMatchers)k.addMatcher(P.matcher,P.reducer);for(let P of q)k.addMatcher(P.matcher,P.reducer);V&&k.addDefaultCase(V)})}const y=U=>U,b=new Map,w=new WeakMap;let E;function T(U,q){return E||(E=m()),E(U,q)}function O(){return E||(E=m()),E.getInitialState()}function j(U,q=!1){function V(k){let P=k[U];return typeof P>"u"&&q&&(P=Km(w,V,O)),P}function N(k=y){const P=Km(b,q,()=>new WeakMap);return Km(P,k,()=>{const B={};for(const[M,F]of Object.entries(i.selectors??{}))B[M]=H7(F,k,()=>Km(w,k,O),q);return B})}return{reducerPath:U,getSelectors:N,get selectors(){return N(V)},selectSlice:V}}const z={name:s,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...j(l),injectInto(U,{reducerPath:q,...V}={}){const N=q??l;return U.inject({reducerPath:N,reducer:T},V),{...z,...j(N,!0)}}};return z}}function H7(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Or=$7();function G7(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function K7({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Y7(r))throw new Error(Kr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?mi(t,l):mi(t))}function W7(t){return t._reducerDefinitionType==="asyncThunk"}function Y7(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Q7({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Kr(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:f,settled:h,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),f&&r.addCase(m.rejected,f),h&&r.addMatcher(m.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Wm,pending:c||Wm,rejected:f||Wm,settled:h||Wm})}function Wm(){}var X7="task",_4="listener",b4="completed",zE="cancelled",Z7=`task-${zE}`,J7=`task-${b4}`,Ww=`${_4}-${zE}`,e$=`${_4}-${b4}`,yy=class{constructor(t){Eb(this,"name","TaskAbortError");Eb(this,"message");this.code=t,this.message=`${X7} ${zE} (reason: ${t})`}},UE=(t,e)=>{if(typeof t!="function")throw new TypeError(Kr(32))},Gg=()=>{},w4=(t,e=Gg)=>(t.catch(e),t),x4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),zl=t=>{if(t.aborted)throw new yy(t.reason)};function E4(t,e){let n=Gg;return new Promise((r,i)=>{const s=()=>i(new yy(t.reason));if(t.aborted){s();return}n=x4(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Gg})}var t$=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof yy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Kg=t=>e=>w4(E4(t,e).then(n=>(zl(t),n))),S4=t=>{const e=Kg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:gc}=Object,I2={},_y="listenerMiddleware",n$=(t,e)=>{const n=r=>x4(t,()=>r.abort(t.reason));return(r,i)=>{UE(r);const s=new AbortController;n(s);const l=t$(async()=>{zl(t),zl(s.signal);const c=await r({pause:Kg(s.signal),delay:S4(s.signal),signal:s.signal});return zl(s.signal),c},()=>s.abort(J7));return i!=null&&i.autoJoin&&e.push(l.catch(Gg)),{result:Kg(t)(l),cancel(){s.abort(Z7)}}}},r$=(t,e)=>{const n=async(r,i)=>{zl(e);let s=()=>{};const c=[new Promise((f,h)=>{let p=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),f([m,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await E4(e,Promise.race(c));return zl(e),f}finally{s()}};return(r,i)=>w4(n(r,i))},T4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=mi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Kr(21));return UE(s),{predicate:i,type:e,effect:s}},A4=gc(t=>{const{type:e,predicate:n,effect:r}=T4(t);return{id:B7(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Kr(22))}}},{withTypes:()=>A4}),O2=(t,e)=>{const{type:n,effect:r,predicate:i}=T4(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Yw=t=>{t.pending.forEach(e=>{e.abort(Ww)})},i$=(t,e)=>()=>{for(const n of e.keys())Yw(n);t.clear()},N2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},C4=gc(mi(`${_y}/add`),{withTypes:()=>C4}),a$=mi(`${_y}/removeAll`),I4=gc(mi(`${_y}/remove`),{withTypes:()=>I4}),s$=(...t)=>{console.error(`${_y}/error`,...t)},kd=(t={})=>{const e=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:s,onError:l=s$}=t;UE(l);const c=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&Yw(b)}),f=b=>{const w=O2(e,b)??A4(b);return c(w)};gc(f,{withTypes:()=>f});const h=b=>{const w=O2(e,b);return w&&(w.unsubscribe(),b.cancelActive&&Yw(w)),!!w};gc(h,{withTypes:()=>h});const p=async(b,w,E,T)=>{const O=new AbortController,j=r$(f,O.signal),z=[];try{b.pending.add(O),r(b),await Promise.resolve(b.effect(w,gc({},E,{getOriginalState:T,condition:(U,q)=>j(U,q).then(Boolean),take:j,delay:S4(O.signal),pause:Kg(O.signal),extra:s,signal:O.signal,fork:n$(O.signal,z),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((U,q,V)=>{U!==O&&(U.abort(Ww),V.delete(U))})},cancel:()=>{O.abort(Ww),b.pending.delete(O)},throwIfCancelled:()=>{zl(O.signal)}})))}catch(U){U instanceof yy||N2(l,U,{raisedBy:"effect"})}finally{await Promise.all(z),O.abort(e$),i(b),b.pending.delete(O)}},m=i$(e,n);return{middleware:b=>w=>E=>{if(!r4(E))return w(E);if(C4.match(E))return f(E.payload);if(a$.match(E)){m();return}if(I4.match(E))return h(E.payload);let T=b.getState();const O=()=>{if(T===I2)throw new Error(Kr(23));return T};let j;try{if(j=w(E),e.size>0){const z=b.getState(),U=Array.from(e.values());for(const q of U){let V=!1;try{V=q.predicate(E,z,T)}catch(N){V=!1,N2(l,N,{raisedBy:"predicate"})}V&&p(q,E,b,O)}}}finally{T=I2}return j},startListening:f,stopListening:h,clearListeners:m}};function Kr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var o$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},O4=Or({name:"chartLayout",initialState:o$,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:l$,setLayout:u$,setChartSize:c$,setScale:f$}=O4.actions,h$=O4.reducer;function N4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ut(t){return Number.isFinite(t)}function Aa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){d$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d$(t,e,n){return(e=p$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=m$(t,"string");return typeof e=="symbol"?e:e+""}function m$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return Dn(t)||Dn(e)?n:Ta(e)?Ac(t,e,n):typeof e=="function"?e(t):n}var g$=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Te(t[s]))return hc(hc({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Te(t[l]))return hc(hc({},t),{},{[l]:t[l]+(i||0)})}return t},su=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",R4=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,s,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||l.push(e),s||l.push(n),l},k4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:y,axisType:b}=t;if(!l)return null;var w=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(E=b==="angleAxis"&&s&&s.length>=2?Sr(s[0]-s[1])*2*E:E,m||y){var T=(m||y||[]).map((O,j)=>{var z=r?r.indexOf(O):O;return{coordinate:l(z)+E,value:O,offset:E,index:j}});return T.filter(O=>!Ui(O.coordinate))}return f&&h?h.map((O,j)=>({coordinate:l(O)+E,value:O,index:j,offset:E})):l.ticks&&p!=null?l.ticks(p).map((O,j)=>({coordinate:l(O)+E,value:O,offset:E,index:j})):l.domain().map((O,j)=>({coordinate:l(O)+E,value:r?r[O]:O,index:j,offset:E}))},k2=1e-4,v$=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-k2,s=Math.max(r[0],r[1])+k2,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},y$=(t,e)=>{if(!e||e.length!==2||!Te(e[0])||!Te(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Te(t[0])||t[0]<n)&&(i[0]=n),(!Te(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},_$=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var f=t[c],h=f==null?void 0:f[i];if(h!=null){var p=h[1],m=h[0],y=Ui(p)?m:p;y>=0?(h[0]=s,h[1]=s+y,s=p):(h[0]=l,h[1]=l+y,l=p)}}}},b$=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],f=c==null?void 0:c[i];if(f!=null){var h=Ui(f[1])?f[0]:f[1];h>=0?(f[0]=s,f[1]=s+h,s=f[1]):(f[0]=0,f[1]=0)}}}},w$={sign:_$,expand:GF,none:$l,silhouette:KF,wiggle:WF,positive:b$},x$=(t,e,n)=>{var r,i=(r=w$[n])!==null&&r!==void 0?r:$l,s=HF().keys(e).value((c,f)=>Number(Xn(c,f,0))).order(Vw).offset(i),l=s(t);return l.forEach((c,f)=>{c.forEach((h,p)=>{var m=Xn(t[p],e[f],0);Array.isArray(m)&&m.length===2&&Te(m[0])&&Te(m[1])&&(h[0]=m[0],h[1]=m[1])})}),l};function E$(t){return t==null?void 0:String(t)}var P2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=Xn(s,e.dataKey,e.scale.domain()[l]);return Dn(c)?null:e.scale(c)-i/2+r},S$=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},T$=t=>{var e=t.flat(2).filter(Te);return[Math.min(...e),Math.max(...e)]},A$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],C$=(t,e,n)=>{if(t!=null)return A$(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((f,h)=>{var p=N4(h,e,n),m=T$(p);return!Ut(m[0])||!Ut(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},M2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=fy(e,p=>p.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var f=i[l],h=i[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((h==null?void 0:h.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function j2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return hc(hc({},e),{},{dataKey:n,payload:r,value:i,name:s})}function P4(t,e){if(t)return String(t);if(typeof e=="string")return e}var I$=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},O$=(t,e)=>e==="centric"?t.angle:t.radius,Ss=t=>t.layout.width,Ts=t=>t.layout.height,N$=t=>t.layout.scale,M4=t=>t.layout.margin,by=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),wy=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),R$="data-recharts-item-index",k$="data-recharts-item-id",Pd=60;function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){P$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P$(t,e,n){return(e=M$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=D$(t,"string");return typeof e=="symbol"?e:e+""}function D$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j$=t=>t.brush.height;function L$(t){var e=wy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pd;return n+i}return n},0)}function V$(t){var e=wy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pd;return n+i}return n},0)}function z$(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function U$(t){var e=by(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var jn=ne([Ss,Ts,M4,j$,L$,V$,z$,U$,e4,c7],(t,e,n,r,i,s,l,c,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=Ym(Ym({},m),p),b=y.bottom;y.bottom+=r,y=g$(y,f,h);var w=t-y.left-y.right,E=e-y.top-y.bottom;return Ym(Ym({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(E,0)})}),B$=ne(jn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BE=ne(Ss,Ts,(t,e)=>({x:0,y:0,width:t,height:e})),F$=C.createContext(null),Nr=()=>C.useContext(F$)!=null,xy=t=>t.brush,Ey=ne([xy,jn,M4],(t,e,n)=>({height:t.height,x:Te(t.x)?t.x:e.left,y:Te(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Te(t.width)?t.width:e.width})),I1={},O1={},N1={},V2;function q$(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{h&&p(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{w(),l=void 0,c=null},T=()=>{p()},O=function(...j){if(i!=null&&i.aborted)return;l=this,c=j;const z=y==null;b(),f&&z&&p()};return O.schedule=b,O.cancel=E,O.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(N1)),N1}var z2;function $$(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let p,m=null;const y=e.debounce(function(...E){p=r.apply(this,E),m=null},i,{edges:h}),b=function(...E){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(p=r.apply(this,E),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},w=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=w,b}t.debounce=n})(O1)),O1}var U2;function H$(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$$();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(I1)),I1}var R1,B2;function G$(){return B2||(B2=1,R1=H$().throttle),R1}var K$=G$();const W$=Oa(K$);var Yg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},D4=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=fs(r)?t:Number(r),f=fs(i)?e:Number(i);return s&&s>0&&(c?f=c/s:f&&(c=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},Y$={width:0,height:0,overflow:"visible"},Q$={width:0,overflowX:"visible"},X$={height:0,overflowY:"visible"},Z$={},J$=t=>{var{width:e,height:n}=t,r=fs(e),i=fs(n);return r&&i?Y$:r?Q$:i?X$:Z$};function eH(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){tH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tH(t,e,n){return(e=nH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=rH(t,"string");return typeof e=="symbol"?e:e+""}function rH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j4=C.createContext({width:-1,height:-1});function iH(t){return Aa(t.width)&&Aa(t.height)}function L4(t){var{children:e,width:n,height:r}=t,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return iH(i)?C.createElement(j4.Provider,{value:i},e):null}var FE=()=>C.useContext(j4),aH=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:f,children:h,debounce:p=0,id:m,className:y,onResize:b,style:w={}}=t,E=C.useRef(null),T=C.useRef();T.current=b,C.useImperativeHandle(e,()=>E.current);var[O,j]=C.useState({containerWidth:r.width,containerHeight:r.height}),z=C.useCallback((k,P)=>{j(B=>{var M=Math.round(k),F=Math.round(P);return B.containerWidth===M&&B.containerHeight===F?B:{containerWidth:M,containerHeight:F}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Od;var k=F=>{var L,{width:pe,height:Se}=F[0].contentRect;z(pe,Se),(L=T.current)===null||L===void 0||L.call(T,pe,Se)};p>0&&(k=W$(k,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(k),{width:B,height:M}=E.current.getBoundingClientRect();return z(B,M),P.observe(E.current),()=>{P.disconnect()}},[z,p]);var{containerWidth:U,containerHeight:q}=O;Yg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:V,calculatedHeight:N}=D4(U,q,{width:i,height:s,aspect:n,maxHeight:f});return Yg(V!=null&&V>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,N,i,s,l,c,n),C.createElement("div",{id:m?"".concat(m):void 0,className:Pt("recharts-responsive-container",y),style:q2(q2({},w),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:f}),ref:E},C.createElement("div",{style:J$({width:i,height:s})},C.createElement(L4,{width:V,height:N},h)))}),sH=C.forwardRef((t,e)=>{var n=FE();if(Aa(n.width)&&Aa(n.height))return t.children;var{width:r,height:i}=eH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=D4(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Te(s)&&Te(l)?C.createElement(L4,{width:s,height:l},t.children):C.createElement(aH,Qw({},t,{width:r,height:i,ref:e}))});function V4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Sy=()=>{var t,e=Nr(),n=ke(B$),r=ke(Ey),i=(t=ke(xy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},oH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z4=()=>{var t;return(t=ke(jn))!==null&&t!==void 0?t:oH},U4=()=>ke(Ss),B4=()=>ke(Ts),gt=t=>t.layout.layoutType,Md=()=>ke(gt),lH=()=>{var t=Md();return t!==void 0},Ty=t=>{var e=Jt(),n=Nr(),{width:r,height:i}=t,s=FE(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),C.useEffect(()=>{!n&&Aa(l)&&Aa(c)&&e(c$({width:l,height:c}))},[e,n,l,c]),null},F4=Symbol.for("immer-nothing"),$2=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function Ri(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ed=Object.getPrototypeOf;function Ic(t){return!!t&&!!t[Wr]}function Gl(t){var e;return t?q4(t)||Array.isArray(t)||!!t[$2]||!!((e=t.constructor)!=null&&e[$2])||Dd(t)||Cy(t):!1}var uH=Object.prototype.constructor.toString(),H2=new WeakMap;function q4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=H2.get(n);return r===void 0&&(r=Function.toString.call(n),H2.set(n,r)),r===uH}function Qg(t,e,n=!0){Ay(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ay(t){const e=t[Wr];return e?e.type_:Array.isArray(t)?1:Dd(t)?2:Cy(t)?3:0}function Xw(t,e){return Ay(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $4(t,e,n){const r=Ay(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dd(t){return t instanceof Map}function Cy(t){return t instanceof Set}function Il(t){return t.copy_||t.base_}function Zw(t,e){if(Dd(t))return new Map(t);if(Cy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=q4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Wr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(ed(t),r)}else{const r=ed(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function qE(t,e=!1){return Iy(t)||Ic(t)||!Gl(t)||(Ay(t)>1&&Object.defineProperties(t,{set:Qm,add:Qm,clear:Qm,delete:Qm}),Object.freeze(t),e&&Object.values(t).forEach(n=>qE(n,!0))),t}function fH(){Ri(2)}var Qm={value:fH};function Iy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var hH={};function Kl(t){const e=hH[t];return e||Ri(0,t),e}var td;function H4(){return td}function dH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function G2(t,e){e&&(Kl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Jw(t){ex(t),t.drafts_.forEach(pH),t.drafts_=null}function ex(t){t===td&&(td=t.parent_)}function K2(t){return td=dH(td,t)}function pH(t){const e=t[Wr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function W2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wr].modified_&&(Jw(e),Ri(4)),Gl(t)&&(t=Xg(e,t),e.parent_||Zg(e,t)),e.patches_&&Kl("Patches").generateReplacementPatches_(n[Wr].base_,t,e.patches_,e.inversePatches_)):t=Xg(e,n,[]),Jw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F4?t:void 0}function Xg(t,e,n){if(Iy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Wr];if(!i)return Qg(e,(s,l)=>Y2(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Zg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),Qg(l,(f,h)=>Y2(t,i,s,f,h,n,c),r),Zg(t,s,!1),n&&t.patches_&&Kl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Y2(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Iy(i);if(!(c&&!l)){if(Ic(i)){const f=s&&e&&e.type_!==3&&!Xw(e.assigned_,r)?s.concat(r):void 0,h=Xg(t,i,f);if($4(n,r,h),Ic(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Gl(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Xg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Dd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zg(t,i)}}}function Zg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qE(e,n)}function mH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:H4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=$E;n&&(i=[r],s=nd);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var $E={get(t,e){if(e===Wr)return t;const n=Il(t);if(!Xw(n,e))return gH(t,n,e);const r=n[e];return t.finalized_||!Gl(r)?r:r===k1(t.base_,e)?(P1(t),t.copy_[e]=nx(r,t)):r},has(t,e){return e in Il(t)},ownKeys(t){return Reflect.ownKeys(Il(t))},set(t,e,n){const r=G4(Il(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=k1(Il(t),e),s=i==null?void 0:i[Wr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cH(n,i)&&(n!==void 0||Xw(t.base_,e)))return!0;P1(t),tx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return k1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,P1(t),tx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Il(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ri(11)},getPrototypeOf(t){return ed(t.base_)},setPrototypeOf(){Ri(12)}},nd={};Qg($E,(t,e)=>{nd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});nd.deleteProperty=function(t,e){return nd.set.call(this,t,e,void 0)};nd.set=function(t,e,n){return $E.set.call(this,t[0],e,n,t[0])};function k1(t,e){const n=t[Wr];return(n?Il(n):t)[e]}function gH(t,e,n){var i;const r=G4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function G4(t,e){if(!(e in t))return;let n=ed(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ed(n)}}function tx(t){t.modified_||(t.modified_=!0,t.parent_&&tx(t.parent_))}function P1(t){t.copy_||(t.copy_=Zw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ri(6),r!==void 0&&typeof r!="function"&&Ri(7);let i;if(Gl(e)){const s=K2(this),l=nx(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Jw(s):ex(s)}return G2(s,r),W2(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===F4&&(i=void 0),this.autoFreeze_&&qE(i,!0),r){const s=[],l=[];Kl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Ri(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gl(t)||Ri(8),Ic(t)&&(t=yH(t));const e=K2(this),n=nx(t,void 0);return n[Wr].isManual_=!0,ex(e),n}finishDraft(t,e){const n=t&&t[Wr];(!n||!n.isManual_)&&Ri(9);const{scope_:r}=n;return G2(r,e),W2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Kl("Patches").applyPatches_;return Ic(t)?r(t,e):this.produce(t,i=>r(i,e))}};function nx(t,e){const n=Dd(t)?Kl("MapSet").proxyMap_(t,e):Cy(t)?Kl("MapSet").proxySet_(t,e):mH(t,e);return(e?e.scope_:H4()).drafts_.push(n),n}function yH(t){return Ic(t)||Ri(10,t),K4(t)}function K4(t){if(!Gl(t)||Iy(t))return t;const e=t[Wr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Zw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Zw(t,!0);return Qg(n,(i,s)=>{$4(n,i,K4(s))},r),e&&(e.finalized_=!1),n}var _H=new vH;_H.produce;var bH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},W4=Or({name:"legend",initialState:bH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Li(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:jt()},removeLegendPayload:{reducer(t,e){var n=Li(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:jt()}}}),{setLegendSize:Cme,setLegendSettings:Ime,addLegendPayload:wH,replaceLegendPayload:xH,removeLegendPayload:EH}=W4.actions,SH=W4.reducer;function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return(e=AH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=CH(t,"string");return typeof e=="symbol"?e:e+""}function CH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t){return Array.isArray(t)&&Ta(t[0])&&Ta(t[1])?t.join(" ~ "):t}var OH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:y=!1}=t,b=()=>{if(s&&s.length){var q={padding:0,margin:0},V=(c?fy(s,c):s).map((N,k)=>{if(N.type==="none")return null;var P=N.formatter||l||IH,{value:B,name:M}=N,F=B,L=M;if(P){var pe=P(B,M,N,k,s);if(Array.isArray(pe))[F,L]=pe;else if(pe!=null)F=pe;else return null}var Se=M1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Se},Ta(L)?C.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Ta(L)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},F),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:q},V)}return null},w=M1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=M1({margin:0},i),T=!Dn(p),O=T?p:"",j=Pt("recharts-default-tooltip",f),z=Pt("recharts-tooltip-label",h);T&&m&&s!==void 0&&s!==null&&(O=m(p,s));var U=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",rx({className:j,style:w},U),C.createElement("p",{className:z,style:E},C.isValidElement(O)?O:"".concat(O)),b())},gh="recharts-tooltip-wrapper",NH={visibility:"hidden"};function RH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Pt(gh,{["".concat(gh,"-right")]:Te(n)&&e&&Te(e.x)&&n>=e.x,["".concat(gh,"-left")]:Te(n)&&e&&Te(e.x)&&n<e.x,["".concat(gh,"-bottom")]:Te(r)&&e&&Te(e.y)&&r>=e.y,["".concat(gh,"-top")]:Te(r)&&e&&Te(e.y)&&r<e.y})}function X2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:h}=t;if(s&&Te(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?p:m;var y=f[r];if(y==null)return 0;if(l[r]){var b=p,w=y;return b<w?Math.max(m,y):Math.max(p,y)}if(h==null)return 0;var E=m+c,T=y+h;return E>T?Math.max(p,y):Math.max(m,y)}function kH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,h,p,m;return l.height>0&&l.width>0&&n?(p=X2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=X2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=kH({translateX:p,translateY:m,useTranslate3d:c})):h=NH,{cssProperties:h,cssClasses:RH({translateX:p,translateY:m,coordinate:n})}}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ix(t,e,n){return(e=MH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=DH(t,"string");return typeof e=="symbol"?e:e+""}function DH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jH extends C.PureComponent{constructor(){super(...arguments),ix(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ix(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:f,offset:h,position:p,reverseDirection:m,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:E,innerRef:T,hasPortalFromProps:O}=this.props,{cssClasses:j,cssProperties:z}=PH({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),U=O?{}:Xm(Xm({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),q=Xm(Xm({},U),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:q,ref:T},s)}}var Y4=()=>{var t;return(t=ke(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){LH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LH(t,e,n){return(e=VH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=zH(t,"string");return typeof e=="symbol"?e:e+""}function zH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tR={curveBasisClosed:MF,curveBasisOpen:DF,curveBasis:PF,curveBumpX:_F,curveBumpY:bF,curveLinearClosed:jF,curveLinear:uy,curveMonotoneX:LF,curveMonotoneY:VF,curveNatural:zF,curveStep:UF,curveStepAfter:FF,curveStepBefore:BF},Jg=t=>Ut(t.x)&&Ut(t.y),nR=t=>t.base!=null&&Jg(t.base)&&Jg(t),vh=t=>t.x,yh=t=>t.y,UH=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Id(t));return(n==="curveMonotone"||n==="curveBump")&&e?tR["".concat(n).concat(e==="vertical"?"Y":"X")]:tR[n]||uy},BH=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=UH(e,i),c=s?n.filter(Jg):n,f;if(Array.isArray(r)){var h=n.map((b,w)=>eR(eR({},b),{},{base:r[w]}));i==="vertical"?f=qm().y(yh).x1(vh).x0(b=>b.base.x):f=qm().x(vh).y1(yh).y0(b=>b.base.y);var p=f.defined(nR).curve(l),m=s?h.filter(nR):h;return p(m)}i==="vertical"&&Te(r)?f=qm().y(yh).x1(vh).x0(r):Te(r)?f=qm().x(vh).y1(yh).y0(r):f=Aj().x(vh).y(yh);var y=f.defined(Jg).curve(l);return y(c)},Q4=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Md();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?BH(l):r;return C.createElement("path",ax({},us(t),dq(t),{className:Pt("recharts-curve",e),d:c===null?void 0:c,ref:i}))},FH=["x","y","top","left","width","height","className"];function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){$H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $H(t,e,n){return(e=HH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=GH(t,"string");return typeof e=="symbol"?e:e+""}function GH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KH(t,e){if(t==null)return{};var n,r,i=WH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YH=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),QH=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,f=KH(t,FH),h=qH({x:e,y:n,top:r,left:i,width:s,height:l},f);return!Te(e)||!Te(n)||!Te(s)||!Te(l)||!Te(r)||!Te(i)?null:C.createElement("path",sx({},pi(h),{className:Pt("recharts-cross",c),d:YH(e,n,s,l,r,i)}))};function XH(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){ZH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZH(t,e,n){return(e=JH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JH(t){var e=eG(t,"string");return typeof e=="symbol"?e:e+""}function eG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),X4=(t,e,n)=>t.map(r=>"".concat(tG(r)," ").concat(e,"ms ").concat(n)).join(","),nG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),rd=(t,e)=>Object.keys(e).reduce((n,r)=>aR(aR({},n),{},{[r]:t(r,e[r])}),{});function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){rG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rG(t,e,n){return(e=iG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iG(t){var e=aG(t,"string");return typeof e=="symbol"?e:e+""}function aG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ev=(t,e,n)=>t+(e-t)*n,ox=t=>{var{from:e,to:n}=t;return e!==n},Z4=(t,e,n)=>{var r=rd((i,s)=>{if(ox(s)){var[l,c]=t(s.from,s.to,s.velocity);return _n(_n({},s),{},{from:l,velocity:c})}return s},e);return n<1?rd((i,s)=>ox(s)&&r[i]!=null?_n(_n({},s),{},{velocity:ev(s.velocity,r[i].velocity,n),from:ev(s.from,r[i].from,n)}):s,e):Z4(t,r,n-1)};function sG(t,e,n,r,i,s){var l,c=r.reduce((y,b)=>_n(_n({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>rd((y,b)=>b.from,c),h=()=>!Object.values(c).filter(ox).length,p=null,m=y=>{l||(l=y);var b=y-l,w=b/n.dt;c=Z4(n,c,w),i(_n(_n(_n({},t),e),f())),l=y,h()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var y;(y=p)===null||y===void 0||y()})}function oG(t,e,n,r,i,s,l){var c=null,f=i.reduce((m,y)=>{var b=t[y],w=e[y];return b==null||w==null?m:_n(_n({},m),{},{[y]:[b,w]})},{}),h,p=m=>{h||(h=m);var y=(m-h)/r,b=rd((E,T)=>ev(...T,n(y)),f);if(s(_n(_n(_n({},t),e),b)),y<1)c=l.setTimeout(p);else{var w=rd((E,T)=>ev(...T,n(1)),f);s(_n(_n(_n({},t),e),w))}};return()=>(c=l.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const lG=(t,e,n,r,i,s)=>{var l=nG(t,e);return n==null?()=>(i(_n(_n({},t),e)),()=>{}):n.isStepper===!0?sG(t,e,n,l,i,s):oG(t,e,n,r,l,i,s)};var tv=1e-4,J4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],eL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),oR=(t,e)=>n=>{var r=J4(t,e);return eL(r,n)},uG=(t,e)=>n=>{var r=J4(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return eL(i,n)},cG=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},fG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=cG(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},hG=(t,e,n,r)=>{var i=oR(t,n),s=oR(e,r),l=uG(t,n),c=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,m=p,y=0;y<8;++y){var b=i(m)-p,w=l(m);if(Math.abs(b-p)<tv||w<tv)return s(m);m=c(m-b/w)}return s(m)};return f.isStepper=!1,f},lR=function(){return hG(...fG(...arguments))},dG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,f)=>{var h=-(l-c)*n,p=f*r,m=f+(h-p)*i/1e3,y=f*i/1e3+l;return Math.abs(y-c)<tv&&Math.abs(m)<tv?[c,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},pG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lR(t);case"spring":return dG();default:if(t.split("(")[0]==="cubic-bezier")return lR(t)}return typeof t=="function"?t:null};function mG(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...h]=c;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class gG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function vG(){return mG(new gG)}var yG=C.createContext(vG);function _G(t,e){var n=C.useContext(yG);return C.useMemo(()=>e??n(t),[t,e,n])}var bG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Oy={isSsr:bG()},wG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uR={t:0},D1={t:1};function HE(t){var e=Yr(t,wG),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f,children:h}=e,p=n==="auto"?!Oy.isSsr:n,m=_G(e.animationId,e.animationManager),[y,b]=C.useState(p?uR:D1),w=C.useRef(null);return C.useEffect(()=>{p||b(D1)},[p]),C.useEffect(()=>{if(!p||!r)return Od;var E=lG(uR,D1,pG(s),i,b,m.getTimeoutController()),T=()=>{w.current=E()};return m.start([f,l,T,i,c]),()=>{m.stop(),w.current&&w.current(),c()}},[p,r,i,s,l,f,c,m]),h(y.t)}function GE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Qh(e)),r=C.useRef(t);return r.current!==t&&(n.current=Qh(e),r.current=t),n.current}var xG=["radius"],EG=["radius"],cR,fR,hR,dR,pR,mR,gR,vR,yR,_R;function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return(e=TG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TG(t){var e=AG(t,"string");return typeof e=="symbol"?e:e+""}function AG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function xR(t,e){if(t==null)return{};var n,r,i=CG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function da(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ER=(t,e,n,r,i)=>{var s=To(n),l=To(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,m;if(c>0&&i instanceof Array){for(var y=[0,0,0,0],b=0,w=4;b<w;b++)y[b]=i[b]>c?c:i[b];m=$t(cR||(cR=da(["M",",",""])),t,e+f*y[0]),y[0]>0&&(m+=$t(fR||(fR=da(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),m+=$t(hR||(hR=da(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(m+=$t(dR||(dR=da(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),m+=$t(pR||(pR=da(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(m+=$t(mR||(mR=da(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),m+=$t(gR||(gR=da(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(m+=$t(vR||(vR=da(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),m+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);m=$t(yR||(yR=da(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*E,E,E,p,t+h*E,e,t+n-h*E,e,E,E,p,t+n,e+f*E,t+n,e+r-f*E,E,E,p,t+n-h*E,e+r,t+h*E,e+r,E,E,p,t,e+r-f*E)}else m=$t(_R||(_R=da(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},SR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tL=t=>{var e=Yr(t,SR),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:f,radius:h,className:p}=e,{animationEasing:m,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:E}=e,T=C.useRef(c),O=C.useRef(f),j=C.useRef(s),z=C.useRef(l),U=C.useMemo(()=>({x:s,y:l,width:c,height:f,radius:h}),[s,l,c,f,h]),q=GE(U,"rectangle-");if(s!==+s||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var V=Pt("recharts-rectangle",p);if(!E){var N=pi(e),{radius:k}=N,P=xR(N,xG);return C.createElement("path",nv({},P,{x:To(s),y:To(l),width:To(c),height:To(f),radius:typeof h=="number"?h:void 0,className:V,d:ER(s,l,c,f,h)}))}var B=T.current,M=O.current,F=j.current,L=z.current,pe="0px ".concat(r===-1?1:r,"px"),Se="".concat(r,"px 0px"),K=X4(["strokeDasharray"],y,typeof m=="string"?m:SR.animationEasing);return C.createElement(HE,{animationId:q,key:q,canBegin:r>0,duration:y,easing:m,isActive:E,begin:b},re=>{var de=Gn(B,c,re),me=Gn(M,f,re),Re=Gn(F,s,re),H=Gn(L,l,re);n.current&&(T.current=de,O.current=me,j.current=Re,z.current=H);var W;w?re>0?W={transition:K,strokeDasharray:Se}:W={strokeDasharray:pe}:W={strokeDasharray:Se};var ae=pi(e),{radius:fe}=ae,ye=xR(ae,EG);return C.createElement("path",nv({},ye,{radius:typeof h=="number"?h:void 0,className:V,d:ER(Re,H,de,me,h),ref:n,style:wR(wR({},W),e.style)}))})};function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){IG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IG(t,e,n){return(e=OG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){var e=NG(t,"string");return typeof e=="symbol"?e:e+""}function NG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=Math.PI/180,RG=t=>t*180/Math.PI,Qn=(t,e,n,r)=>({x:t+Math.cos(-rv*r)*n,y:e+Math.sin(-rv*r)*n}),kG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PG=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},MG=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=PG({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:l,angle:RG(f),angleInRadian:f}},DG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},jG=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},LG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=MG({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:h}=DG(e),p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?AR(AR({},e),{},{radius:i,angle:jG(p,e)}):null};function nL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Qn(e,n,r,i),c=Qn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var CR,IR,OR,NR,RR,kR,PR;function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function kl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var VG=(t,e)=>{var n=Sr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,h=c*(l?1:-1)+r,p=Math.asin(c/h)/rv,m=f?i:i+s*p,y=Qn(e,n,h,m),b=Qn(e,n,r,m),w=f?i-s*p:i,E=Qn(e,n,h*Math.cos(p*rv),w);return{center:y,circleTangency:b,lineTangency:E,theta:p}},rL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=VG(s,l),f=s+c,h=Qn(e,n,i,s),p=Qn(e,n,i,f),m=$t(CR||(CR=kl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(c)>180),+(s>f),p.x,p.y);if(r>0){var y=Qn(e,n,r,s),b=Qn(e,n,r,f);m+=$t(IR||(IR=kl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(c)>180),+(s<=f),y.x,y.y)}else m+=$t(OR||(OR=kl(["L ",","," Z"])),e,n);return m},zG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}=t,p=Sr(h-f),{circleTangency:m,lineTangency:y,theta:b}=Zm({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:E,theta:T}=Zm({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),O=c?Math.abs(f-h):Math.abs(f-h)-b-T;if(O<0)return l?$t(NR||(NR=kl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):rL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var j=$t(RR||(RR=kl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),m.x,m.y,i,i,+(O>180),+(p<0),w.x,w.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:z,lineTangency:U,theta:q}=Zm({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:V,lineTangency:N,theta:k}=Zm({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=c?Math.abs(f-h):Math.abs(f-h)-q-k;if(P<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=$t(kR||(kR=kl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),V.x,V.y,r,r,+(P>180),+(p>0),z.x,z.y,s,s,+(p<0),U.x,U.y)}else j+=$t(PR||(PR=kl(["L",",","Z"])),e,n);return j},UG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iL=t=>{var e=Yr(t,UG),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p,className:m}=e;if(s<i||h===p)return null;var y=Pt("recharts-sector",m),b=s-i,w=Bi(l,b,0,!0),E;return w>0&&Math.abs(h-p)<360?E=zG({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):E=rL({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),C.createElement("path",lx({},pi(e),{className:y,d:E}))};function BG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Bj(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,f=Qn(r,i,s,c),h=Qn(r,i,l,c);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return nL(e)}}var j1={},L1={},V1={},MR;function FG(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zj();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(V1)),V1}var DR;function qG(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FG();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(L1)),L1}var jR;function $G(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jj(),n=qG();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=i,i+=l;return f}t.range=r})(j1)),j1}var z1,LR;function HG(){return LR||(LR=1,z1=$G().range),z1}var GG=HG();const aL=Oa(GG);function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KE(t){let e,n,r;t.length!==2?(e=Co,n=(c,f)=>Co(t(c),f),r=(c,f)=>t(c)-f):(e=t===Co||t===KG?t:WG,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function s(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:s}}function WG(){return 0}function sL(t){return t===null?NaN:+t}function*YG(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const QG=KE(Co),jd=QG.right;KE(sL).center;class VR extends Map{constructor(e,n=JG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zR(this,e))}has(e){return super.has(zR(this,e))}set(e,n){return super.set(XG(this,e),n)}delete(e){return super.delete(ZG(this,e))}}function zR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function XG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ZG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eK(t=Co){if(t===Co)return oL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tK=Math.sqrt(50),nK=Math.sqrt(10),rK=Math.sqrt(2);function iv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=tK?10:s>=nK?5:s>=rK?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?iv(t,e,n*2):[c,f,h]}function ux(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?iv(e,t,n):iv(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(s-h)/-l;else for(let h=0;h<c;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function cx(t,e,n){return e=+e,t=+t,n=+n,iv(t,e,n)[2]}function fx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cx(e,t,n):cx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oL:eK(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*m/f+y)),w=Math.min(r,Math.floor(e+(f-h)*m/f+y));lL(t,e,b,w,i)}const s=t[e];let l=n,c=r;for(_h(t,n,e),i(t[r],s)>0&&_h(t,n,r);l<c;){for(_h(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?_h(t,n,c):(++c,_h(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function _h(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iK(t,e,n){if(t=Float64Array.from(YG(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return BR(t);if(e>=1)return UR(t);var r,i=(r-1)*e,s=Math.floor(i),l=UR(lL(t,s).subarray(0,s+1)),c=BR(t.subarray(s+1));return l+(c-l)*(i-s)}}function aK(t,e,n=sL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function sK(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function As(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hx=Symbol("implicit");function WE(){var t=new VR,e=[],n=[],r=hx;function i(s){let l=t.get(s);if(l===void 0){if(r!==hx)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new VR;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WE(e,n).unknown(r)},vi.apply(i,arguments),i}function YE(){var t=WE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,b=i<r,w=b?i:r,E=b?r:i;s=(E-w)/Math.max(1,y-f+h*2),c&&(s=Math.floor(s)),w+=(E-w-s*(y-f))*p,l=s*(1-f),c&&(w=Math.round(w),l=Math.round(l));var T=sK(y).map(function(O){return w+s*O});return n(b?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(y){return arguments.length?(c=!!y,m()):c},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),m()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),m()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return YE(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},vi.apply(m(),arguments)}function uL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uL(e())},t}function oK(){return uL(YE.apply(null,arguments).paddingInner(1))}function QE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ld(){}var id=.7,av=1/id,vc="\\s*([+-]?\\d+)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lK=/^#([0-9a-f]{3,8})$/,uK=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),cK=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),fK=new RegExp(`^rgba\\(${vc},${vc},${vc},${ad}\\)$`),hK=new RegExp(`^rgba\\(${va},${va},${va},${ad}\\)$`),dK=new RegExp(`^hsl\\(${ad},${va},${va}\\)$`),pK=new RegExp(`^hsla\\(${ad},${va},${va},${ad}\\)$`),FR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QE(Ld,sd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qR,formatHex:qR,formatHex8:mK,formatHsl:gK,formatRgb:$R,toString:$R});function qR(){return this.rgb().formatHex()}function mK(){return this.rgb().formatHex8()}function gK(){return fL(this).formatHsl()}function $R(){return this.rgb().formatRgb()}function sd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?HR(e):n===3?new Tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uK.exec(t))?new Tr(e[1],e[2],e[3],1):(e=cK.exec(t))?new Tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fK.exec(t))?Jm(e[1],e[2],e[3],e[4]):(e=hK.exec(t))?Jm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dK.exec(t))?WR(e[1],e[2]/100,e[3]/100,1):(e=pK.exec(t))?WR(e[1],e[2]/100,e[3]/100,e[4]):FR.hasOwnProperty(t)?HR(FR[t]):t==="transparent"?new Tr(NaN,NaN,NaN,0):null}function HR(t){return new Tr(t>>16&255,t>>8&255,t&255,1)}function Jm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tr(t,e,n,r)}function vK(t){return t instanceof Ld||(t=sd(t)),t?(t=t.rgb(),new Tr(t.r,t.g,t.b,t.opacity)):new Tr}function dx(t,e,n,r){return arguments.length===1?vK(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QE(Tr,dx,cL(Ld,{brighter(t){return t=t==null?av:Math.pow(av,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?id:Math.pow(id,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tr(Ul(this.r),Ul(this.g),Ul(this.b),sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GR,formatHex:GR,formatHex8:yK,formatRgb:KR,toString:KR}));function GR(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function yK(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function KR(){const t=sv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ul(this.r)}, ${Ul(this.g)}, ${Ul(this.b)}${t===1?")":`, ${t})`}`}function sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ul(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pl(t){return t=Ul(t),(t<16?"0":"")+t.toString(16)}function WR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ki(t,e,n,r)}function fL(t){if(t instanceof ki)return new ki(t.h,t.s,t.l,t.opacity);if(t instanceof Ld||(t=sd(t)),!t)return new ki;if(t instanceof ki)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new ki(l,c,f,t.opacity)}function _K(t,e,n,r){return arguments.length===1?fL(t):new ki(t,e,n,r??1)}function ki(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QE(ki,_K,cL(Ld,{brighter(t){return t=t==null?av:Math.pow(av,t),new ki(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?id:Math.pow(id,t),new ki(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tr(U1(t>=240?t-240:t+120,i,r),U1(t,i,r),U1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ki(YR(this.h),eg(this.s),eg(this.l),sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sv(this.opacity);return`${t===1?"hsl(":"hsla("}${YR(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YR(t){return t=(t||0)%360,t<0?t+360:t}function eg(t){return Math.max(0,Math.min(1,t||0))}function U1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XE=t=>()=>t;function bK(t,e){return function(n){return t+n*e}}function wK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xK(t){return(t=+t)==1?hL:function(e,n){return n-e?wK(e,n,t):XE(isNaN(e)?n:e)}}function hL(t,e){var n=e-t;return n?bK(t,n):XE(isNaN(t)?e:t)}const QR=(function t(e){var n=xK(e);function r(i,s){var l=n((i=dx(i)).r,(s=dx(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),h=hL(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function EK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function SK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Kc(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function AK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ov(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CK(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var px=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B1=new RegExp(px.source,"g");function IK(t){return function(){return t}}function OK(t){return function(e){return t(e)+""}}function NK(t,e){var n=px.lastIndex=B1.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=px.exec(t))&&(i=B1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:ov(r,i)})),n=B1.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?OK(f[0].x):IK(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function Kc(t,e){var n=typeof e,r;return e==null||n==="boolean"?XE(e):(n==="number"?ov:n==="string"?(r=sd(e))?(e=r,QR):NK:e instanceof sd?QR:e instanceof Date?AK:SK(e)?EK:Array.isArray(e)?TK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CK:ov)(t,e)}function ZE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function RK(t,e){e===void 0&&(e=t,t=Kc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function kK(t){return function(){return t}}function lv(t){return+t}var XR=[0,1];function fr(t){return t}function mx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kK(isNaN(e)?NaN:.5)}function PK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function MK(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=mx(i,r),s=n(l,s)):(r=mx(r,i),s=n(s,l)),function(c){return s(r(c))}}function DK(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=mx(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=jd(t,c,1,r)-1;return s[f](i[f](c))}}function Vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ny(){var t=XR,e=XR,n=Kc,r,i,s,l=fr,c,f,h;function p(){var y=Math.min(t.length,e.length);return l!==fr&&(l=PK(t[0],t[y-1])),c=y>2?DK:MK,f=h=null,m}function m(y){return y==null||isNaN(y=+y)?s:(f||(f=c(t.map(r),e,n)))(r(l(y)))}return m.invert=function(y){return l(i((h||(h=c(e,t.map(r),ov)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,lv),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=ZE,p()},m.clamp=function(y){return arguments.length?(l=y?!0:fr,p()):l!==fr},m.interpolate=function(y){return arguments.length?(n=y,p()):n},m.unknown=function(y){return arguments.length?(s=y,m):s},function(y,b){return r=y,i=b,p()}}function JE(){return Ny()(fr,fr)}function jK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oc(t){return t=uv(Math.abs(t)),t?t[1]:NaN}function LK(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function VK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function od(t){if(!(e=zK.exec(t)))throw new Error("invalid format: "+t);var e;return new eS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}od.prototype=eS.prototype;function eS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UK(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dL;function BK(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(dL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+uv(t,Math.max(0,e+s-1))[0]}function ZR(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZR(t*100,e),r:ZR,s:BK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ek(t){return t}var tk=Array.prototype.map,nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FK(t){var e=t.grouping===void 0||t.thousands===void 0?ek:LK(tk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ek:VK(tk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=od(m);var y=m.fill,b=m.align,w=m.sign,E=m.symbol,T=m.zero,O=m.width,j=m.comma,z=m.precision,U=m.trim,q=m.type;q==="n"?(j=!0,q="g"):JR[q]||(z===void 0&&(z=12),U=!0,q="g"),(T||y==="0"&&b==="=")&&(T=!0,y="0",b="=");var V=E==="$"?n:E==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",N=E==="$"?r:/[%p]/.test(q)?l:"",k=JR[q],P=/[defgprs%]/.test(q);z=z===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function B(M){var F=V,L=N,pe,Se,K;if(q==="c")L=k(M)+L,M="";else{M=+M;var re=M<0||1/M<0;if(M=isNaN(M)?f:k(Math.abs(M),z),U&&(M=UK(M)),re&&+M==0&&w!=="+"&&(re=!1),F=(re?w==="("?w:c:w==="-"||w==="("?"":w)+F,L=(q==="s"?nk[8+dL/3]:"")+L+(re&&w==="("?")":""),P){for(pe=-1,Se=M.length;++pe<Se;)if(K=M.charCodeAt(pe),48>K||K>57){L=(K===46?i+M.slice(pe+1):M.slice(pe))+L,M=M.slice(0,pe);break}}}j&&!T&&(M=e(M,1/0));var de=F.length+M.length+L.length,me=de<O?new Array(O-de+1).join(y):"";switch(j&&T&&(M=e(me+M,me.length?O-L.length:1/0),me=""),b){case"<":M=F+M+L+me;break;case"=":M=F+me+M+L;break;case"^":M=me.slice(0,de=me.length>>1)+F+M+L+me.slice(de);break;default:M=me+F+M+L;break}return s(M)}return B.toString=function(){return m+""},B}function p(m,y){var b=h((m=od(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Oc(y)/3)))*3,E=Math.pow(10,-w),T=nk[8+w/3];return function(O){return b(E*O)+T}}return{format:h,formatPrefix:p}}var tg,tS,pL;qK({thousands:",",grouping:[3],currency:["$",""]});function qK(t){return tg=FK(t),tS=tg.format,pL=tg.formatPrefix,tg}function $K(t){return Math.max(0,-Oc(Math.abs(t)))}function HK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(e)/3)))*3-Oc(Math.abs(t)))}function GK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oc(e)-Oc(t))+1}function mL(t,e,n,r){var i=fx(t,e,n),s;switch(r=od(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=HK(i,l))&&(r.precision=s),pL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=GK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=$K(i))&&(r.precision=s-(r.type==="%")*2);break}}return tS(r)}function Ho(t){var e=t.domain;return t.ticks=function(n){var r=e();return ux(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return mL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=cx(l,c,n),h===f)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function gL(){var t=JE();return t.copy=function(){return Vd(t,gL())},vi.apply(t,arguments),Ho(t)}function vL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vL(t).unknown(e)},t=arguments.length?Array.from(t,lv):[0,1],Ho(n)}function yL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function rk(t){return Math.log(t)}function ik(t){return Math.exp(t)}function KK(t){return-Math.log(-t)}function WK(t){return-Math.exp(-t)}function YK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function QK(t){return t===10?YK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function XK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ak(t){return(e,n)=>-t(-e,n)}function nS(t){const e=t(rk,ik),n=e.domain;let r=10,i,s;function l(){return i=XK(r),s=QK(r),n()[0]<0?(i=ak(i),s=ak(s),t(KK,WK)):t(rk,ik),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=i(h),b=i(p),w,E;const T=c==null?10:+c;let O=[];if(!(r%1)&&b-y<T){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(E=y<0?w/s(-y):w*s(y),!(E<h)){if(E>p)break;O.push(E)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(E=y>0?w/s(-y):w*s(y),!(E<h)){if(E>p)break;O.push(E)}O.length*2<T&&(O=ux(h,p,T))}else O=ux(y,b,Math.min(b-y,T)).map(s);return m?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=od(f)).precision==null&&(f.trim=!0),f=tS(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(yL(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function _L(){const t=nS(Ny()).domain([1,10]);return t.copy=()=>Vd(t,_L()).base(t.base()),vi.apply(t,arguments),t}function sk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ok(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rS(t){var e=1,n=t(sk(e),ok(e));return n.constant=function(r){return arguments.length?t(sk(e=+r),ok(e)):e},Ho(n)}function bL(){var t=rS(Ny());return t.copy=function(){return Vd(t,bL()).constant(t.constant())},vi.apply(t,arguments)}function lk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JK(t){return t<0?-t*t:t*t}function iS(t){var e=t(fr,fr),n=1;function r(){return n===1?t(fr,fr):n===.5?t(ZK,JK):t(lk(n),lk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ho(e)}function aS(){var t=iS(Ny());return t.copy=function(){return Vd(t,aS()).exponent(t.exponent())},vi.apply(t,arguments),t}function eW(){return aS.apply(null,arguments).exponent(.5)}function uk(t){return Math.sign(t)*t*t}function tW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wL(){var t=JE(),e=[0,1],n=!1,r;function i(s){var l=tW(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(uk(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,lv)).map(uk)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vi.apply(i,arguments),Ho(i)}function xL(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=aK(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[jd(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Co),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return xL().domain(t).range(e).unknown(r)},vi.apply(s,arguments)}function EL(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[jd(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return EL().domain([t,e]).range(i).unknown(s)},vi.apply(Ho(l),arguments)}function SL(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[jd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return SL().domain(t).range(e).unknown(n)},vi.apply(i,arguments)}const F1=new Date,q1=new Date;function xn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let h;do f.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return f},i.filter=s=>xn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(F1.setTime(+s),q1.setTime(+l),t(F1),t(q1),Math.floor(n(F1,q1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const cv=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cv);cv.range;const Ja=1e3,di=Ja*60,es=di*60,ds=es*24,sS=ds*7,ck=ds*30,$1=ds*365,Ml=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ja)},(t,e)=>(e-t)/Ja,t=>t.getUTCSeconds());Ml.range;const oS=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ja)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getMinutes());oS.range;const lS=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCMinutes());lS.range;const uS=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ja-t.getMinutes()*di)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getHours());uS.range;const cS=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getUTCHours());cS.range;const zd=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/ds,t=>t.getDate()-1);zd.range;const Ry=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>t.getUTCDate()-1);Ry.range;const TL=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>Math.floor(t/ds));TL.range;function ou(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*di)/sS)}const ky=ou(0),fv=ou(1),nW=ou(2),rW=ou(3),Nc=ou(4),iW=ou(5),aW=ou(6);ky.range;fv.range;nW.range;rW.range;Nc.range;iW.range;aW.range;function lu(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sS)}const Py=lu(0),hv=lu(1),sW=lu(2),oW=lu(3),Rc=lu(4),lW=lu(5),uW=lu(6);Py.range;hv.range;sW.range;oW.range;Rc.range;lW.range;uW.range;const fS=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fS.range;const hS=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hS.range;const ps=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ps.range;const ms=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ms.range;function AL(t,e,n,r,i,s){const l=[[Ml,1,Ja],[Ml,5,5*Ja],[Ml,15,15*Ja],[Ml,30,30*Ja],[s,1,di],[s,5,5*di],[s,15,15*di],[s,30,30*di],[i,1,es],[i,3,3*es],[i,6,6*es],[i,12,12*es],[r,1,ds],[r,2,2*ds],[n,1,sS],[e,1,ck],[e,3,3*ck],[t,1,$1]];function c(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const b=m&&typeof m.range=="function"?m:f(h,p,m),w=b?b.range(h,+p+1):[];return y?w.reverse():w}function f(h,p,m){const y=Math.abs(p-h)/m,b=KE(([,,T])=>T).right(l,y);if(b===l.length)return t.every(fx(h/$1,p/$1,m));if(b===0)return cv.every(Math.max(fx(h,p,m),1));const[w,E]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(E)}return[c,f]}const[cW,fW]=AL(ms,hS,Py,TL,cS,lS),[hW,dW]=AL(ps,fS,ky,zd,uS,oS);function H1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function G1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function pW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=wh(i),p=xh(i),m=wh(s),y=xh(s),b=wh(l),w=xh(l),E=wh(c),T=xh(c),O=wh(f),j=xh(f),z={a:re,A:de,b:me,B:Re,c:null,d:gk,e:gk,f:LW,g:KW,G:YW,H:MW,I:DW,j:jW,L:CL,m:VW,M:zW,p:H,q:W,Q:_k,s:bk,S:UW,u:BW,U:FW,V:qW,w:$W,W:HW,x:null,X:null,y:GW,Y:WW,Z:QW,"%":yk},U={a:ae,A:fe,b:ye,B:Ie,c:null,d:vk,e:vk,f:eY,g:cY,G:hY,H:XW,I:ZW,j:JW,L:OL,m:tY,M:nY,p:Ae,q:$e,Q:_k,s:bk,S:rY,u:iY,U:aY,V:sY,w:oY,W:lY,x:null,X:null,y:uY,Y:fY,Z:dY,"%":yk},q={a:B,A:M,b:F,B:L,c:pe,d:pk,e:pk,f:NW,g:dk,G:hk,H:mk,I:mk,j:AW,L:OW,m:TW,M:CW,p:P,q:SW,Q:kW,s:PW,S:IW,u:_W,U:bW,V:wW,w:yW,W:xW,x:Se,X:K,y:dk,Y:hk,Z:EW,"%":RW};z.x=V(n,z),z.X=V(r,z),z.c=V(e,z),U.x=V(n,U),U.X=V(r,U),U.c=V(e,U);function V(se,Ce){return function(Le){var he=[],zt=-1,Ge=0,gn=se.length,Gt,Rr,js;for(Le instanceof Date||(Le=new Date(+Le));++zt<gn;)se.charCodeAt(zt)===37&&(he.push(se.slice(Ge,zt)),(Rr=fk[Gt=se.charAt(++zt)])!=null?Gt=se.charAt(++zt):Rr=Gt==="e"?" ":"0",(js=Ce[Gt])&&(Gt=js(Le,Rr)),he.push(Gt),Ge=zt+1);return he.push(se.slice(Ge,zt)),he.join("")}}function N(se,Ce){return function(Le){var he=bh(1900,void 0,1),zt=k(he,se,Le+="",0),Ge,gn;if(zt!=Le.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ge=G1(bh(he.y,0,1)),gn=Ge.getUTCDay(),Ge=gn>4||gn===0?hv.ceil(Ge):hv(Ge),Ge=Ry.offset(Ge,(he.V-1)*7),he.y=Ge.getUTCFullYear(),he.m=Ge.getUTCMonth(),he.d=Ge.getUTCDate()+(he.w+6)%7):(Ge=H1(bh(he.y,0,1)),gn=Ge.getDay(),Ge=gn>4||gn===0?fv.ceil(Ge):fv(Ge),Ge=zd.offset(Ge,(he.V-1)*7),he.y=Ge.getFullYear(),he.m=Ge.getMonth(),he.d=Ge.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),gn="Z"in he?G1(bh(he.y,0,1)).getUTCDay():H1(bh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(gn+5)%7:he.w+he.U*7-(gn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,G1(he)):H1(he)}}function k(se,Ce,Le,he){for(var zt=0,Ge=Ce.length,gn=Le.length,Gt,Rr;zt<Ge;){if(he>=gn)return-1;if(Gt=Ce.charCodeAt(zt++),Gt===37){if(Gt=Ce.charAt(zt++),Rr=q[Gt in fk?Ce.charAt(zt++):Gt],!Rr||(he=Rr(se,Le,he))<0)return-1}else if(Gt!=Le.charCodeAt(he++))return-1}return he}function P(se,Ce,Le){var he=h.exec(Ce.slice(Le));return he?(se.p=p.get(he[0].toLowerCase()),Le+he[0].length):-1}function B(se,Ce,Le){var he=b.exec(Ce.slice(Le));return he?(se.w=w.get(he[0].toLowerCase()),Le+he[0].length):-1}function M(se,Ce,Le){var he=m.exec(Ce.slice(Le));return he?(se.w=y.get(he[0].toLowerCase()),Le+he[0].length):-1}function F(se,Ce,Le){var he=O.exec(Ce.slice(Le));return he?(se.m=j.get(he[0].toLowerCase()),Le+he[0].length):-1}function L(se,Ce,Le){var he=E.exec(Ce.slice(Le));return he?(se.m=T.get(he[0].toLowerCase()),Le+he[0].length):-1}function pe(se,Ce,Le){return k(se,e,Ce,Le)}function Se(se,Ce,Le){return k(se,n,Ce,Le)}function K(se,Ce,Le){return k(se,r,Ce,Le)}function re(se){return l[se.getDay()]}function de(se){return s[se.getDay()]}function me(se){return f[se.getMonth()]}function Re(se){return c[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function W(se){return 1+~~(se.getMonth()/3)}function ae(se){return l[se.getUTCDay()]}function fe(se){return s[se.getUTCDay()]}function ye(se){return f[se.getUTCMonth()]}function Ie(se){return c[se.getUTCMonth()]}function Ae(se){return i[+(se.getUTCHours()>=12)]}function $e(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ce=V(se+="",z);return Ce.toString=function(){return se},Ce},parse:function(se){var Ce=N(se+="",!1);return Ce.toString=function(){return se},Ce},utcFormat:function(se){var Ce=V(se+="",U);return Ce.toString=function(){return se},Ce},utcParse:function(se){var Ce=N(se+="",!0);return Ce.toString=function(){return se},Ce}}}var fk={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,mW=/^%/,gW=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function vW(t){return t.replace(gW,"\\$&")}function wh(t){return new RegExp("^(?:"+t.map(vW).join("|")+")","i")}function xh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yW(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _W(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hk(t,e,n){var r=Ln.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dk(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SW(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function TW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pk(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function AW(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mk(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function CW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function IW(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function OW(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function NW(t,e,n){var r=Ln.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RW(t,e,n){var r=mW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kW(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PW(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gk(t,e){return ot(t.getDate(),e,2)}function MW(t,e){return ot(t.getHours(),e,2)}function DW(t,e){return ot(t.getHours()%12||12,e,2)}function jW(t,e){return ot(1+zd.count(ps(t),t),e,3)}function CL(t,e){return ot(t.getMilliseconds(),e,3)}function LW(t,e){return CL(t,e)+"000"}function VW(t,e){return ot(t.getMonth()+1,e,2)}function zW(t,e){return ot(t.getMinutes(),e,2)}function UW(t,e){return ot(t.getSeconds(),e,2)}function BW(t){var e=t.getDay();return e===0?7:e}function FW(t,e){return ot(ky.count(ps(t)-1,t),e,2)}function IL(t){var e=t.getDay();return e>=4||e===0?Nc(t):Nc.ceil(t)}function qW(t,e){return t=IL(t),ot(Nc.count(ps(t),t)+(ps(t).getDay()===4),e,2)}function $W(t){return t.getDay()}function HW(t,e){return ot(fv.count(ps(t)-1,t),e,2)}function GW(t,e){return ot(t.getFullYear()%100,e,2)}function KW(t,e){return t=IL(t),ot(t.getFullYear()%100,e,2)}function WW(t,e){return ot(t.getFullYear()%1e4,e,4)}function YW(t,e){var n=t.getDay();return t=n>=4||n===0?Nc(t):Nc.ceil(t),ot(t.getFullYear()%1e4,e,4)}function QW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function vk(t,e){return ot(t.getUTCDate(),e,2)}function XW(t,e){return ot(t.getUTCHours(),e,2)}function ZW(t,e){return ot(t.getUTCHours()%12||12,e,2)}function JW(t,e){return ot(1+Ry.count(ms(t),t),e,3)}function OL(t,e){return ot(t.getUTCMilliseconds(),e,3)}function eY(t,e){return OL(t,e)+"000"}function tY(t,e){return ot(t.getUTCMonth()+1,e,2)}function nY(t,e){return ot(t.getUTCMinutes(),e,2)}function rY(t,e){return ot(t.getUTCSeconds(),e,2)}function iY(t){var e=t.getUTCDay();return e===0?7:e}function aY(t,e){return ot(Py.count(ms(t)-1,t),e,2)}function NL(t){var e=t.getUTCDay();return e>=4||e===0?Rc(t):Rc.ceil(t)}function sY(t,e){return t=NL(t),ot(Rc.count(ms(t),t)+(ms(t).getUTCDay()===4),e,2)}function oY(t){return t.getUTCDay()}function lY(t,e){return ot(hv.count(ms(t)-1,t),e,2)}function uY(t,e){return ot(t.getUTCFullYear()%100,e,2)}function cY(t,e){return t=NL(t),ot(t.getUTCFullYear()%100,e,2)}function fY(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function hY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rc(t):Rc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function dY(){return"+0000"}function yk(){return"%"}function _k(t){return+t}function bk(t){return Math.floor(+t/1e3)}var nc,RL,kL;pY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pY(t){return nc=pW(t),RL=nc.format,nc.parse,kL=nc.utcFormat,nc.utcParse,nc}function mY(t){return new Date(t)}function gY(t){return t instanceof Date?+t:+new Date(+t)}function dS(t,e,n,r,i,s,l,c,f,h){var p=JE(),m=p.invert,y=p.domain,b=h(".%L"),w=h(":%S"),E=h("%I:%M"),T=h("%I %p"),O=h("%a %d"),j=h("%b %d"),z=h("%B"),U=h("%Y");function q(V){return(f(V)<V?b:c(V)<V?w:l(V)<V?E:s(V)<V?T:r(V)<V?i(V)<V?O:j:n(V)<V?z:U)(V)}return p.invert=function(V){return new Date(m(V))},p.domain=function(V){return arguments.length?y(Array.from(V,gY)):y().map(mY)},p.ticks=function(V){var N=y();return t(N[0],N[N.length-1],V??10)},p.tickFormat=function(V,N){return N==null?q:h(N)},p.nice=function(V){var N=y();return(!V||typeof V.range!="function")&&(V=e(N[0],N[N.length-1],V??10)),V?y(yL(N,V)):p},p.copy=function(){return Vd(p,dS(t,e,n,r,i,s,l,c,f,h))},p}function vY(){return vi.apply(dS(hW,dW,ps,fS,ky,zd,uS,oS,Ml,RL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yY(){return vi.apply(dS(cW,fW,ms,hS,Py,Ry,cS,lS,Ml,kL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function My(){var t=0,e=1,n,r,i,s,l=fr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var b,w;return arguments.length?([b,w]=y,l=m(b,w),h):[l(0),l(1)]}}return h.range=p(Kc),h.rangeRound=p(ZE),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function Go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function PL(){var t=Ho(My()(fr));return t.copy=function(){return Go(t,PL())},As.apply(t,arguments)}function ML(){var t=nS(My()).domain([1,10]);return t.copy=function(){return Go(t,ML()).base(t.base())},As.apply(t,arguments)}function DL(){var t=rS(My());return t.copy=function(){return Go(t,DL()).constant(t.constant())},As.apply(t,arguments)}function pS(){var t=iS(My());return t.copy=function(){return Go(t,pS()).exponent(t.exponent())},As.apply(t,arguments)}function _Y(){return pS.apply(null,arguments).exponent(.5)}function jL(){var t=[],e=fr;function n(r){if(r!=null&&!isNaN(r=+r))return e((jd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>iK(t,s/r))},n.copy=function(){return jL(e).domain(t)},As.apply(n,arguments)}function Dy(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,h=fr,p,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-s)*(r*E<r*s?c:f),h(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(h=E,b):h};function w(E){return function(T){var O,j,z;return arguments.length?([O,j,z]=T,h=RK(E,[O,j,z]),b):[h(0),h(.5),h(1)]}}return b.range=w(Kc),b.rangeRound=w(ZE),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return p=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b}}function LL(){var t=Ho(Dy()(fr));return t.copy=function(){return Go(t,LL())},As.apply(t,arguments)}function VL(){var t=nS(Dy()).domain([.1,1,10]);return t.copy=function(){return Go(t,VL()).base(t.base())},As.apply(t,arguments)}function zL(){var t=rS(Dy());return t.copy=function(){return Go(t,zL()).constant(t.constant())},As.apply(t,arguments)}function mS(){var t=iS(Dy());return t.copy=function(){return Go(t,mS()).exponent(t.exponent())},As.apply(t,arguments)}function bY(){return mS.apply(null,arguments).exponent(.5)}const Nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:YE,scaleDiverging:LL,scaleDivergingLog:VL,scaleDivergingPow:mS,scaleDivergingSqrt:bY,scaleDivergingSymlog:zL,scaleIdentity:vL,scaleImplicit:hx,scaleLinear:gL,scaleLog:_L,scaleOrdinal:WE,scalePoint:oK,scalePow:aS,scaleQuantile:xL,scaleQuantize:EL,scaleRadial:wL,scaleSequential:PL,scaleSequentialLog:ML,scaleSequentialPow:pS,scaleSequentialQuantile:jL,scaleSequentialSqrt:_Y,scaleSequentialSymlog:DL,scaleSqrt:eW,scaleSymlog:bL,scaleThreshold:SL,scaleTime:vY,scaleUtc:yY,tickFormat:mL},Symbol.toStringTag,{value:"Module"}));var Cs=t=>t.chartData,UL=ne([Cs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),BL=(t,e,n,r)=>r?UL(t):Cs(t),wY=(t,e,n)=>n?UL(t):Cs(t);function Mo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ut(e)&&Ut(n))return!0}return!1}function wk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function FL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ut(n))i=n;else if(typeof n=="function")return;if(Ut(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Mo(l))return l}}function xY(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Mo(r))return wk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Te(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&M2.test(i)){var f=M2.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Te(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&D2.test(s)){var p=D2.exec(s);if(p==null||p[1]==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e==null?void 0:e[1];var y=[l,c];if(Mo(y))return e==null?y:wk(y,e,n)}}}var Wc=1e9,EY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,Lt=!0,gi="[DecimalError] ",Bl=gi+"Invalid argument: ",gS=gi+"Exponent out of range: ",Yc=Math.floor,Ol=Math.pow,SY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qr,kn=1e7,Rt=7,qL=9007199254740991,dv=Yc(qL/Rt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return is(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return Et(is(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return mn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qr))throw Error(gi+"NaN");if(n.s<1)throw Error(gi+(n.s?"NaN":"-Infinity"));return n.eq(qr)?new r(0):(Lt=!1,e=is(ld(n,s),ld(t,s),s),Lt=!0,Et(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GL(e,t):$L(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gi+"NaN");return n.s?(Lt=!1,e=is(n,t,0,1).times(t),Lt=!0,n.minus(e)):Et(new r(n),i)};we.naturalExponential=we.exp=function(){return HL(this)};we.naturalLogarithm=we.ln=function(){return ld(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$L(e,t):GL(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bl+t);if(e=mn(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(gi+"NaN")}for(t=mn(c),Lt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ma(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(is(c,s,l+2)).times(.5),ma(s.d).slice(0,l)===(e=ma(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Et(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Lt=!0,Et(r,n)};we.times=we.mul=function(t){var e,n,r,i,s,l,c,f,h,p=this,m=p.constructor,y=p.d,b=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=b.length,f<h&&(s=y,y=b,b=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+b[r]*y[i-r-1]+e,s[i--]=c%kn|0,e=c/kn|0;s[i]=(s[i]+e)%kn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Lt?Et(t,m.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ca(t,0,Wc),e===void 0?e=r.rounding:Ca(e,0,8),Et(n,t+mn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Wl(r,!0):(Ca(t,0,Wc),e===void 0?e=i.rounding:Ca(e,0,8),r=Et(new i(r),t+1,e),n=Wl(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Wl(i):(Ca(t,0,Wc),e===void 0?e=s.rounding:Ca(e,0,8),r=Et(new s(i),t+mn(i)+1,e),n=Wl(r.abs(),!1,t+mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return Et(new e(t),mn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(qr);if(c=new f(c),!c.s){if(t.s<1)throw Error(gi+"Infinity");return c}if(c.eq(qr))return c;if(r=f.precision,t.eq(qr))return Et(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=qL){for(i=new f(qr),e=Math.ceil(r/Rt+4),Lt=!1;n%2&&(i=i.times(c),Ek(i.d,e)),n=Yc(n/2),n!==0;)c=c.times(c),Ek(c.d,e);return Lt=!0,t.s<0?new f(qr).div(i):Et(i,r)}}else if(s<0)throw Error(gi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Lt=!1,i=t.times(ld(c,r+h)),Lt=!0,i=HL(i),i.s=s,i};we.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=mn(i),r=Wl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ca(t,1,Wc),e===void 0?e=s.rounding:Ca(e,0,8),i=Et(new s(i),t,e),n=mn(i),r=Wl(i,t<=n||n<=s.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ca(t,1,Wc),e===void 0?e=r.rounding:Ca(e,0,8)),Et(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return Wl(t,e<=n.toExpNeg||e>=n.toExpPos)};function $L(t,e){var n,r,i,s,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Lt?Et(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/Rt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/kn|0,f[s]%=kn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Lt?Et(e,m):e}function Ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bl+t)}function ma(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(s+=yo(n)),s+=r;l=t[e],r=l+"",n=Rt-r.length,n&&(s+=yo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var is=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%kn|0,l=s/kn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*kn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,h,p,m,y,b,w,E,T,O,j,z,U,q,V,N,k,P=r.constructor,B=r.s==i.s?1:-1,M=r.d,F=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(gi+"Division by zero");for(f=r.e-i.e,N=F.length,q=M.length,b=new P(B),w=b.d=[],h=0;F[h]==(M[h]||0);)++h;if(F[h]>(M[h]||0)&&--f,s==null?j=s=P.precision:l?j=s+(mn(r)-mn(i))+1:j=s,j<0)return new P(0);if(j=j/Rt+2|0,h=0,N==1)for(p=0,F=F[0],j++;(h<q||p)&&j--;h++)z=p*kn+(M[h]||0),w[h]=z/F|0,p=z%F|0;else{for(p=kn/(F[0]+1)|0,p>1&&(F=t(F,p),M=t(M,p),N=F.length,q=M.length),U=N,E=M.slice(0,N),T=E.length;T<N;)E[T++]=0;k=F.slice(),k.unshift(0),V=F[0],F[1]>=kn/2&&++V;do p=0,c=e(F,E,N,T),c<0?(O=E[0],N!=T&&(O=O*kn+(E[1]||0)),p=O/V|0,p>1?(p>=kn&&(p=kn-1),m=t(F,p),y=m.length,T=E.length,c=e(m,E,y,T),c==1&&(p--,n(m,N<y?k:F,y))):(p==0&&(c=p=1),m=F.slice()),y=m.length,y<T&&m.unshift(0),n(E,m,T),c==-1&&(T=E.length,c=e(F,E,N,T),c<1&&(p++,n(E,N<T?k:F,T))),T=E.length):c===0&&(p++,E=[0]),w[h++]=p,c&&E[0]?E[T++]=M[U]||0:(E=[M[U]],T=1);while((U++<q||E[0]!==void 0)&&j--)}return w[0]||w.shift(),b.e=f,Et(b,l?s+mn(b)+1:s)}})();function HL(t,e){var n,r,i,s,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(mn(t)>16)throw Error(gS+mn(t));if(!t.s)return new p(qr);for(Lt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Ol(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new p(qr),p.precision=c;;){if(i=Et(i.times(t),c),n=n.times(++f),l=s.plus(is(i,n,c)),ma(l.d).slice(0,c)===ma(s.d).slice(0,c)){for(;h--;)s=Et(s.times(s),c);return p.precision=m,e==null?(Lt=!0,Et(s,m)):s}s=l}}function mn(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function K1(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(gi+"LN10 precision limit exceeded");return Et(new t(t.LN10),e)}function yo(t){for(var e="";t--;)e+="0";return e}function ld(t,e){var n,r,i,s,l,c,f,h,p,m=1,y=10,b=t,w=b.d,E=b.constructor,T=E.precision;if(b.s<1)throw Error(gi+(b.s?"NaN":"-Infinity"));if(b.eq(qr))return new E(0);if(e==null?(Lt=!1,h=T):h=e,b.eq(10))return e==null&&(Lt=!0),K1(E,h);if(h+=y,E.precision=h,n=ma(w),r=n.charAt(0),s=mn(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=ma(b.d),r=n.charAt(0),m++;s=mn(b),r>1?(b=new E("0."+n),s++):b=new E(r+"."+n.slice(1))}else return f=K1(E,h+2,T).times(s+""),b=ld(new E(r+"."+n.slice(1)),h-y).plus(f),E.precision=T,e==null?(Lt=!0,Et(b,T)):b;for(c=l=b=is(b.minus(qr),b.plus(qr),h),p=Et(b.times(b),h),i=3;;){if(l=Et(l.times(p),h),f=c.plus(is(l,new E(i),h)),ma(f.d).slice(0,h)===ma(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(K1(E,h+2,T).times(s+""))),c=is(c,new E(m),h),E.precision=T,e==null?(Lt=!0,Et(c,T)):c;c=f,i+=2}}function xk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yc(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>dv||t.e<-dv))throw Error(gS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Et(t,e,n){var r,i,s,l,c,f,h,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Rt,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/Rt),s=m.length,p>=s)return t;for(h=s=m[p],l=1;s>=10;s/=10)l++;r%=Rt,i=r-Rt+l}if(n!==void 0&&(s=Ol(10,l-i-1),c=h/s%10|0,f=e<0||m[p+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/Ol(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(s=mn(t),m.length=1,e=e-s-1,m[0]=Ol(10,(Rt-e%Rt)%Rt),t.e=Yc(-e/Rt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=Ol(10,Rt-r),m[p]=i>0?(h/Ol(10,l-i)%Ol(10,i)|0)*s:0),f)for(;;)if(p==0){(m[0]+=s)==kn&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=kn)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Lt&&(t.e>dv||t.e<-dv))throw Error(gS+mn(t));return t}function GL(t,e){var n,r,i,s,l,c,f,h,p,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Lt?Et(e,b):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(b/Rt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(s=i;s&&f[--s]===0;)f[s]=kn-1;--f[s],f[i]+=kn}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Lt?Et(e,b):e):new y(0)}function Wl(t,e,n){var r,i=mn(t),s=ma(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+yo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+yo(-i-1)+s,n&&(r=n-l)>0&&(s+=yo(r))):i>=l?(s+=yo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+yo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=yo(r))),t.s<0?"-"+s:s}function Ek(t,e){if(t.length>e)return t.length=e,!0}function KL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return xk(l,s.toString())}else if(typeof s!="string")throw Error(Bl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,SY.test(s))xk(l,s);else throw Error(Bl+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KL,i.config=i.set=TY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function TY(t){if(!t||typeof t!="object")throw Error(gi+"Object expected");var e,n,r,i=["precision",1,Wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bl+n+": "+r);return this}var vS=KL(EY);qr=new vS(1);const mt=vS;var AY=t=>t,WL={},YL=t=>t===WL,Sk=t=>function e(){return arguments.length===0||arguments.length===1&&YL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},QL=(t,e)=>t===1?e:Sk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==WL).length;return s>=t?e(...r):QL(t-s,Sk(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=r.map(p=>YL(p)?c.shift():p);return e(...h,...c)}))}),CY=t=>QL(t.length,t),gx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},IY=CY((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),OY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return AY;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),s(...arguments))}};function XL(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function ZL(t,e,n){for(var r=new mt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var JL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},e5=(t,e,n)=>{if(t.lte(0))return new mt(0);var r=XL(t.toNumber()),i=new mt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new mt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new mt(f.toNumber()):new mt(Math.ceil(f.toNumber()))},NY=(t,e,n)=>{var r=new mt(1),i=new mt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new mt(10).pow(XL(t)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):n||(i=new mt(Math.floor(t)));var l=Math.floor((e-1)/2),c=OY(IY(f=>i.add(new mt(f-l).mul(r)).toNumber()),gx);return c(0,e)},t5=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var l=e5(new mt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new mt(0):(c=new mt(e).add(n).div(2),c=c.sub(new mt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new mt(n).sub(c).div(l).toNumber()),p=f+h+1;return p>r?t5(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:c.sub(new mt(f).mul(l)),tickMax:c.add(new mt(h).mul(l))})},RY=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=JL([n,r]);if(c===-1/0||f===1/0){var h=f===1/0?[c,...gx(0,i-1).map(()=>1/0)]:[...gx(0,i-1).map(()=>-1/0),f];return n>r?h.reverse():h}if(c===f)return NY(c,i,s);var{step:p,tickMin:m,tickMax:y}=t5(c,f,l,s,0),b=ZL(m,y.add(new mt(.1).mul(p)),p);return n>r?b.reverse():b},kY=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=JL([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),h=e5(new mt(c).sub(l).div(f-1),s,0),p=[...ZL(new mt(l),new mt(c),h),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},n5=t=>t.rootProps.maxBarSize,PY=t=>t.rootProps.barGap,r5=t=>t.rootProps.barCategoryGap,MY=t=>t.rootProps.barSize,jy=t=>t.rootProps.stackOffset,i5=t=>t.rootProps.reverseStackOrder,yS=t=>t.options.chartName,_S=t=>t.rootProps.syncId,a5=t=>t.rootProps.syncMethod,bS=t=>t.options.eventEmitter,hr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ly=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},DY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xa.angleAxisId,includeHidden:!1,name:void 0,reversed:Xa.reversed,scale:Xa.scale,tick:Xa.tick,tickCount:void 0,ticks:void 0,type:Xa.type,unit:void 0},jY={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:Fr.type,unit:void 0},LY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},VY={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:"category",unit:void 0},wS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?LY:DY,xS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?VY:jY,Vy=t=>t.polarOptions,ES=ne([Ss,Ts,jn],kG),s5=ne([Vy,ES],(t,e)=>{if(t!=null)return Bi(t.innerRadius,e,0)}),o5=ne([Vy,ES],(t,e)=>{if(t!=null)return Bi(t.outerRadius,e,e*.8)}),zY=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},l5=ne([Vy],zY);ne([wS,l5],Ly);var u5=ne([ES,s5,o5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([xS,u5],Ly);var c5=ne([gt,Vy,s5,o5,Ss,Ts],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:h}=e;return{cx:Bi(l,i,i/2),cy:Bi(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),En=(t,e)=>e,zy=(t,e,n)=>n;function SS(t){return t==null?void 0:t.id}function f5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var f,h=(f=c.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=SS(c);h.forEach((m,y)=>{var b=s==null||i?y:String(Xn(m,s,null)),w=Xn(m,c.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[p]:w}),l.set(b,E)})}}),Array.from(l.values())}function Uy(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var By=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Fy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function UY(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Sn=t=>{var e=gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Qc=t=>t.tooltip.settings.axisId;function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return(e=FY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=qY(t,"string");return typeof e=="symbol"?e:e+""}function qY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vx=[0,"auto"],On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},h5=(t,e)=>t.cartesianAxis.xAxis[e],Is=(t,e)=>{var n=h5(t,e);return n??On},Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pd},d5=(t,e)=>t.cartesianAxis.yAxis[e],Os=(t,e)=>{var n=d5(t,e);return n??Nn},$Y={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$Y},pr=(t,e,n)=>{switch(e){case"xAxis":return Is(t,n);case"yAxis":return Os(t,n);case"zAxis":return TS(t,n);case"angleAxis":return wS(t,n);case"radiusAxis":return xS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},HY=(t,e,n)=>{switch(e){case"xAxis":return Is(t,n);case"yAxis":return Os(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ud=(t,e,n)=>{switch(e){case"xAxis":return Is(t,n);case"yAxis":return Os(t,n);case"angleAxis":return wS(t,n);case"radiusAxis":return xS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},p5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function m5(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var AS=t=>t.graphicalItems.cartesianItems,GY=ne([En,zy],m5),g5=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Bd=ne([AS,pr,GY],g5,{memoizeOptions:{resultEqualityCheck:Fy}}),v5=ne([Bd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Uy)),y5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),KY=ne([Bd],y5),_5=t=>t.map(e=>e.data).filter(Boolean).flat(1),WY=ne([Bd],_5,{memoizeOptions:{resultEqualityCheck:Fy}}),b5=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},CS=ne([WY,BL],b5),w5=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Xn(i,r)}))):t.map(r=>({value:r})),qy=ne([CS,pr,Bd],w5);function x5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function yg(t){if(Ta(t)||t instanceof Date){var e=Number(t);if(Ut(e))return e}}function Ak(t){if(Array.isArray(t)){var e=[yg(t[0]),yg(t[1])];return Mo(e)?e:void 0}var n=yg(t);if(n!=null)return[n,n]}function gs(t){return t.map(yg).filter(nq)}function YY(t,e,n){return!n||typeof e!="number"||Ui(e)?[]:n.length?gs(n.flatMap(r=>{var i=Xn(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ut(s)||!Ut(l)))return[e-s,e+l]})):[]}var Tn=t=>{var e=Sn(t),n=Qc(t);return Ud(t,e,n)},Fd=ne([Tn],t=>t==null?void 0:t.dataKey),QY=ne([v5,BL,Tn],f5),E5=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var f=l[c.stackId];return f==null&&(f=[]),f.push(c),l[c.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,f]=l,h=r?[...f].reverse():f,p=h.map(SS);return[c,{stackedData:x$(t,p,n),graphicalItems:h}]}))},yx=ne([QY,v5,jy,i5],E5),S5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=C$(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},XY=ne([pr],t=>t.allowDataOverflow),IS=t=>{var e;if(t==null||!("domain"in t))return vx;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=gs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:vx},T5=ne([pr],IS),A5=ne([T5,XY],FL),ZY=ne([yx,Cs,En,A5],S5,{memoizeOptions:{resultEqualityCheck:By}}),OS=t=>t.errorBars,JY=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>x5(n,r)),mv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},C5=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var h,p,m=(h=r[f.id])===null||h===void 0?void 0:h.filter(O=>x5(i,O)),y=Xn(c,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),b=YY(c,y,m);if(b.length>=2){var w=Math.min(...b),E=Math.max(...b);(s==null||w<s)&&(s=w),(l==null||E>l)&&(l=E)}var T=Ak(y);T!=null&&(s=s==null?T[0]:Math.min(s,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=Ak(Xn(c,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ut(s)&&Ut(l))return[s,l]},eQ=ne([CS,pr,KY,OS,En],C5,{memoizeOptions:{resultEqualityCheck:By}});function tQ(t){var{value:e}=t;if(Ta(e)||e instanceof Date)return e}var nQ=(t,e,n)=>{var r=t.map(tQ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Vj(r))?aL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},I5=t=>t.referenceElements.dots,Xc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rQ=ne([I5,En,zy],Xc),O5=t=>t.referenceElements.areas,iQ=ne([O5,En,zy],Xc),N5=t=>t.referenceElements.lines,aQ=ne([N5,En,zy],Xc),R5=(t,e)=>{if(t!=null){var n=gs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sQ=ne(rQ,En,R5),k5=(t,e)=>{if(t!=null){var n=gs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oQ=ne([iQ,En],k5);function lQ(t){var e;if(t.x!=null)return gs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:gs(n)}function uQ(t){var e;if(t.y!=null)return gs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:gs(n)}var P5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?lQ(r):uQ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cQ=ne([aQ,En],P5),fQ=ne(sQ,cQ,oQ,(t,e,n)=>mv(t,n,e)),M5=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=f?mv(r,s,i):mv(s,i);return xY(e,h,t.allowDataOverflow)},hQ=ne([pr,T5,A5,ZY,eQ,fQ,gt,En],M5,{memoizeOptions:{resultEqualityCheck:By}}),dQ=[0,1],D5=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,h=su(e,s);if(h&&c==null){var p;return aL(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?nQ(r,t,h):i==="expand"?dQ:l}},NS=ne([pr,gt,CS,qy,jy,En,hQ],D5),j5=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Id(s));return c in Nh?c:"point"}}},qd=ne([pr,gt,p5,yS,En],j5);function pQ(t){if(t!=null){if(t in Nh)return Nh[t]();var e="scale".concat(Id(t));if(e in Nh)return Nh[e]()}}function RS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=pQ(e);if(i!=null){var s=i.domain(n).range(r);return v$(s),s}}}var L5=(t,e,n)=>{var r=IS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Mo(t))return RY(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Mo(t))return kY(t,e.tickCount,e.allowDecimals)}},kS=ne([NS,Ud,qd],L5),V5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Mo(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},mQ=ne([pr,NS,kS,En],V5),gQ=ne(qy,pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(gs(t.map(m=>m.value))).sort((m,y)=>m-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var f=r[c],h=r[c+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),z5=ne(gQ,gt,r5,jn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ut(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Bi(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),vQ=(t,e,n)=>{var r=Is(t,e);return r==null||typeof r.padding!="string"?0:z5(t,"xAxis",e,n,r.padding)},yQ=(t,e,n)=>{var r=Os(t,e);return r==null||typeof r.padding!="string"?0:z5(t,"yAxis",e,n,r.padding)},_Q=ne(Is,vQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),bQ=ne(Os,yQ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),wQ=ne([jn,_Q,Ey,xy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),xQ=ne([jn,gt,bQ,Ey,xy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),$d=(t,e,n,r)=>{var i;switch(e){case"xAxis":return wQ(t,n,r);case"yAxis":return xQ(t,n,r);case"zAxis":return(i=TS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return l5(t);case"radiusAxis":return u5(t,n);default:return}},U5=ne([pr,$d],Ly),$y=ne([pr,qd,mQ,U5],RS);ne([Bd,OS,En],JY);function B5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Hy=(t,e)=>e,Gy=(t,e,n)=>n,EQ=ne(by,Hy,Gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B5)),SQ=ne(wy,Hy,Gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B5)),F5=(t,e)=>({width:t.width,height:e.height}),TQ=(t,e)=>{var n=typeof e.width=="number"?e.width:Pd;return{width:n,height:t.height}},q5=ne(jn,Is,F5),AQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},CQ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},IQ=ne(Ts,jn,EQ,Hy,Gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=F5(e,c);l==null&&(l=AQ(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),OQ=ne(Ss,jn,SQ,Hy,Gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=TQ(e,c);l==null&&(l=CQ(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),NQ=(t,e)=>{var n=Is(t,e);if(n!=null)return IQ(t,n.orientation,n.mirror)},RQ=ne([jn,Is,NQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),kQ=(t,e)=>{var n=Os(t,e);if(n!=null)return OQ(t,n.orientation,n.mirror)},PQ=ne([jn,Os,kQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$5=ne(jn,Os,(t,e)=>{var n=typeof e.width=="number"?e.width:Pd;return{width:n,height:t.height}}),Ck=(t,e,n)=>{switch(e){case"xAxis":return q5(t,n).width;case"yAxis":return $5(t,n).height;default:return}},H5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=su(t,r),f=e.map(h=>h.value);if(l&&c&&s==="category"&&i&&Vj(f))return f}},PS=ne([gt,qy,pr,En],H5),G5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=su(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},MS=ne([gt,qy,Ud,En],G5),Ik=ne([gt,HY,qd,$y,PS,MS,$d,kS,En],(t,e,n,r,i,s,l,c,f)=>{if(e!=null){var h=su(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}}),MQ=(t,e,n,r,i,s,l,c,f)=>{if(!(e==null||r==null)){var h=su(t,f),{type:p,ticks:m,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&s!=null&&s.length>=2?Sr(s[0]-s[1])*2*w:w;var E=m||i;if(E){var T=E.map((O,j)=>{var z=l?l.indexOf(O):O;return{index:j,coordinate:r(z)+w,value:O,offset:w}});return T.filter(O=>Ut(O.coordinate))}return h&&c?c.map((O,j)=>({coordinate:r(O)+w,value:O,index:j,offset:w})).filter(O=>Ut(O.coordinate)):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+w,value:O,offset:w})):r.domain().map((O,j)=>({coordinate:r(O)+w,value:l?l[O]:O,index:j,offset:w}))}},K5=ne([gt,Ud,qd,$y,kS,$d,PS,MS,En],MQ),DQ=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=su(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Sr(r[0]-r[1])*2*h:h,c&&s?s.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:i?i[p]:p,index:m,offset:h}))}},kc=ne([gt,Ud,$y,$d,PS,MS,En],DQ),Pc=ne(pr,$y,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})}),jQ=ne([pr,qd,NS,U5],RS);ne((t,e,n)=>TS(t,n),jQ,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})});var LQ=ne([gt,by,wy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W5=t=>t.options.defaultTooltipEventType,Y5=t=>t.options.validateTooltipEventTypes;function Q5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function DS(t,e){var n=W5(t),r=Y5(t);return Q5(e,n,r)}function VQ(t){return ke(e=>DS(e,t))}var X5=(t,e)=>{var n,r=Number(e);if(!(Ui(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},zQ=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UQ={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Z5=Or({name:"tooltip",initialState:UQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Li(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:jt()},removeTooltipEntrySettings:{reducer(t,e){var n=Li(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:BQ,replaceTooltipEntrySettings:FQ,removeTooltipEntrySettings:qQ,setTooltipSettingsState:$Q,setActiveMouseOverItemIndex:J5,mouseLeaveItem:HQ,mouseLeaveChart:e3,setActiveClickItemIndex:GQ,setMouseOverAxisIndex:t3,setMouseClickAxisIndex:KQ,setSyncInteraction:_x,setKeyboardInteraction:bx}=Z5.actions,WQ=Z5.reducer;function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=XQ(t,"string");return typeof e=="symbol"?e:e+""}function XQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function JQ(t){return t.index!=null}var n3=(t,e,n,r)=>{if(e==null)return bo;var i=ZQ(t,e,n);if(i==null)return bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(JQ(i)){if(s)return ng(ng({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ng(ng({},bo),{},{coordinate:i.coordinate})};function eX(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function tX(t,e){var n=eX(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function nX(t,e,n){if(n==null||e==null)return!0;var r=Xn(t,e);return r==null||!Mo(n)?!0:tX(r,n)}var jS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!Ut(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(s,c)),h=e[f];return h==null||nX(h,n,r)?String(f):null},r3=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var f=l[0],h=f==null?void 0:c(f.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},i3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},Hd=t=>t.options.tooltipPayloadSearcher,Zc=t=>t.tooltip;function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return(e=iX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iX(t){var e=aX(t,"string");return typeof e=="symbol"?e:e+""}function aX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sX(t,e){return t??e}var a3=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,m=[];return t.reduce((y,b)=>{var w,{dataDefinedOnItem:E,settings:T}=b,O=sX(E,c),j=Array.isArray(O)?N4(O,h,p):O,z=(w=T==null?void 0:T.dataKey)!==null&&w!==void 0?w:r,U=T==null?void 0:T.nameKey,q;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?q=tq(j,r,i):q=s(j,e,f,U),Array.isArray(q))q.forEach(N=>{var k=Rk(Rk({},T),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(j2({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:Xn(N.payload,N.dataKey),name:N.name}))});else{var V;y.push(j2({tooltipEntrySettings:T,dataKey:z,payload:q,value:Xn(q,z),name:(V=Xn(q,U))!==null&&V!==void 0?V:T==null?void 0:T.name}))}return y},m)}},LS=ne([Tn,gt,p5,yS,Sn],j5),oX=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),lX=ne([Sn,Qc],m5),Jc=ne([oX,Tn,lX],g5,{memoizeOptions:{resultEqualityCheck:Fy}}),uX=ne([Jc],t=>t.filter(Uy)),cX=ne([Jc],_5,{memoizeOptions:{resultEqualityCheck:Fy}}),ef=ne([cX,Cs],b5),fX=ne([uX,Cs,Tn],f5),VS=ne([ef,Tn,Jc],w5),s3=ne([Tn],IS),hX=ne([Tn],t=>t.allowDataOverflow),o3=ne([s3,hX],FL),dX=ne([Jc],t=>t.filter(Uy)),pX=ne([fX,dX,jy,i5],E5),mX=ne([pX,Cs,Sn,o3],S5),gX=ne([Jc],y5),vX=ne([ef,Tn,gX,OS,Sn],C5,{memoizeOptions:{resultEqualityCheck:By}}),yX=ne([I5,Sn,Qc],Xc),_X=ne([yX,Sn],R5),bX=ne([O5,Sn,Qc],Xc),wX=ne([bX,Sn],k5),xX=ne([N5,Sn,Qc],Xc),EX=ne([xX,Sn],P5),SX=ne([_X,EX,wX],mv),TX=ne([Tn,s3,o3,mX,vX,SX,gt,Sn],M5),Gd=ne([Tn,gt,ef,VS,jy,Sn,TX],D5),AX=ne([Gd,Tn,LS],L5),CX=ne([Tn,Gd,AX,Sn],V5),l3=t=>{var e=Sn(t),n=Qc(t),r=!1;return $d(t,e,n,r)},u3=ne([Tn,l3],Ly),c3=ne([Tn,LS,CX,u3],RS),IX=ne([gt,VS,Tn,Sn],H5),OX=ne([gt,VS,Tn,Sn],G5),NX=(t,e,n,r,i,s,l,c)=>{if(e){var{type:f}=e,h=su(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Sr(i[0]-i[1])*2*m:m,h&&l?l.map((y,b)=>({coordinate:r(y)+m,value:y,index:b,offset:m})):r.domain().map((y,b)=>({coordinate:r(y)+m,value:s?s[y]:y,index:b,offset:m}))}}},Ns=ne([gt,Tn,LS,c3,l3,IX,OX,Sn],NX),zS=ne([W5,Y5,zQ],(t,e,n)=>Q5(n.shared,t,e)),f3=t=>t.tooltip.settings.trigger,US=t=>t.tooltip.settings.defaultIndex,Kd=ne([Zc,zS,f3,US],n3),Mc=ne([Kd,ef,Fd,Gd],jS),h3=ne([Ns,Mc],X5),d3=ne([Kd],t=>{if(t)return t.dataKey});ne([Kd],t=>{if(t)return t.graphicalItemId});var p3=ne([Zc,zS,f3,US],i3),RX=ne([Ss,Ts,gt,jn,Ns,US,p3,Hd],r3),kX=ne([Kd,RX],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),PX=ne([Kd],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),MX=ne([p3,Mc,Cs,Fd,h3,Hd,zS],a3);ne([MX],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){DX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DX(t,e,n){return(e=jX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=LX(t,"string");return typeof e=="symbol"?e:e+""}function LX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VX=()=>ke(Tn),zX=()=>{var t=VX(),e=ke(Ns),n=ke(c3);return Wg(!t||!n?void 0:Pk(Pk({},t),{},{scale:n}),e)};function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=FX(t,"string");return typeof e=="symbol"?e:e+""}function FX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qX=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},$X=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return rc(rc(rc({},r),Qn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:f}=r;return rc(rc(rc({},r),Qn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function HX(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var m3=(t,e,n,r,i)=>{var s,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f,h,p,m,y,b=c>0?(f=n[c-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,w=(p=n[c])===null||p===void 0?void 0:p.coordinate,E=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(y=n[c+1])===null||y===void 0?void 0:y.coordinate,T=void 0;if(!(b==null||w==null||E==null))if(Sr(w-b)!==Sr(E-w)){var O=[];if(Sr(E-w)===Sr(i[1]-i[0])){T=E;var j=w+i[1]-i[0];O[0]=Math.min(j,(j+b)/2),O[1]=Math.max(j,(j+b)/2)}else{T=b;var z=E+i[1]-i[0];O[0]=Math.min(w,(z+w)/2),O[1]=Math.max(w,(z+w)/2)}var U=[Math.min(w,(T+w)/2),Math.max(w,(T+w)/2)];if(t>U[0]&&t<=U[1]||t>=O[0]&&t<=O[1]){var q;return(q=n[c])===null||q===void 0?void 0:q.index}}else{var V=Math.min(b,E),N=Math.max(b,E);if(t>(V+w)/2&&t<=(N+w)/2){var k;return(k=n[c])===null||k===void 0?void 0:k.index}}}else if(e)for(var P=0;P<l;P++){var B=e[P];if(B!=null){var M=e[P+1],F=e[P-1];if(P===0&&M!=null&&t<=(B.coordinate+M.coordinate)/2||P===l-1&&F!=null&&t>(B.coordinate+F.coordinate)/2||P>0&&P<l-1&&F!=null&&M!=null&&t>(B.coordinate+F.coordinate)/2&&t<=(B.coordinate+M.coordinate)/2)return B.index}}return-1},GX=()=>ke(yS),BS=(t,e)=>e,g3=(t,e,n)=>n,FS=(t,e,n,r)=>r,KX=ne(Ns,t=>fy(t,e=>e.coordinate)),qS=ne([Zc,BS,g3,FS],n3),$S=ne([qS,ef,Fd,Gd],jS),WX=(t,e,n)=>{if(e!=null){var r=Zc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},v3=ne([Zc,BS,g3,FS],i3),gv=ne([Ss,Ts,gt,jn,Ns,FS,v3,Hd],r3),YX=ne([qS,gv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),y3=ne([Ns,$S],X5),QX=ne([v3,$S,Cs,Fd,y3,Hd,BS],a3),XX=ne([qS,$S],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ZX=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&HX(t,l)){var c=I$(t,e),f=m3(c,s,i,n,r),h=qX(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},JX=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=LG(t,n);if(c){var f=O$(c,e),h=m3(f,l,s,r,i),p=$X(e,s,h,c);return{activeIndex:String(h),activeCoordinate:p}}}},eZ=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?ZX(t,e,r,i,s,l,c):JX(t,e,n,r,i,s,l)},tZ=ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),nZ=ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(hr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:UY}});function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sZ={},oZ={zIndexMap:Object.values(hr).reduce((t,e)=>jk(jk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),sZ)},lZ=new Set(Object.values(hr));function uZ(t){return lZ.has(t)}var _3=Or({name:"zIndex",initialState:oZ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!uZ(n)&&delete t.zIndexMap[n])},prepare:jt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:jt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:jt()}}}),{registerZIndexPortal:cZ,unregisterZIndexPortal:fZ,registerZIndexPortalElement:hZ,unregisterZIndexPortalElement:dZ}=_3.actions,pZ=_3.reducer;function Rs(t){var{zIndex:e,children:n}=t,r=lH(),i=r&&e!==void 0&&e!==0,s=Nr(),l=Jt();C.useLayoutEffect(()=>i?(l(cZ({zIndex:e})),()=>{l(fZ({zIndex:e}))}):Od,[l,e,i]);var c=ke(f=>tZ(f,e,s));return i?c?bj.createPortal(n,c):null:n}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function _Z(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:h,chartName:p}=t,m=n,y=r,b=i;if(!f||!m||p!=="ScatterChart"&&h!=="axis")return null;var w,E,T;if(p==="ScatterChart")w=m,E=QH,T=hr.cursorLine;else if(p==="BarChart")w=XH(c,m,s,l),E=tL,T=hr.cursorRectangle;else if(c==="radial"&&Bj(m)){var{cx:O,cy:j,radius:z,startAngle:U,endAngle:q}=nL(m);w={cx:O,cy:j,startAngle:U,endAngle:q,innerRadius:z,outerRadius:z},E=iL,T=hr.cursorLine}else w={points:BG(c,m,s)},E=Q4,T=hr.cursorLine;var V=typeof f=="object"&&"className"in f?f.className:void 0,N=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},s),w),EE(f)),{},{payload:y,payloadIndex:b,className:Pt("recharts-tooltip-cursor",V)});return C.createElement(Rs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},C.createElement(yZ,{cursor:f,cursorComp:E,cursorProps:N}))}function bZ(t){var e=zX(),n=z4(),r=Md(),i=GX();return e==null||n==null||r==null||i==null?null:C.createElement(_Z,wx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var b3=C.createContext(null),wZ=()=>C.useContext(b3),W1={exports:{}},Vk;function xZ(){return Vk||(Vk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,m||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,w=new Array(b);y<b;y++)w[y]=m[y].fn;return w},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,y,b,w){var E=n?n+h:h;if(!this._events[E])return!1;var T=this._events[E],O=arguments.length,j,z;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,m),!0;case 4:return T.fn.call(T.context,p,m,y),!0;case 5:return T.fn.call(T.context,p,m,y,b),!0;case 6:return T.fn.call(T.context,p,m,y,b,w),!0}for(z=1,j=new Array(O-1);z<O;z++)j[z-1]=arguments[z];T.fn.apply(T.context,j)}else{var U=T.length,q;for(z=0;z<U;z++)switch(T[z].once&&this.removeListener(h,T[z].fn,void 0,!0),O){case 1:T[z].fn.call(T[z].context);break;case 2:T[z].fn.call(T[z].context,p);break;case 3:T[z].fn.call(T[z].context,p,m);break;case 4:T[z].fn.call(T[z].context,p,m,y);break;default:if(!j)for(q=1,j=new Array(O-1);q<O;q++)j[q-1]=arguments[q];T[z].fn.apply(T[z].context,j)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,y){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!y||w.once)&&(!m||w.context===m)&&l(this,b);else{for(var E=0,T=[],O=w.length;E<O;E++)(w[E].fn!==p||y&&!w[E].once||m&&w[E].context!==m)&&T.push(w[E]);T.length?this._events[b]=T.length===1?T[0]:T:l(this,b)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(W1)),W1.exports}var EZ=xZ();const SZ=Oa(EZ);var ud=new SZ,xx="recharts.syncEvent.tooltip",zk="recharts.syncEvent.brush";function TZ(t,e){if(e){var n=Number.parseInt(e,10);if(!Ui(n))return t==null?void 0:t[n]}}var AZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},w3=Or({name:"options",initialState:AZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CZ=w3.reducer,{createEventEmitter:IZ}=w3.actions;function OZ(t){return t.tooltip.syncInteraction}var NZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x3=Or({name:"chartData",initialState:NZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Uk,setDataStartEndIndexes:RZ,setComputedData:Ome}=x3.actions,kZ=x3.reducer,PZ=["x","y"];function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){MZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MZ(t,e,n){return(e=DZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=jZ(t,"string");return typeof e=="symbol"?e:e+""}function jZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LZ(t,e){if(t==null)return{};var n,r,i=VZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zZ(){var t=ke(_S),e=ke(bS),n=Jt(),r=ke(a5),i=ke(Ns),s=Md(),l=Sy(),c=ke(f=>f.rootProps.className);C.useEffect(()=>{if(t==null)return Od;var f=(h,p,m)=>{if(e!==m&&t===h){if(r==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:w,y:E}=b,T=LZ(b,PZ),{x:O,y:j,width:z,height:U}=p.payload.sourceViewBox,q=ic(ic({},T),{},{x:l.x+(z?(w-O)/z:0)*l.width,y:l.y+(U?(E-j)/U:0)*l.height});n(ic(ic({},p),{},{payload:ic(ic({},p.payload),{},{coordinate:q})}))}else n(p);return}if(i!=null){var V;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},k=r(i,N);V=i[k]}else r==="value"&&(V=i.find(K=>String(K.value)===p.payload.label));var{coordinate:P}=p.payload;if(V==null||p.payload.active===!1||P==null||l==null){n(_x({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:M}=P,F=Math.min(B,l.x+l.width),L=Math.min(M,l.y+l.height),pe={x:s==="horizontal"?V.coordinate:F,y:s==="horizontal"?L:V.coordinate},Se=_x({active:p.payload.active,coordinate:pe,dataKey:p.payload.dataKey,index:String(V.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Se)}}};return ud.on(xx,f),()=>{ud.off(xx,f)}},[c,n,e,t,r,i,s,l])}function UZ(){var t=ke(_S),e=ke(bS),n=Jt();C.useEffect(()=>{if(t==null)return Od;var r=(i,s,l)=>{e!==l&&t===i&&n(RZ(s))};return ud.on(zk,r),()=>{ud.off(zk,r)}},[n,e,t])}function BZ(){var t=Jt();C.useEffect(()=>{t(IZ())},[t]),zZ(),UZ()}function FZ(t,e,n,r,i,s){var l=ke(b=>WX(b,t,e)),c=ke(bS),f=ke(_S),h=ke(a5),p=ke(OZ),m=p==null?void 0:p.active,y=Sy();C.useEffect(()=>{if(!m&&f!=null&&c!=null){var b=_x({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});ud.emit(xx,f,b,c)}},[m,n,l,i,r,c,f,h,s,y])}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=HZ(t,"string");return typeof e=="symbol"?e:e+""}function HZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GZ(t){return t.dataKey}function KZ(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(OH,e)}var $k=[],WZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function YZ(t){var e,n,r=Yr(t,WZ),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:f,filterNull:h,isAnimationActive:p,offset:m,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:E,wrapperStyle:T,cursor:O,shared:j,trigger:z,defaultIndex:U,portal:q,axisId:V}=r,N=Jt(),k=typeof U=="number"?String(U):U;C.useEffect(()=>{N($Q({shared:j,trigger:z,axisId:V,active:i,defaultIndex:k}))},[N,j,z,V,i,k]);var P=Sy(),B=Y4(),M=VQ(j),{activeIndex:F,isActive:L}=(e=ke(Ae=>XX(Ae,M,z,k)))!==null&&e!==void 0?e:{},pe=ke(Ae=>QX(Ae,M,z,k)),Se=ke(Ae=>y3(Ae,M,z,k)),K=ke(Ae=>YX(Ae,M,z,k)),re=pe,de=wZ(),me=(n=i??L)!==null&&n!==void 0?n:!1,[Re,H]=h7([re,me]),W=M==="axis"?Se:void 0;FZ(M,z,K,W,F,me);var ae=q??de;if(ae==null||P==null||M==null)return null;var fe=re??$k;me||(fe=$k),h&&fe.length&&(fe=Vq(fe.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),y,GZ));var ye=fe.length>0,Ie=C.createElement(jH,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:me,coordinate:K,hasPayload:ye,offset:m,position:b,reverseDirection:w,useTranslate3d:E,viewBox:P,wrapperStyle:T,lastBoundingBox:Re,innerRef:H,hasPortalFromProps:!!q},KZ(f,qk(qk({},r),{},{payload:fe,label:W,active:me,activeIndex:F,coordinate:K,accessibilityLayer:B})));return C.createElement(C.Fragment,null,bj.createPortal(Ie,ae),me&&C.createElement(bZ,{cursor:O,tooltipEventType:M,coordinate:K,payload:fe,index:F}))}var E3=t=>null;E3.displayName="Cell";function QZ(t,e,n){return(e=XZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=ZZ(t,"string");return typeof e=="symbol"?e:e+""}function ZZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JZ{constructor(e){QZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){tJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJ(t,e,n){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return typeof e=="symbol"?e:e+""}function rJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iJ={cacheSize:2e3,enableCache:!0},S3=eJ({},iJ),Gk=new JZ(S3.cacheSize),aJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kk="recharts_measurement_span";function sJ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var Wk=(t,e)=>{try{var n=document.getElementById(Kk);n||(n=document.createElement("span"),n.setAttribute("id",Kk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,aJ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Oy.isSsr)return{width:0,height:0};if(!S3.enableCache)return Wk(e,n);var r=sJ(e,n),i=Gk.get(r);if(i)return i;var s=Wk(e,n);return Gk.set(r,s),s},T3;function oJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dJ=["cm","mm","pt","pc","in","Q","px"];function pJ(t){return dJ.includes(t)}var dc="NaN";function mJ(t,e){return t*hJ[e]}class Hn{static parse(e){var n,[,r,i]=(n=fJ.exec(e))!==null&&n!==void 0?n:[];return r==null?Hn.NaN:new Hn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ui(e)&&(this.unit=""),n!==""&&!cJ.test(n)&&(this.num=NaN,this.unit=""),pJ(n)&&(this.num=mJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Hn(NaN,""):new Hn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Hn(NaN,""):new Hn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hn(NaN,""):new Hn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hn(NaN,""):new Hn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ui(this.num)}}T3=Hn;oJ(Hn,"NaN",new T3(NaN,""));function A3(t){if(t==null||t.includes(dc))return dc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=Yk.exec(e))!==null&&n!==void 0?n:[],l=Hn.parse(r??""),c=Hn.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return dc;e=e.replace(Yk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,m,y]=(h=Qk.exec(e))!==null&&h!==void 0?h:[],b=Hn.parse(p??""),w=Hn.parse(y??""),E=m==="+"?b.add(w):b.subtract(w);if(E.isNaN())return dc;e=e.replace(Qk,E.toString())}return e}var Xk=/\(([^()]*)\)/;function gJ(t){for(var e=t,n;(n=Xk.exec(e))!=null;){var[,r]=n;e=e.replace(Xk,A3(r))}return e}function vJ(t){var e=t.replace(/\s+/g,"");return e=gJ(e),e=A3(e),e}function yJ(t){try{return vJ(t)}catch{return dc}}function Y1(t){var e=yJ(t.slice(5,-1));return e===dc?"":e}var _J=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bJ=["dx","dy","angle","className","breakAll"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function Zk(t,e){if(t==null)return{};var n,r,i=wJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C3=/[ \f\n\r\t\v\u2028\u2029]+/,I3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Dn(e)||(n?i=e.toString().split(""):i=e.toString().split(C3));var s=i.map(c=>({word:c,width:Vh(c,r).width})),l=n?0:Vh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function xJ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var O3=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var h={words:[l],width:c};i.push(h)}return i},[]),N3=t=>t.reduce((e,n)=>e.width>n.width?e:n),EJ="",Jk=(t,e,n,r,i,s,l,c)=>{var f=t.slice(0,e),h=I3({breakAll:n,style:r,children:f+EJ});if(!h)return[!1,[]];var p=O3(h.wordsWithComputedWidth,s,l,c),m=p.length>i||N3(p).width>Number(s);return[m,p]},SJ=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:f}=t,h=Te(s),p=String(l),m=O3(e,r,n,i);if(!h||i)return m;var y=m.length>s||N3(m).width>Number(r);if(!y)return m;for(var b=0,w=p.length-1,E=0,T;b<=w&&E<=p.length-1;){var O=Math.floor((b+w)/2),j=O-1,[z,U]=Jk(p,j,f,c,s,r,n,i),[q]=Jk(p,O,f,c,s,r,n,i);if(!z&&!q&&(b=O+1),z&&q&&(w=O-1),!z&&q){T=U;break}E++}return T||m},eP=t=>{var e=Dn(t)?[]:t.toString().split(C3);return[{words:e,width:void 0}]},TJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Oy.isSsr){var c,f,h=I3({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;c=p,f=m}else return eP(r);return SJ({breakAll:s,children:r,maxLines:l,style:i},c,f,e,!!n)}return eP(r)},R3="#808080",AJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:R3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},HS=C.forwardRef((t,e)=>{var n=Yr(t,AJ),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,m=Zk(n,_J),y=C.useMemo(()=>TJ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:b,dy:w,angle:E,className:T,breakAll:O}=m,j=Zk(m,bJ);if(!Ta(r)||!Ta(i)||y.length===0)return null;var z=Number(r)+(Te(b)?b:0),U=Number(i)+(Te(w)?w:0);if(!Ut(z)||!Ut(U))return null;var q;switch(p){case"start":q=Y1("calc(".concat(l,")"));break;case"middle":q=Y1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:q=Y1("calc(".concat(y.length-1," * -").concat(s,")"));break}var V=[];if(f){var N=y[0].width,{width:k}=m;V.push("scale(".concat(Te(k)&&Te(N)?k/N:1,")"))}return E&&V.push("rotate(".concat(E,", ").concat(z,", ").concat(U,")")),V.length&&(j.transform=V.join(" ")),C.createElement("text",Ex({},pi(j),{ref:e,x:z,y:U,className:Pt("recharts-text",T),textAnchor:h,fill:c.includes("url")?R3:c}),y.map((P,B)=>{var M=P.words.join(O?"":" ");return C.createElement("tspan",{x:z,dy:B===0?q:s,key:"".concat(M,"-").concat(B)},M)}))});HS.displayName="Text";var CJ=["labelRef"],IJ=["content"];function tP(t,e){if(t==null)return{};var n,r,i=OJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){NJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=kJ(t,"string");return typeof e=="symbol"?e:e+""}function kJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(null,arguments)}var k3=C.createContext(null),PJ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,f=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return C.createElement(k3.Provider,{value:f},c)},P3=()=>{var t=C.useContext(k3),e=Sy();return t||V4(e)},MJ=C.createContext(null),DJ=()=>{var t=C.useContext(MJ),e=ke(c5);return t||e},jJ=t=>{var{value:e,formatter:n}=t,r=Dn(t.children)?e:t.children;return typeof n=="function"?n(r):r},GS=t=>t!=null&&typeof t=="function",LJ=(t,e)=>{var n=Sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},VJ=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:f,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,clockWise:b}=i,w=(h+p)/2,E=LJ(m,y),T=E>=0?1:-1,O,j;switch(e){case"insideStart":O=m+T*s,j=b;break;case"insideEnd":O=y-T*s,j=!b;break;case"end":O=y+T*s,j=b;break;default:throw new Error("Unsupported position ".concat(e))}j=E<=0?j:!j;var z=Qn(c,f,w,O),U=Qn(c,f,w,O+(j?1:-1)*359),q="M".concat(z.x,",").concat(z.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(U.x,",").concat(U.y),V=Dn(t.id)?Qh("recharts-radial-line-"):t.id;return C.createElement("text",Za({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:V,d:q})),C.createElement("textPath",{xlinkHref:"#".concat(V)},n))},zJ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:f}=t,h=(c+f)/2;if(n==="outside"){var{x:p,y:m}=Qn(r,i,l+e,h);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:b,y:w}=Qn(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Sx=t=>"cx"in t&&Te(t.cx),UJ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!Sx(n)&&(s=n);var{x:l,y:c,upperWidth:f,lowerWidth:h,height:p}=e,m=l,y=l+(f-h)/2,b=(m+y)/2,w=(f+h)/2,E=m+f/2,T=p>=0?1:-1,O=T*r,j=T>0?"end":"start",z=T>0?"start":"end",U=f>=0?1:-1,q=U*r,V=U>0?"end":"start",N=U>0?"start":"end";if(i==="top"){var k={x:m+f/2,y:c-O,textAnchor:"middle",verticalAnchor:j};return Xt(Xt({},k),s?{height:Math.max(c-s.y,0),width:f}:{})}if(i==="bottom"){var P={x:y+h/2,y:c+p+O,textAnchor:"middle",verticalAnchor:z};return Xt(Xt({},P),s?{height:Math.max(s.y+s.height-(c+p),0),width:h}:{})}if(i==="left"){var B={x:b-q,y:c+p/2,textAnchor:V,verticalAnchor:"middle"};return Xt(Xt({},B),s?{width:Math.max(B.x-s.x,0),height:p}:{})}if(i==="right"){var M={x:b+w+q,y:c+p/2,textAnchor:N,verticalAnchor:"middle"};return Xt(Xt({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var F=s?{width:w,height:p}:{};return i==="insideLeft"?Xt({x:b+q,y:c+p/2,textAnchor:N,verticalAnchor:"middle"},F):i==="insideRight"?Xt({x:b+w-q,y:c+p/2,textAnchor:V,verticalAnchor:"middle"},F):i==="insideTop"?Xt({x:m+f/2,y:c+O,textAnchor:"middle",verticalAnchor:z},F):i==="insideBottom"?Xt({x:y+h/2,y:c+p-O,textAnchor:"middle",verticalAnchor:j},F):i==="insideTopLeft"?Xt({x:m+q,y:c+O,textAnchor:N,verticalAnchor:z},F):i==="insideTopRight"?Xt({x:m+f-q,y:c+O,textAnchor:V,verticalAnchor:z},F):i==="insideBottomLeft"?Xt({x:y+q,y:c+p-O,textAnchor:N,verticalAnchor:j},F):i==="insideBottomRight"?Xt({x:y+h-q,y:c+p-O,textAnchor:V,verticalAnchor:j},F):i&&typeof i=="object"&&(Te(i.x)||fs(i.x))&&(Te(i.y)||fs(i.y))?Xt({x:l+Bi(i.x,w),y:c+Bi(i.y,p),textAnchor:"end",verticalAnchor:"end"},F):Xt({x:E,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},F)},BJ={angle:0,offset:5,zIndex:hr.label,position:"middle",textBreakAll:!1};function _o(t){var e=Yr(t,BJ),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:f,labelRef:h}=e,p=DJ(),m=P3(),y=r==="center"?m:p??m,b,w,E;if(n==null?b=y:Sx(n)?b=n:b=V4(n),!b||Dn(i)&&Dn(s)&&!C.isValidElement(l)&&typeof l!="function")return null;var T=Xt(Xt({},e),{},{viewBox:b});if(C.isValidElement(l)){var{labelRef:O}=T,j=tP(T,CJ);return C.cloneElement(l,j)}if(typeof l=="function"){var{content:z}=T,U=tP(T,IJ);if(w=C.createElement(l,U),C.isValidElement(w))return w}else w=jJ(e);var q=pi(e);if(Sx(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return VJ(e,r,w,q,b);E=zJ(b,e.offset,e.position)}else E=UJ(e,b);return C.createElement(Rs,{zIndex:e.zIndex},C.createElement(HS,Za({ref:h,className:Pt("recharts-label",c)},q,E,{textAnchor:xJ(q.textAnchor)?q.textAnchor:E.textAnchor,breakAll:f}),w))}_o.displayName="Label";var FJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(_o,Za({key:"label-implicit"},r)):Ta(t)?C.createElement(_o,Za({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===_o?C.cloneElement(t,Xt({key:"label-implicit"},r)):C.createElement(_o,Za({key:"label-implicit",content:t},r)):GS(t)?C.createElement(_o,Za({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(_o,Za({},t,{key:"label-implicit"},r)):null};function qJ(t){var{label:e,labelRef:n}=t,r=P3();return FJ(e,r,n)||null}var Q1={},X1={},rP;function $J(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(X1)),X1}var Z1={},iP;function HJ(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Z1)),Z1}var aP;function GJ(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J(),n=HJ(),r=RE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Q1)),Q1}var J1,sP;function KJ(){return sP||(sP=1,J1=GJ().last),J1}var WJ=KJ();const YJ=Oa(WJ);var QJ=["valueAccessor"],XJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(null,arguments)}function oP(t,e){if(t==null)return{};var n,r,i=ZJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JJ=t=>Array.isArray(t.value)?YJ(t.value):t.value,M3=C.createContext(void 0),eee=M3.Provider,D3=C.createContext(void 0);D3.Provider;function tee(){return C.useContext(M3)}function nee(){return C.useContext(D3)}function _g(t){var{valueAccessor:e=JJ}=t,n=oP(t,QJ),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,f=oP(n,XJ),h=tee(),p=nee(),m=h||p;return!m||!m.length?null:C.createElement(Rs,{zIndex:c??hr.label},C.createElement(cs,{className:"recharts-label-list"},m.map((y,b)=>{var w,E=Dn(r)?e(y,b):Xn(y&&y.payload,r),T=Dn(s)?{}:{id:"".concat(s,"-").concat(b)};return C.createElement(_o,vv({key:"label-".concat(b)},pi(y),f,T,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}_g.displayName="LabelList";function ree(t){var{label:e}=t;return e?e===!0?C.createElement(_g,{key:"labelList-implicit"}):C.isValidElement(e)||GS(e)?C.createElement(_g,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(_g,vv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var iee={radiusAxis:{},angleAxis:{}},j3=Or({name:"polarAxis",initialState:iee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Nme,removeRadiusAxis:Rme,addAngleAxis:kme,removeAngleAxis:Pme}=j3.actions,aee=j3.reducer,ew={exports:{}},wt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function see(){if(lP)return wt;lP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case m:case p:return E;case s:return E;default:return T}}case e:return T}}}return wt.ContextConsumer=s,wt.ContextProvider=l,wt.Element=t,wt.ForwardRef=c,wt.Fragment=n,wt.Lazy=m,wt.Memo=p,wt.Portal=e,wt.Profiler=i,wt.StrictMode=r,wt.Suspense=f,wt.SuspenseList=h,wt.isContextConsumer=function(E){return w(E)===s},wt.isContextProvider=function(E){return w(E)===l},wt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},wt.isForwardRef=function(E){return w(E)===c},wt.isFragment=function(E){return w(E)===n},wt.isLazy=function(E){return w(E)===m},wt.isMemo=function(E){return w(E)===p},wt.isPortal=function(E){return w(E)===e},wt.isProfiler=function(E){return w(E)===i},wt.isStrictMode=function(E){return w(E)===r},wt.isSuspense=function(E){return w(E)===f},wt.isSuspenseList=function(E){return w(E)===h},wt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===b||E.getModuleId!==void 0)},wt.typeOf=w,wt}var uP;function oee(){return uP||(uP=1,ew.exports=see()),ew.exports}var lee=oee(),cP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",fP=null,tw=null,L3=t=>{if(t===fP&&Array.isArray(tw))return tw;var e=[];return C.Children.forEach(t,n=>{Dn(n)||(lee.isFragment(n)?e=e.concat(L3(n.props.children)):e.push(n))}),tw=e,fP=t,e};function uee(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>cP(i)):r=[cP(e)],L3(t).forEach(i=>{var s=Ac(i,"type.displayName")||Ac(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var nw={},hP;function cee(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(nw)),nw}var rw,dP;function fee(){return dP||(dP=1,rw=cee().isPlainObject),rw}var hee=fee();const dee=Oa(hee);var pP,mP,gP,vP,yP;function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=gee(t,"string");return typeof e=="symbol"?e:e+""}function gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(null,arguments)}function Eh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wP=(t,e,n,r,i)=>{var s=n-r,l;return l=$t(pP||(pP=Eh(["M ",",",""])),t,e),l+=$t(mP||(mP=Eh(["L ",",",""])),t+n,e),l+=$t(gP||(gP=Eh(["L ",",",""])),t+n-s/2,e+i),l+=$t(vP||(vP=Eh(["L ",",",""])),t+n-s/2-r,e+i),l+=$t(yP||(yP=Eh(["L ",","," Z"])),t,e),l},vee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yee=t=>{var e=Yr(t,vee),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=e,y=C.useRef(null),[b,w]=C.useState(-1),E=C.useRef(i),T=C.useRef(s),O=C.useRef(l),j=C.useRef(n),z=C.useRef(r),U=GE(t,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var pe=y.current.getTotalLength();pe&&w(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var q=Pt("recharts-trapezoid",c);if(!m)return C.createElement("g",null,C.createElement("path",yv({},pi(e),{className:q,d:wP(n,r,i,s,l)})));var V=E.current,N=T.current,k=O.current,P=j.current,B=z.current,M="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),L=X4(["strokeDasharray"],h,f);return C.createElement(HE,{animationId:U,key:U,canBegin:b>0,duration:h,easing:f,isActive:m,begin:p},pe=>{var Se=Gn(V,i,pe),K=Gn(N,s,pe),re=Gn(k,l,pe),de=Gn(P,n,pe),me=Gn(B,r,pe);y.current&&(E.current=Se,T.current=K,O.current=re,j.current=de,z.current=me);var Re=pe>0?{transition:L,strokeDasharray:F}:{strokeDasharray:M};return C.createElement("path",yv({},pi(e),{className:q,d:wP(de,me,Se,K,re),ref:y,style:bP(bP({},Re),e.style)}))})},_ee=["option","shapeType","activeClassName"];function bee(t,e){if(t==null)return{};var n,r,i=wee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return(e=Eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eee(t){var e=See(t,"string");return typeof e=="symbol"?e:e+""}function See(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tee(t,e){return _v(_v({},e),t)}function Aee(t,e){return t==="symbols"}function EP(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(tL,n);case"trapezoid":return C.createElement(yee,n);case"sector":return C.createElement(iL,n);case"symbols":if(Aee(e))return C.createElement(Uj,n);break;case"curve":return C.createElement(Q4,n);default:return null}}function Cee(t){return C.isValidElement(t)?t.props:t}function Iee(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=bee(t,_ee),s;if(C.isValidElement(e))s=C.cloneElement(e,_v(_v({},i),Cee(e)));else if(typeof e=="function")s=e(i,i.index);else if(dee(e)&&typeof e!="boolean"){var l=Tee(e,i);s=C.createElement(EP,{shapeType:n,elementProps:l})}else{var c=i;s=C.createElement(EP,{shapeType:n,elementProps:c})}return i.isActive?C.createElement(cs,{className:r},s):s}var V3=(t,e,n)=>{var r=Jt();return(i,s)=>l=>{t==null||t(i,s,l),r(J5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},z3=t=>{var e=Jt();return(n,r)=>i=>{t==null||t(n,r,i),e(HQ())}},U3=(t,e,n)=>{var r=Jt();return(i,s)=>l=>{t==null||t(i,s,l),r(GQ({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Oee(t){var{tooltipEntrySettings:e}=t,n=Jt(),r=Nr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(BQ(e)):i.current!==e&&n(FQ({prev:i.current,next:e})),i.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(qQ(i.current)),i.current=null)},[n]),null}function Nee(t){var{legendPayload:e}=t,n=Jt(),r=Nr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(wH(e)):i.current!==e&&n(xH({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(EH(i.current)),i.current=null)},[n]),null}var iw,Ree=()=>{var[t]=C.useState(()=>Qh("uid-"));return t},kee=(iw=L8.useId)!==null&&iw!==void 0?iw:Ree;function Pee(t,e){var n=kee();return e||(t?"".concat(t,"-").concat(n):n)}var Mee=C.createContext(void 0),Dee=t=>{var{id:e,type:n,children:r}=t,i=Pee("recharts-".concat(n),e);return C.createElement(Mee.Provider,{value:i},r(i))},jee={cartesianItems:[],polarItems:[]},B3=Or({name:"graphicalItems",initialState:jee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Li(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Li(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:jt()},removePolarGraphicalItem:{reducer(t,e){var n=Li(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:jt()}}}),{addCartesianGraphicalItem:Lee,replaceCartesianGraphicalItem:Vee,removeCartesianGraphicalItem:zee,addPolarGraphicalItem:Mme,removePolarGraphicalItem:Dme}=B3.actions,Uee=B3.reducer,Bee=t=>{var e=Jt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Lee(t)):n.current!==t&&e(Vee({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(zee(n.current)),n.current=null)},[e]),null},Fee=C.memo(Bee);function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return(e=$ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F3=0,Gee={xAxis:{},yAxis:{},zAxis:{}},q3=Or({name:"cartesianAxis",initialState:Gee,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=TP(TP({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Kee,replaceXAxis:Wee,removeXAxis:Yee,addYAxis:Qee,replaceYAxis:Xee,removeYAxis:Zee,addZAxis:jme,replaceZAxis:Lme,removeZAxis:Vme,updateYAxisWidth:Jee}=q3.actions,ete=q3.reducer,tte=ne([jn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),nte=ne([tte,Ss,Ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$3=()=>ke(nte),AP=(t,e,n)=>{var r=n??t;if(!Dn(r))return Bi(r,e,0)},rte=(t,e,n)=>{var r={},i=t.filter(Uy),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),c=Object.entries(l).map(h=>{var[p,m]=h,y=m.map(w=>w.dataKey),b=AP(e,n,m[0].barSize);return{stackId:p,dataKeys:y,barSize:b}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),m=AP(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...f]};function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ote(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Bi(t,n,0,!0),c,f=[];if(Ut(r[0].barSize)){var h=!1,p=n/s,m=r.reduce((O,j)=>O+(j.barSize||0),0);m+=(s-1)*l,m>=n&&(m-=(s-1)*l,l=0),m>=n&&p>0&&(h=!0,p*=.9,m=s*p);var y=(n-m)/2>>0,b={offset:y-l,size:0};c=r.reduce((O,j)=>{var z,U={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(z=j.barSize)!==null&&z!==void 0?z:0}},q=[...O,U];return b=q[q.length-1].position,q},f)}else{var w=Bi(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var E=(n-2*w-(s-1)*l)/s;E>1&&(E>>=0);var T=Ut(i)?Math.min(E,i):E;c=r.reduce((O,j,z)=>[...O,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:w+(E+l)*z+(E-T)/2,size:T}}],f)}return c}}var lte=(t,e,n,r,i,s,l)=>{var c=Dn(l)?e:l,f=ote(n,r,i!==s?i:s,t,c);return i!==s&&f!=null&&(f=f.map(h=>ig(ig({},h),{},{position:ig(ig({},h.position),{},{offset:h.position.offset-i/2})}))),f},ute=(t,e)=>{var n=SS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function cte(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ut(t.zIndex)?t.zIndex:e}var fte=t=>{var{chartData:e}=t,n=Jt(),r=Nr();return C.useEffect(()=>r?()=>{}:(n(Uk(e)),()=>{n(Uk(void 0))}),[e,n,r]),null},IP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},H3=Or({name:"brush",initialState:IP,reducers:{setBrushSettings(t,e){return e.payload==null?IP:e.payload}}}),{setBrushSettings:zme}=H3.actions,hte=H3.reducer;function dte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KS{static create(e){return new KS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}dte(KS,"EPS",1e-4);function gte(t){return(t%180+180)%180}var vte=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gte(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},yte={dots:[],areas:[],lines:[]},G3=Or({name:"referenceElements",initialState:yte,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Li(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Li(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Li(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ume,removeDot:Bme,addArea:Fme,removeArea:qme,addLine:$me,removeLine:Hme}=G3.actions,_te=G3.reducer,bte=C.createContext(void 0),wte=t=>{var{children:e}=t,[n]=C.useState("".concat(Qh("recharts"),"-clip")),r=$3();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return C.createElement(bte.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function K3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function xte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return vte(r,n)}function Ete(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function cd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ste(t,e){return K3(t,e+1)}function Tte(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,f=0,h=1,p=l,m=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:K3(r,h)};var E=f,T,O=()=>(T===void 0&&(T=n(w,E)),T),j=w.coordinate,z=f===0||cd(t,j,O,p,c);z||(f=0,p=l,h+=1),z&&(p=j+t*(O()/2+i),f+=h)},y;h<=s.length;)if(y=m(),y)return y.v;return[]}function Ate(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,m=c,y=!0,b=function(){var j=r[w],z=w,U,q=()=>(U===void 0&&(U=n(j,z)),U),V=j.coordinate,N=w===p||cd(t,V,q,m,f);if(!N)return y=!1,1;N&&(m=V+t*(q()/2+i))},w=p;w<l&&!b();w+=h);if(y){for(var E=[],T=p;T<l;T+=h)E.push(r[T]);return E}}return[]}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nte(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:f}=e,h=function(y){var b=s[y],w,E=()=>(w===void 0&&(w=n(b,y)),w);if(y===l-1){var T=t*(b.coordinate+t*E()/2-f);s[y]=b=tr(tr({},b),{},{tickCoord:T>0?b.coordinate-T*t:b.coordinate})}else s[y]=b=tr(tr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var O=cd(t,b.tickCoord,E,c,f);O&&(f=b.tickCoord-t*(E()/2+i),s[y]=tr(tr({},b),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Rte(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:f,end:h}=e;if(s){var p=r[c-1],m=n(p,c-1),y=t*(p.coordinate+t*m/2-h);if(l[c-1]=p=tr(tr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var b=cd(t,p.tickCoord,()=>m,f,h);b&&(h=p.tickCoord-t*(m/2+i),l[c-1]=tr(tr({},p),{},{isShow:!0}))}}for(var w=s?c-1:c,E=function(j){var z=l[j],U,q=()=>(U===void 0&&(U=n(z,j)),U);if(j===0){var V=t*(z.coordinate-t*q()/2-f);l[j]=z=tr(tr({},z),{},{tickCoord:V<0?z.coordinate-V*t:z.coordinate})}else l[j]=z=tr(tr({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var N=cd(t,z.tickCoord,q,f,h);N&&(f=z.tickCoord+t*(q()/2+i),l[j]=tr(tr({},z),{},{isShow:!0}))}},T=0;T<w;T++)E(T);return l}function WS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:f,tickFormatter:h,unit:p,angle:m}=t;if(!i||!i.length||!r)return[];if(Te(f)||Oy.isSsr){var y;return(y=Ste(i,Te(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=c==="top"||c==="bottom"?"width":"height",E=p&&w==="width"?Vh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(z,U)=>{var q=typeof h=="function"?h(z.value,U):z.value;return w==="width"?xte(Vh(q,{fontSize:e,letterSpacing:n}),E,m):Vh(q,{fontSize:e,letterSpacing:n})[w]},O=i.length>=2?Sr(i[1].coordinate-i[0].coordinate):1,j=Ete(s,O,w);return f==="equidistantPreserveStart"?Tte(O,j,T,i,l):f==="equidistantPreserveEnd"?Ate(O,j,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Rte(O,j,T,i,l,f==="preserveStartEnd"):b=Nte(O,j,T,i,l),b.filter(z=>z.isShow))}var kte=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+c+(n?r:0);return Math.round(h)}return 0},Pte=["axisLine","width","height","className","hide","ticks","axisType"];function Mte(t,e){if(t==null)return{};var n,r,i=Dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var as={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hr.axis};function zte(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var h=fn(fn(fn({},f),us(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=fn(fn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var m=+(s==="left"&&!l||s==="right"&&l);h=fn(fn({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return C.createElement("line",Yl({},h,{className:Pt("recharts-cartesian-axis-line",Ac(c,"className"))}))}function Ute(t,e,n,r,i,s,l,c,f){var h,p,m,y,b,w,E=c?-1:1,T=t.tickSize||l,O=Te(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!c*i,m=y-E*T,w=m-E*f,b=O;break;case"left":m=y=t.coordinate,p=e+ +!c*r,h=p-E*T,b=h-E*f,w=O;break;case"right":m=y=t.coordinate,p=e+ +c*r,h=p+E*T,b=h+E*f,w=O;break;default:h=p=t.coordinate,y=n+ +c*i,m=y+E*T,w=m+E*f,b=O;break}return{line:{x1:h,y1:m,x2:p,y2:y},tick:{x:b,y:w}}}function Bte(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Fte(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function qte(t){var{option:e,tickProps:n,value:r}=t,i,s=Pt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,fn(fn({},n),{},{className:s}));else if(typeof e=="function")i=e(fn(fn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Pt(l,e==null?void 0:e.className)),i=C.createElement(HS,Yl({},n,{className:l}),r)}return i}var $te=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:f,tickTextProps:h,orientation:p,mirror:m,x:y,y:b,width:w,height:E,tickSize:T,tickMargin:O,fontSize:j,letterSpacing:z,getTicksConfig:U,events:q,axisType:V}=t,N=WS(fn(fn({},U),{},{ticks:n}),j,z),k=Bte(p,m),P=Fte(p,m),B=us(U),M=EE(r),F={};typeof i=="object"&&(F=i);var L=fn(fn({},B),{},{fill:"none"},F),pe=N.map(re=>fn({entry:re},Ute(re,y,b,w,E,p,T,m,O))),Se=pe.map(re=>{var{entry:de,line:me}=re;return C.createElement(cs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},i&&C.createElement("line",Yl({},L,me,{className:Pt("recharts-cartesian-axis-tick-line",Ac(i,"className"))})))}),K=pe.map((re,de)=>{var{entry:me,tick:Re}=re,H=fn(fn(fn(fn({textAnchor:k,verticalAnchor:P},B),{},{stroke:"none",fill:s},M),Re),{},{index:de,payload:me,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return C.createElement(cs,Yl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},NE(q,me,de)),r&&C.createElement(qte,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(me.value,de):me.value).concat(c||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},K.length>0&&C.createElement(Rs,{zIndex:hr.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},K)),Se.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},Se))}),Hte=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:f}=t,h=Mte(t,Pte),[p,m]=C.useState(""),[y,b]=C.useState(""),w=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return kte({ticks:w.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(T=>{if(T){var O=T.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=O;var j=O[0];if(j){var z=window.getComputedStyle(j),U=z.fontSize,q=z.letterSpacing;(U!==p||q!==y)&&(m(U),b(q))}}},[p,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Rs,{zIndex:t.zIndex},C.createElement(cs,{className:Pt("recharts-cartesian-axis",s)},C.createElement(zte,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:us(t)}),C.createElement($te,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(PJ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(qJ,{label:t.label,labelRef:t.labelRef}),t.children)))}),YS=C.forwardRef((t,e)=>{var n=Yr(t,as);return C.createElement(Hte,Yl({},n,{ref:e}))});YS.displayName="CartesianAxis";var Gte=["x1","y1","x2","y2","key"],Kte=["offset"],Wte=["xAxisId","yAxisId"],Yte=["xAxisId","yAxisId"];function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return(e=Xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Zte(t,"string");return typeof e=="symbol"?e:e+""}function Zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(null,arguments)}function bv(t,e){if(t==null)return{};var n,r,i=Jte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ene=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:c}=t;return C.createElement("rect",{x:r,y:i,ry:c,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function W3(t){var{option:e,lineItemProps:n}=t,r;if(C.isValidElement(e))r=C.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:c,y2:f,key:h}=n,p=bv(n,Gte),m=(i=us(p))!==null&&i!==void 0?i:{},{offset:y}=m,b=bv(m,Kte);r=C.createElement("line",Dl({},b,{x1:s,y1:l,x2:c,y2:f,fill:"none",key:h}))}return r}function tne(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=bv(t,Wte),f=i.map((h,p)=>{var m=rr(rr({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return C.createElement(W3,{key:"line-".concat(p),option:r,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function nne(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=bv(t,Yte),f=i.map((h,p)=>{var m=rr(rr({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return C.createElement(W3,{option:r,lineItemProps:m,key:"line-".concat(p)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function rne(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length||c==null)return null;var h=c.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var b=!h[y+1],w=b?i+l-m:h[y+1]-m;if(w<=0)return null;var E=y%e.length;return C.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:w,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ine(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:c,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var p=h.map((m,y)=>{var b=!h[y+1],w=b?i+l-m:h[y+1]-m;if(w<=0)return null;var E=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:m,y:s,width:w,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var ane=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return R4(WS(rr(rr(rr({},as),n),{},{ticks:k4(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},sne=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return R4(WS(rr(rr(rr({},as),n),{},{ticks:k4(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},one={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hr.grid};function Y3(t){var e=U4(),n=B4(),r=z4(),i=rr(rr({},Yr(t,one)),{},{x:Te(t.x)?t.x:r.left,y:Te(t.y)?t.y:r.top,width:Te(t.width)?t.width:r.width,height:Te(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:c,y:f,width:h,height:p,syncWithTicks:m,horizontalValues:y,verticalValues:b}=i,w=Nr(),E=ke(P=>Ik(P,"xAxis",s,w)),T=ke(P=>Ik(P,"yAxis",l,w));if(!Aa(h)||!Aa(p)||!Te(c)||!Te(f))return null;var O=i.verticalCoordinatesGenerator||ane,j=i.horizontalCoordinatesGenerator||sne,{horizontalPoints:z,verticalPoints:U}=i;if((!z||!z.length)&&typeof j=="function"){var q=y&&y.length,V=j({yAxis:T?rr(rr({},T),{},{ticks:q?y:T.ticks}):void 0,width:e??h,height:n??p,offset:r},q?!0:m);Yg(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(z=V)}if((!U||!U.length)&&typeof O=="function"){var N=b&&b.length,k=O({xAxis:E?rr(rr({},E),{},{ticks:N?b:E.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:m);Yg(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(U=k)}return C.createElement(Rs,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(ene,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(rne,Dl({},i,{horizontalPoints:z})),C.createElement(ine,Dl({},i,{verticalPoints:U})),C.createElement(tne,Dl({},i,{offset:r,horizontalPoints:z,xAxis:E,yAxis:T})),C.createElement(nne,Dl({},i,{offset:r,verticalPoints:U,xAxis:E,yAxis:T}))))}Y3.displayName="CartesianGrid";var lne={},Q3=Or({name:"errorBars",initialState:lne,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Gme,replaceErrorBar:Kme,removeErrorBar:Wme}=Q3.actions,une=Q3.reducer,cne=["children"];function fne(t,e){if(t==null)return{};var n,r,i=hne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},pne=C.createContext(dne);function mne(t){var{children:e}=t,n=fne(t,cne);return C.createElement(pne.Provider,{value:n},e)}function X3(t,e){var n,r,i=ke(h=>Is(h,t)),s=ke(h=>Os(h,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:On.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Nn.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function gne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$3(),{needClipX:s,needClipY:l,needClip:c}=X3(e,n);if(!c||!i)return null;var{x:f,y:h,width:p,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:s?f:f-p/2,y:l?h:h-m/2,width:s?p:p*2,height:l?m:m*2}))}var aw={exports:{}},sw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP;function vne(){if(kP)return sw;kP=1;var t=Gc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return sw.useSyncExternalStoreWithSelector=function(f,h,p,m,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function T(q){if(!O){if(O=!0,j=q,q=m(q),y!==void 0&&w.hasValue){var V=w.value;if(y(V,q))return z=V}return z=q}if(V=z,n(j,q))return V;var N=m(q);return y!==void 0&&y(V,N)?(j=q,V):(j=q,z=N)}var O=!1,j,z,U=p===void 0?null:p;return[function(){return T(h())},U===null?void 0:function(){return T(U())}]},[h,p,m,y]);var E=r(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},sw}var PP;function yne(){return PP||(PP=1,aw.exports=vne()),aw.exports}yne();function _ne(t){t()}function bne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){_ne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MP={notify(){},get:()=>[]};function wne(t,e){let n,r=MP,i=0,s=!1;function l(E){p();const T=r.subscribe(E);let O=!1;return()=>{O||(O=!0,T(),m())}}function c(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=bne())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MP)}function y(){s||(s=!0,p())}function b(){s&&(s=!1,m())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var xne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ene=xne(),Sne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tne=Sne(),Ane=()=>Ene||Tne?C.useLayoutEffect:C.useEffect,Cne=Ane();function DP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ine(t,e){if(DP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!DP(t[n[i]],e[n[i]]))return!1;return!0}var ow=Symbol.for("react-redux-context"),lw=typeof globalThis<"u"?globalThis:{};function One(){if(!C.createContext)return{};const t=lw[ow]??(lw[ow]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var Nne=One();function Rne(t){const{children:e,context:n,serverState:r,store:i}=t,s=C.useMemo(()=>{const f=wne(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);Cne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const c=n||Nne;return C.createElement(c.Provider,{value:s},e)}var kne=Rne,Pne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Mne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function QS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Pne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Ine(t[r],e[r]))return!1}else if(!Mne(t[r],e[r]))return!1;return!0}function uu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:F3}function cu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:F3}var Dne="Invariant failed";function jne(t,e){throw new Error(Dne)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function wv(t){return C.createElement(Iee,Tx({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Lne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Te(e))return e;var s=Te(r)||Dn(r);return s?e(r,i):(s||jne(),n)}},Vne=(t,e,n)=>n,zne=(t,e)=>e,Wd=ne([AS,zne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Une=ne([Wd],t=>t==null?void 0:t.maxBarSize),Bne=(t,e,n,r)=>r,Fne=ne([gt,AS,uu,cu,Vne],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),qne=(t,e,n)=>{var r=gt(t),i=uu(t,e),s=cu(t,e);if(!(i==null||s==null))return r==="horizontal"?yx(t,"yAxis",s,n):yx(t,"xAxis",i,n)},$ne=(t,e)=>{var n=gt(t),r=uu(t,e),i=cu(t,e);if(!(r==null||i==null))return n==="horizontal"?Ck(t,"xAxis",r):Ck(t,"yAxis",i)},Hne=ne([Fne,MY,$ne],rte),Gne=(t,e,n)=>{var r,i,s=Wd(t,e);if(s!=null){var l=uu(t,e),c=cu(t,e);if(!(l==null||c==null)){var f=gt(t),h=n5(t),{maxBarSize:p}=s,m=Dn(p)?h:p,y,b;return f==="horizontal"?(y=Pc(t,"xAxis",l,n),b=kc(t,"xAxis",l,n)):(y=Pc(t,"yAxis",c,n),b=kc(t,"yAxis",c,n)),(r=(i=Wg(y,b,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},Z3=(t,e,n)=>{var r=gt(t),i=uu(t,e),s=cu(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=Pc(t,"xAxis",i,n),c=kc(t,"xAxis",i,n)):(l=Pc(t,"yAxis",s,n),c=kc(t,"yAxis",s,n)),Wg(l,c)}},Kne=ne([Hne,n5,PY,r5,Gne,Z3,Une],lte),Wne=(t,e,n)=>{var r=uu(t,e);if(r!=null)return Pc(t,"xAxis",r,n)},Yne=(t,e,n)=>{var r=cu(t,e);if(r!=null)return Pc(t,"yAxis",r,n)},Qne=(t,e,n)=>{var r=uu(t,e);if(r!=null)return kc(t,"xAxis",r,n)},Xne=(t,e,n)=>{var r=cu(t,e);if(r!=null)return kc(t,"yAxis",r,n)},Zne=ne([Kne,Wd],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Jne=ne([qne,Wd],ute),ere=ne([jn,BE,Wne,Yne,Qne,Xne,Zne,gt,wY,Z3,Jne,Wd,Bne],(t,e,n,r,i,s,l,c,f,h,p,m,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:E}=f;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:T}=m,O;if(T!=null&&T.length>0?O=T:O=b==null?void 0:b.slice(w,E+1),O!=null)return Ore({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:O,offset:t,cells:y,dataStartIndex:w})}}),tre=["index"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(null,arguments)}function nre(t,e){if(t==null)return{};var n,r,i=rre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J3=C.createContext(void 0),ire=t=>{var e=C.useContext(J3);if(e!=null)return e.stackId;if(t!=null)return E$(t)},are=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),sre=t=>{var e=C.useContext(J3);if(e!=null){var{stackId:n}=e;return"url(#".concat(are(n,t),")")}},ore=t=>{var{index:e}=t,n=nre(t,tre),r=sre(e);return C.createElement(cs,Ax({className:"recharts-bar-stack-layer",clipPath:r},n))},lre=["onMouseEnter","onMouseLeave","onClick"],ure=["value","background","tooltipPosition"],cre=["id"],fre=["onMouseEnter","onClick","onMouseLeave"];function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(null,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(t,e){if(t==null)return{};var n,r,i=mre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gre=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:P4(n,e),payload:t}]},vre=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:P4(s,e),hide:l,type:f,color:i,unit:c,graphicalItemId:h}};return C.createElement(Oee,{tooltipEntrySettings:p})});function yre(t){var e=ke(Mc),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=s,h=xv(s,lre),p=V3(l,r,s.id),m=z3(c),y=U3(f,r,s.id);if(!i||n==null)return null;var b=EE(i);return C.createElement(Rs,{zIndex:cte(i,hr.barBackground)},n.map((w,E)=>{var{value:T,background:O,tooltipPosition:j}=w,z=xv(w,ure);if(!O)return null;var U=p(w,E),q=m(w,E),V=y(w,E),N=cr(cr(cr(cr(cr({option:i,isActive:String(E)===e},z),{},{fill:"#eee"},O),b),NE(h,w,E)),{},{onMouseEnter:U,onMouseLeave:q,onClick:V,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(wv,vs({key:"background-bar-".concat(E)},N))}))}function _re(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return cr(cr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return C.createElement(eee,{value:e?i:void 0},n)}function bre(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=ke(Mc),f=ke(d3),h=n&&String(s)===c&&(f==null||l===f),p=h?n:e;return h?C.createElement(Rs,{zIndex:hr.activeBar},C.createElement(wv,vs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):C.createElement(wv,vs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function wre(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return C.createElement(wv,vs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function xre(t){var e,{data:n,props:r}=t,i=(e=us(r))!==null&&e!==void 0?e:{},{id:s}=i,l=xv(i,cre),{shape:c,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:m,onMouseLeave:y}=r,b=xv(r,fre),w=V3(p,f,s),E=z3(y),T=U3(m,f,s);return n?C.createElement(C.Fragment,null,n.map((O,j)=>C.createElement(ore,vs({index:j,key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(j),className:"recharts-bar-rectangle"},NE(b,O,j),{onMouseEnter:w(O,j),onMouseLeave:E(O,j),onClick:T(O,j)}),h?C.createElement(bre,{shape:c,activeBar:h,baseProps:l,entry:O,index:j,dataKey:f}):C.createElement(wre,{shape:c,baseProps:l,entry:O,index:j,dataKey:f})))):null}function Ere(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,m=n.current,y=GE(e,"recharts-bar-"),[b,w]=C.useState(!1),E=!b,T=C.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),O=C.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return C.createElement(_re,{showLabels:E,rects:r},C.createElement(HE,{animationId:y,begin:l,duration:c,isActive:s,easing:f,onAnimationEnd:T,onAnimationStart:O,key:y},j=>{var z=j===1?r:r==null?void 0:r.map((U,q)=>{var V=m&&m[q];if(V)return cr(cr({},U),{},{x:Gn(V.x,U.x,j),y:Gn(V.y,U.y,j),width:Gn(V.width,U.width,j),height:Gn(V.height,U.height,j)});if(i==="horizontal"){var N=Gn(0,U.height,j),k=Gn(U.stackedBarStart,U.y,j);return cr(cr({},U),{},{y:k,height:N})}var P=Gn(0,U.width,j),B=Gn(U.stackedBarStart,U.x,j);return cr(cr({},U),{},{width:P,x:B})});return j>0&&(n.current=z??null),z==null?null:C.createElement(cs,null,C.createElement(xre,{props:e,data:z}))}),C.createElement(ree,{label:e.label}),e.children)}function Sre(t){var e=C.useRef(null);return C.createElement(Ere,{previousRectanglesRef:e,props:t})}var e6=0,Tre=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Xn(t,e)}};class Are extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:f,id:h}=this.props;if(e||n==null)return null;var p=Pt("recharts-bar",i),m=h;return C.createElement(cs,{className:p,id:h},c&&C.createElement("defs",null,C.createElement(gne,{clipPathId:m,xAxisId:s,yAxisId:l})),C.createElement(cs,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},C.createElement(yre,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),C.createElement(Sre,this.props)))}}var Cre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:e6,xAxisId:0,yAxisId:0,zIndex:hr.bar};function Ire(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:m}=X3(e,n),y=Md(),b=Nr(),w=uee(t.children,E3),E=ke(j=>ere(j,t.id,b,w));if(y!=="vertical"&&y!=="horizontal")return null;var T,O=E==null?void 0:E[0];return O==null||O.height==null||O.width==null?T=0:T=y==="vertical"?O.height/2:O.width/2,C.createElement(mne,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Tre,errorBarOffset:T},C.createElement(Are,vs({},t,{layout:y,needClip:m,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Ore(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:m,offset:y,cells:b,parentViewBox:w,dataStartIndex:E}=t,T=e==="horizontal"?c:l,O=p?T.scale.domain():null,j=S$({numericAxis:T}),z=T.scale(j);return m.map((U,q)=>{var V,N,k,P,B,M;if(p){var F=p[q+E];if(F==null)return null;V=y$(F,O)}else V=Xn(U,n),Array.isArray(V)||(V=[j,V]);var L=Lne(r,e6)(V[1],q);if(e==="horizontal"){var pe,[Se,K]=[c.scale(V[0]),c.scale(V[1])];N=P2({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:U,index:q}),k=(pe=K??Se)!==null&&pe!==void 0?pe:void 0,P=i.size;var re=Se-K;if(B=Ui(re)?0:re,M={x:N,y:y.top,width:P,height:y.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var de=Sr(B||L)*(Math.abs(L)-Math.abs(B));k-=de,B+=de}}else{var[me,Re]=[l.scale(V[0]),l.scale(V[1])];if(N=me,k=P2({axis:c,ticks:h,bandSize:s,offset:i.offset,entry:U,index:q}),P=Re-me,B=i.size,M={x:y.left,y:k,width:y.width,height:B},Math.abs(L)>0&&Math.abs(P)<Math.abs(L)){var H=Sr(P||L)*(Math.abs(L)-Math.abs(P));P+=H}}if(N==null||k==null||P==null||B==null)return null;var W=cr(cr({},U),{},{stackedBarStart:z,x:N,y:k,width:P,height:B,value:p?V:V[1],payload:U,background:M,tooltipPosition:{x:N+P/2,y:k+B/2},parentViewBox:w},b&&b[q]&&b[q].props);return W}).filter(Boolean)}function Nre(t){var e=Yr(t,Cre),n=ire(e.stackId),r=Nr();return C.createElement(Dee,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(Nee,{legendPayload:gre(e)}),C.createElement(vre,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),C.createElement(Fee,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Rs,{zIndex:e.zIndex},C.createElement(Ire,vs({},e,{id:i})))))}var Cx=C.memo(Nre,QS);Cx.displayName="Bar";var Rre=["domain","range"],kre=["domain","range"];function LP(t,e){if(t==null)return{};var n,r,i=Pre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VP(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function t6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=LP(t,Rre),{domain:s,range:l}=e,c=LP(e,kre);return!VP(n,s)||!VP(r,l)?!1:QS(i,c)}var Mre=["dangerouslySetInnerHTML","ticks","scale"],Dre=["id","scale"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function zP(t,e){if(t==null)return{};var n,r,i=jre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lre(t){var e=Jt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Kee(t)):n.current!==t&&e(Wee({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Yee(n.current)),n.current=null)},[e]),null}var Vre=t=>{var{xAxisId:e,className:n}=t,r=ke(BE),i=Nr(),s="xAxis",l=ke(O=>K5(O,s,e,i)),c=ke(O=>q5(O,e)),f=ke(O=>RQ(O,e)),h=ke(O=>h5(O,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:y}=t,b=zP(t,Mre),{id:w,scale:E}=h,T=zP(h,Dre);return C.createElement(YS,Ix({},b,T,{x:f.x,y:f.y,width:c.width,height:c.height,className:Pt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},zre={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,angle:On.angle,axisLine:as.axisLine,height:On.height,hide:!1,includeHidden:On.includeHidden,interval:On.interval,minTickGap:On.minTickGap,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tick:On.tick,tickCount:On.tickCount,tickLine:as.tickLine,tickSize:as.tickSize,type:On.type,xAxisId:0},Ure=t=>{var e=Yr(t,zre);return C.createElement(C.Fragment,null,C.createElement(Lre,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(Vre,e))},n6=C.memo(Ure,t6);n6.displayName="XAxis";var Bre=["dangerouslySetInnerHTML","ticks","scale"],Fre=["id","scale"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function UP(t,e){if(t==null)return{};var n,r,i=qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $re(t){var e=Jt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Qee(t)):n.current!==t&&e(Xee({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Zee(n.current)),n.current=null)},[e]),null}var Hre=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=C.useRef(null),l=C.useRef(null),c=ke(BE),f=Nr(),h=Jt(),p="yAxis",m=ke(V=>$5(V,e)),y=ke(V=>PQ(V,e)),b=ke(V=>K5(V,p,e,f)),w=ke(V=>d5(V,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!m||GS(i)||C.isValidElement(i)||w==null)){var V=s.current;if(V){var N=V.getCalculatedWidth();Math.round(m.width)!==Math.round(N)&&h(Jee({id:e,width:N}))}}},[b,m,h,i,e,r,w]),m==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:O}=t,j=UP(t,Bre),{id:z,scale:U}=w,q=UP(w,Fre);return C.createElement(YS,Ox({},j,q,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Pt("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:b,axisType:p}))},Gre={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:as.axisLine,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:as.tickLine,tickSize:as.tickSize,type:Nn.type,width:Nn.width,yAxisId:0},Kre=t=>{var e=Yr(t,Gre);return C.createElement(C.Fragment,null,C.createElement($re,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(Hre,e))},r6=C.memo(Kre,t6);r6.displayName="YAxis";var Wre=(t,e)=>e,XS=ne([Wre,gt,c5,Sn,u3,Ns,KX,jn],eZ),ZS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},i6=mi("mouseClick"),a6=kd();a6.startListening({actionCreator:i6,effect:(t,e)=>{var n=t.payload,r=XS(e.getState(),ZS(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(KQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Nx=mi("mouseMove"),s6=kd(),ag=null;s6.startListening({actionCreator:Nx,effect:(t,e)=>{var n=t.payload;ag!==null&&cancelAnimationFrame(ag);var r=ZS(n);ag=requestAnimationFrame(()=>{var i=e.getState(),s=DS(i,i.tooltip.settings.shared);if(s==="axis"){var l=XS(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(t3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(e3())}ag=null})}});function Yre(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var BP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o6=Or({name:"rootProps",initialState:BP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:BP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Qre=o6.reducer,{updateOptions:Xre}=o6.actions,l6=Or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Yme}=l6.actions,Zre=l6.reducer,u6=mi("keyDown"),c6=mi("focus"),JS=kd();JS.startListening({actionCreator:u6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=jS(i,ef(n),Fd(n),Gd(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=Ns(n);if(s==="Enter"){var h=gv(n,"axis","hover",String(i.index));e.dispatch(bx({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=LQ(n),m=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,b=c+y*m;if(!(f==null||b>=f.length||b<0)){var w=gv(n,"axis","hover",String(b));e.dispatch(bx({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});JS.startListening({actionCreator:c6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=gv(n,"axis","hover",String(s));e.dispatch(bx({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var fi=mi("externalEvent"),f6=kd(),uw=new Map;f6.startListening({actionCreator:fi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=uw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:kX(c),activeDataKey:d3(c),activeIndex:Mc(c),activeLabel:h3(c),activeTooltipIndex:Mc(c),isTooltipActive:PX(c)};n(f,r)}finally{uw.delete(i)}});uw.set(i,l)}}});var Jre=ne([Zc],t=>t.tooltipItemPayloads),eie=ne([Jre,Hd,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),h6=mi("touchMove"),d6=kd();d6.startListening({actionCreator:h6,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=DS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=XS(r,ZS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(t3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(R$),m=(c=h.getAttribute(k$))!==null&&c!==void 0?c:void 0,y=Jc(r).find(E=>E.id===m);if(p==null||y==null||m==null)return;var{dataKey:b}=y,w=eie(r,p,m);e.dispatch(J5({activeDataKey:b,activeIndex:p,activeCoordinate:w,activeGraphicalItemId:m}))}}}});var tie=n4({brush:hte,cartesianAxis:ete,chartData:kZ,errorBars:une,graphicalItems:Uee,layout:h$,legend:SH,options:CZ,polarAxis:aee,polarOptions:Zre,referenceElements:_te,rootProps:Qre,tooltip:WQ,zIndex:pZ}),nie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return L7({reducer:tie,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([a6.middleware,s6.middleware,JS.middleware,f6.middleware,d6.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(v4({type:"raf"}))},devTools:{serialize:{replacer:Yre},name:"recharts-".concat(n)}})};function rie(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Nr(),s=C.useRef(null);if(i)return n;s.current==null&&(s.current=nie(e,r));var l=kE;return C.createElement(kne,{context:l,store:s.current},n)}function iie(t){var{layout:e,margin:n}=t,r=Jt(),i=Nr();return C.useEffect(()=>{i||(r(u$(e)),r(l$(n)))},[r,i,e,n]),null}var aie=C.memo(iie,QS);function sie(t){var e=Jt();return C.useEffect(()=>{e(Xre(t))},[e,t]),null}function FP(t){var{zIndex:e,isPanorama:n}=t,r=C.useRef(null),i=Jt();return C.useLayoutEffect(()=>(r.current&&i(hZ({zIndex:e,element:r.current,isPanorama:n})),()=>{i(dZ({zIndex:e,isPanorama:n}))}),[i,e,n]),C.createElement("g",{tabIndex:-1,ref:r})}function qP(t){var{children:e,isPanorama:n}=t,r=ke(nZ);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(FP,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>C.createElement(FP,{key:l,zIndex:l,isPanorama:n})))}var oie=["children"];function lie(t,e){if(t==null)return{};var n,r,i=uie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}var cie={width:"100%",height:"100%",display:"block"},fie=C.forwardRef((t,e)=>{var n=U4(),r=B4(),i=Y4();if(!Aa(n)||!Aa(r))return null;var{children:s,otherAttributes:l,title:c,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),C.createElement(_j,Ev({},l,{title:c,desc:f,role:p,tabIndex:h,width:n,height:r,style:cie,ref:e}),s)}),hie=t=>{var{children:e}=t,n=ke(Ey);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return C.createElement(_j,{width:r,height:i,x:l,y:s},e)},$P=C.forwardRef((t,e)=>{var{children:n}=t,r=lie(t,oie),i=Nr();return i?C.createElement(hie,null,C.createElement(qP,{isPanorama:!0},n)):C.createElement(fie,Ev({ref:e},r),C.createElement(qP,{isPanorama:!1},n))});function die(){var t=Jt(),[e,n]=C.useState(null),r=ke(N$);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ut(s)&&s!==r&&t(f$(s))}},[e,t,r]),n}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}var yie=()=>(BZ(),null);function Sv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var _ie=C.forwardRef((t,e)=>{var n,r,i=C.useRef(null),[s,l]=C.useState({containerWidth:Sv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Sv((r=t.style)===null||r===void 0?void 0:r.height)}),c=C.useCallback((h,p)=>{l(m=>{var y=Math.round(h),b=Math.round(p);return m.containerWidth===y&&m.containerHeight===b?m:{containerWidth:y,containerHeight:b}})},[]),f=C.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=h.getBoundingClientRect();c(p,m);var y=w=>{var{width:E,height:T}=w[0].contentRect;c(E,T)},b=new ResizeObserver(y);b.observe(h),i.current=b}},[e,c]);return C.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[c]),C.createElement(C.Fragment,null,C.createElement(Ty,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",Ql({ref:f},t)))}),bie=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=C.useState({containerWidth:Sv(n),containerHeight:Sv(r)}),l=C.useCallback((f,h)=>{s(p=>{var m=Math.round(f),y=Math.round(h);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),c=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return C.createElement(C.Fragment,null,C.createElement(Ty,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Ql({ref:c},t)))}),wie=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(Ty,{width:n,height:r}),C.createElement("div",Ql({ref:e},t)))}),xie=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return fs(n)||fs(r)?C.createElement(bie,Ql({},t,{ref:e})):C.createElement(wie,Ql({},t,{ref:e}))});function Eie(t){return t===!0?_ie:xie}var Sie=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:E,style:T,width:O,responsive:j,dispatchTouchEvents:z=!0}=t,U=C.useRef(null),q=Jt(),[V,N]=C.useState(null),[k,P]=C.useState(null),B=die(),M=FE(),F=(M==null?void 0:M.width)>0?M.width:O,L=(M==null?void 0:M.height)>0?M.height:i,pe=C.useCallback(se=>{B(se),typeof e=="function"&&e(se),N(se),P(se),se!=null&&(U.current=se)},[B,e,N,P]),Se=C.useCallback(se=>{q(i6(se)),q(fi({handler:s,reactEvent:se}))},[q,s]),K=C.useCallback(se=>{q(Nx(se)),q(fi({handler:h,reactEvent:se}))},[q,h]),re=C.useCallback(se=>{q(e3()),q(fi({handler:p,reactEvent:se}))},[q,p]),de=C.useCallback(se=>{q(Nx(se)),q(fi({handler:m,reactEvent:se}))},[q,m]),me=C.useCallback(()=>{q(c6())},[q]),Re=C.useCallback(se=>{q(u6(se.key))},[q]),H=C.useCallback(se=>{q(fi({handler:l,reactEvent:se}))},[q,l]),W=C.useCallback(se=>{q(fi({handler:c,reactEvent:se}))},[q,c]),ae=C.useCallback(se=>{q(fi({handler:f,reactEvent:se}))},[q,f]),fe=C.useCallback(se=>{q(fi({handler:y,reactEvent:se}))},[q,y]),ye=C.useCallback(se=>{q(fi({handler:E,reactEvent:se}))},[q,E]),Ie=C.useCallback(se=>{z&&q(h6(se)),q(fi({handler:w,reactEvent:se}))},[q,z,w]),Ae=C.useCallback(se=>{q(fi({handler:b,reactEvent:se}))},[q,b]),$e=Eie(j);return C.createElement(b3.Provider,{value:V},C.createElement(mF.Provider,{value:k},C.createElement($e,{width:F??(T==null?void 0:T.width),height:L??(T==null?void 0:T.height),className:Pt("recharts-wrapper",r),style:pie({position:"relative",cursor:"default",width:F,height:L},T),onClick:Se,onContextMenu:H,onDoubleClick:W,onFocus:me,onKeyDown:Re,onMouseDown:ae,onMouseEnter:K,onMouseLeave:re,onMouseMove:de,onMouseUp:fe,onTouchEnd:Ae,onTouchMove:Ie,onTouchStart:ye,ref:pe},C.createElement(yie,null),n)))}),Tie=["width","height","responsive","children","className","style","compact","title","desc"];function Aie(t,e){if(t==null)return{};var n,r,i=Cie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Iie=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:f,title:h,desc:p}=t,m=Aie(t,Tie),y=us(m);return f?C.createElement(C.Fragment,null,C.createElement(Ty,{width:n,height:r}),C.createElement($P,{otherAttributes:y,title:h,desc:p},s)):C.createElement(Sie,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement($P,{otherAttributes:y,title:h,desc:p,ref:e},C.createElement(wte,null,s)))});function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(null,arguments)}var Oie={top:5,right:5,bottom:5,left:5},Nie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Oie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Rie=C.forwardRef(function(e,n){var r,i=Yr(e.categoricalChartProps,Nie),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return C.createElement(rie,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},C.createElement(fte,{chartData:h.data}),C.createElement(aie,{layout:i.layout,margin:i.margin}),C.createElement(sie,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(Iie,Rx({},i,{ref:n})))}),kie=["axis","item"],Pie=C.forwardRef((t,e)=>C.createElement(Rie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kie,tooltipPayloadSearcher:TZ,categoricalChartProps:t,ref:e}));const Mie=({active:t,payload:e,label:n})=>{var r,i;if(t&&e&&e.length){const s=((r=e.find(f=>f.dataKey==="ganhos"))==null?void 0:r.value)||0,l=((i=e.find(f=>f.dataKey==="gastos"))==null?void 0:i.value)||0,c=s-l;return S.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-2xl shadow-2xl backdrop-blur-md",children:[S.jsx("p",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest mb-3 border-b border-neutral-800 pb-2 text-left",children:n}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center justify-between space-x-8",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),S.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-tighter",children:"Ganhos"})]}),S.jsxs("span",{className:"text-xs font-black text-emerald-400",children:["R$ ",s.toLocaleString("pt-BR")]})]}),S.jsxs("div",{className:"flex items-center justify-between space-x-8",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),S.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-tighter",children:"Gastos"})]}),S.jsxs("span",{className:"text-xs font-black text-primary",children:["R$ ",l.toLocaleString("pt-BR")]})]}),S.jsxs("div",{className:"pt-2 mt-2 border-t border-neutral-800 flex items-center justify-between",children:[S.jsx("span",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest",children:"Saldo"}),S.jsxs("span",{className:`text-xs font-black ${c>=0?"text-emerald-500":"text-red-500"}`,children:["R$ ",c.toLocaleString("pt-BR")]})]})]})]})}return null},Die=({transactions:t,baseIncome:e,currentDate:n,onMonthChange:r})=>{const i=n.toLocaleString("pt-BR",{month:"long",year:"numeric"}).toUpperCase(),{chartData:s,currentHealthScore:l}=C.useMemo(()=>{const f=[];for(let y=5;y>=0;y--){const b=new Date(n.getFullYear(),n.getMonth()-y,1),w=b.toLocaleString("pt-BR",{month:"short"}).toUpperCase();f.push({name:w,ganhos:e,gastos:0,fullDate:b})}f.forEach(y=>{t.forEach(b=>{const[w,E,T]=b.date.split("/").map(Number),O=new Date(T,E-1,w),j=O.getMonth()===y.fullDate.getMonth()&&O.getFullYear()===y.fullDate.getFullYear(),z=b.isFixed&&(O.getFullYear()<y.fullDate.getFullYear()||O.getFullYear()===y.fullDate.getFullYear()&&O.getMonth()<=y.fullDate.getMonth());(j||z)&&(b.type==="revenue"?y.ganhos+=b.amount:y.gastos+=b.amount)})});const h=f[5];let m=100-(h.ganhos>0?h.gastos/h.ganhos:1)*100;return m<0&&(m=0),{chartData:f,currentHealthScore:m}},[t,e,n]),c=l>=30?"excelente":l>=10?"alerta":"critico";return S.jsxs("div",{className:"space-y-8 animate-slide-up px-1 pb-20",children:[S.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[S.jsx("div",{className:"w-16 h-16 bg-neutral-900 border border-primary/20 rounded-[2rem] flex items-center justify-center text-primary shadow-glow transform rotate-3",children:S.jsx(X8,{size:32})}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("h2",{className:"text-4xl md:text-5xl font-display font-black text-neutral-900 dark:text-white uppercase tracking-tighter italic leading-none",children:"Sade Financeira"}),S.jsx("p",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-[0.4em]",children:"Score de Inteligncia do Casal"})]})]}),S.jsxs("div",{className:"bg-neutral-950 border border-neutral-800 rounded-[3rem] p-8 md:p-12 shadow-2xl relative overflow-hidden text-center md:text-left",children:[S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 blur-[100px] rounded-full"}),S.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full border text-[10px] font-black uppercase tracking-widest ${c==="excelente"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":c==="alerta"?"bg-amber-500/10 border-amber-500/20 text-amber-500":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:[c==="excelente"?S.jsx(dj,{size:14,className:"mr-2"}):S.jsx(lj,{size:14,className:"mr-2"}),"Status: ",c.toUpperCase()]}),S.jsx("h3",{className:"text-2xl md:text-3xl font-display font-black text-white italic tracking-tight uppercase",children:"Seu Score de Economia"}),S.jsx("p",{className:"text-neutral-400 text-sm max-w-sm leading-relaxed",children:c==="excelente"?"Vocs esto com um timo flego financeiro! O caminho para as metas est livre.":c==="alerta"?"Ateno ao fluxo. Os gastos esto aproximando-se da reserva de segurana.":"Alerta crtico. Os gastos superaram a renda ou esto em nvel de risco."})]}),S.jsx("div",{className:"relative",children:S.jsxs("div",{className:"w-40 h-40 md:w-48 md:h-48 rounded-full border-[10px] border-neutral-900 flex items-center justify-center shadow-inner",children:[S.jsx("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:S.jsx("circle",{cx:"50%",cy:"50%",r:"42%",className:`fill-none stroke-[10px] transition-all duration-1000 ${c==="excelente"?"stroke-emerald-500":c==="alerta"?"stroke-amber-500":"stroke-red-500"}`,strokeDasharray:`${l*2.8}, 1000`})}),S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-5xl md:text-6xl font-display font-black text-white italic",children:l.toFixed(0)}),S.jsx("p",{className:"text-[10px] font-black text-neutral-600 uppercase tracking-widest mt-1",children:"Pontos"})]})]})})]})]}),S.jsx("div",{className:"flex justify-center",children:S.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-[2rem] p-1.5 shadow-xl",children:[S.jsx("button",{onClick:()=>r("prev"),className:"p-4 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-2xl text-neutral-500 transition-all active:scale-90",children:S.jsx(oj,{size:20})}),S.jsx("span",{className:"px-8 font-black uppercase text-[11px] tracking-[0.2em] text-neutral-900 dark:text-white italic",children:i}),S.jsx("button",{onClick:()=>r("next"),className:"p-4 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-2xl text-neutral-500 transition-all active:scale-90",children:S.jsx(yE,{size:20})})]})}),S.jsxs("div",{className:"bg-neutral-950 border border-neutral-800 rounded-[3rem] p-6 md:p-12 shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-primary to-emerald-500 opacity-20"}),S.jsxs("div",{className:"mb-10 flex flex-col items-center gap-6 text-center",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h3",{className:"text-xl font-display font-black text-white uppercase tracking-tight italic",children:"Tendncia Semestral"}),S.jsx("p",{className:"text-[9px] text-neutral-500 font-black uppercase tracking-widest mt-1",children:"Comparativo de Gerao de Riqueza"})]}),S.jsxs("div",{className:"flex items-center space-x-8 bg-neutral-900 px-8 py-5 rounded-[2rem] border border-neutral-800 shadow-inner",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),S.jsx("span",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest",children:"Ganhos"})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-primary shadow-glow"}),S.jsx("span",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest",children:"Gastos"})]})]})]}),S.jsx("div",{className:"h-[300px] md:h-[450px] w-full",children:S.jsx(sH,{width:"100%",height:"100%",children:S.jsxs(Pie,{data:s,margin:{top:10,right:10,left:-20,bottom:0},barGap:10,children:[S.jsx(Y3,{strokeDasharray:"3 3",vertical:!1,stroke:"#262626"}),S.jsx(n6,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#737373",fontSize:10,fontWeight:"900"},dy:15}),S.jsx(r6,{axisLine:!1,tickLine:!1,tick:{fill:"#737373",fontSize:10,fontWeight:"bold"}}),S.jsx(YZ,{content:S.jsx(Mie,{}),cursor:{fill:"rgba(255,255,255,0.02)"}}),S.jsx(Cx,{dataKey:"ganhos",fill:"#10b981",radius:[6,6,0,0],barSize:window.innerWidth<768?14:28}),S.jsx(Cx,{dataKey:"gastos",fill:"#FACC15",radius:[6,6,0,0],barSize:window.innerWidth<768?14:28})]})})})]})]})},jie=({isOpen:t,onClose:e,onAdd:n,editingTransaction:r,users:i,initialDate:s})=>{const[l,c]=C.useState("expense"),[f,h]=C.useState(""),[p,m]=C.useState(""),[y,b]=C.useState(""),[w,E]=C.useState(Bm[0]),[T,O]=C.useState(i.A.id),[j,z]=C.useState(!1),[U,q]=C.useState(!1),[V,N]=C.useState(!1),[k,P]=C.useState("1"),[B,M]=C.useState(!1);if(C.useEffect(()=>{if(r){if(c(r.type||"expense"),h(r.amount.toString()),m(r.title),r.date.includes("/")){const[Se,K,re]=r.date.split("/");b(`${re}-${K}-${Se}`)}else b(r.date);const pe=Bm.find(Se=>Se.id===r.category)||Bm[0];E(pe),O(r.spenderId),z(r.isFixed||!1),q(r.isPaid||!1),N(!!r.installments),r.installments&&P(r.installments.total.toString())}else if(t){const pe=s||new Date,K=pe.getMonth()===new Date().getMonth()&&pe.getFullYear()===new Date().getFullYear()?new Date().getDate().toString().padStart(2,"0"):"01",re=pe.getFullYear(),de=(pe.getMonth()+1).toString().padStart(2,"0");b(`${re}-${de}-${K}`);const me=localStorage.getItem("nc_draft_tx");if(me&&!r){const Re=JSON.parse(me);c(Re.type||"expense"),h(Re.amount||""),m(Re.title||"")}else c("expense"),h(""),m(""),E(Bm[0]),O(i.A.id),z(!1),q(!1),N(!1),P("1")}M(!1)},[r,t,i.A.id,s]),C.useEffect(()=>{t&&!r&&localStorage.setItem("nc_draft_tx",JSON.stringify({type:l,amount:f,title:p}))},[l,f,p,t]),!t)return null;const F=()=>{(f||p)&&!r?M(!0):e()},L=pe=>{if(pe.preventDefault(),!f||!p)return;const[Se,K,re]=y.split("-"),de=`${re}/${K}/${Se}`,me=parseInt(k),Re={id:r?r.id:`tx_${Date.now()}`,title:p,amount:parseFloat(f),category:w.id,date:de,spenderId:T,emoji:w.emoji,type:l,isPaid:U,isFixed:j,paidMonths:(r==null?void 0:r.paidMonths)||[],installments:V&&me>1?{current:1,total:me}:void 0};localStorage.removeItem("nc_draft_tx"),n(Re)};return S.jsxs("div",{className:"fixed inset-0 z-[110] flex items-end md:items-center justify-center p-0 md:p-4 animate-in fade-in duration-300",children:[S.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:F}),S.jsxs("div",{className:"relative bg-[#0F0F0F] w-full max-w-xl md:rounded-[40px] rounded-t-[40px] border-t md:border border-neutral-800 shadow-2xl animate-in slide-in-from-bottom duration-500 overflow-hidden flex flex-col max-h-[95vh]",children:[S.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${l==="expense"?"bg-red-500":"bg-emerald-500"} z-10`}),S.jsxs("div",{className:"px-8 py-6 flex justify-between items-center border-b border-neutral-900 shrink-0",children:[S.jsx("h2",{className:"text-lg font-display font-black text-white uppercase italic tracking-tighter",children:r?"Editar Dados":"Novo Lanamento"}),S.jsx("button",{onClick:F,className:"p-3 bg-neutral-900 rounded-full text-neutral-400 hover:text-white transition-all active:scale-90",children:S.jsx(mj,{size:20})})]}),S.jsxs("form",{onSubmit:L,className:"p-6 md:p-8 space-y-8 overflow-y-auto pb-32 md:pb-8 scrollbar-hide",children:[S.jsx("div",{className:"space-y-4",children:S.jsx("input",{type:"text",value:p,onChange:pe=>m(pe.target.value),placeholder:"Ex: Mercado, Luz...",className:"w-full bg-neutral-900/50 border border-neutral-800 rounded-3xl px-8 py-6 text-xl font-bold text-white placeholder:text-neutral-700 outline-none focus:border-primary transition-all shadow-inner"})}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest px-1",children:"Data do Lanamento (Planejada)"}),S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute left-8 top-1/2 -translate-y-1/2 text-neutral-500 transition-colors group-focus-within:text-primary z-20 pointer-events-none",children:S.jsx(Rw,{size:20})}),S.jsx("input",{type:"date",value:y,onChange:pe=>b(pe.target.value),className:"w-full px-12 pl-20 py-7 bg-neutral-950/50 border border-neutral-800 rounded-[2.5rem] font-display font-black text-white text-xl md:text-2xl outline-none focus:border-primary/50 focus:bg-neutral-900/80 transition-all [color-scheme:dark] shadow-xl tracking-tighter relative z-10 appearance-none text-left"}),S.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 pointer-events-none opacity-20 z-20",children:S.jsx(Rw,{size:16})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest px-1",children:"Tipo e Status"}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsxs("button",{type:"button",onClick:()=>q(!U),className:`flex flex-col items-center justify-center py-6 rounded-3xl border transition-all ${U?"bg-emerald-500/10 border-emerald-500 text-emerald-500":"bg-neutral-900/30 border-neutral-800 text-neutral-600"}`,children:[S.jsx(kg,{size:24,strokeWidth:3,className:U?"animate-pulse":""}),S.jsx("span",{className:"text-[9px] font-black uppercase mt-2",children:U?"Confirmado":"Pendente"})]}),S.jsxs("button",{type:"button",onClick:()=>{z(!j),j||N(!1)},className:`flex flex-col items-center justify-center py-6 rounded-3xl border transition-all ${j?"bg-primary/10 border-primary text-primary":"bg-neutral-900/30 border-neutral-800 text-neutral-600"}`,children:[S.jsx(hj,{size:24}),S.jsx("span",{className:"text-[9px] font-black uppercase mt-2",children:"Fixo/Ms"})]}),S.jsxs("button",{type:"button",onClick:()=>{N(!V),V||z(!1)},className:`flex flex-col items-center justify-center py-6 rounded-3xl border transition-all ${V?"bg-blue-500/10 border-blue-500 text-blue-500":"bg-neutral-900/30 border-neutral-800 text-neutral-600"}`,children:[S.jsx(gB,{size:24}),S.jsx("span",{className:"text-[9px] font-black uppercase mt-2",children:"Parcelado"})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest px-1",children:"Responsvel"}),S.jsx("div",{className:"grid grid-cols-2 gap-4",children:[i.A,i.B].map(pe=>S.jsxs("button",{type:"button",onClick:()=>O(pe.id),className:`flex items-center justify-center space-x-3 p-4 rounded-[2.5rem] border-2 transition-all ${T===pe.id?"border-primary bg-primary/5 shadow-glow":"border-neutral-900 bg-neutral-900/30 text-neutral-600 opacity-50"}`,children:[S.jsx("img",{src:pe.avatar,className:`w-8 h-8 rounded-full border-2 ${T===pe.id?"border-primary":"border-neutral-800"}`}),S.jsx("span",{className:"font-black text-[9px] uppercase tracking-widest",children:pe.name})]},pe.id))})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest px-1",children:"Valor Final"}),S.jsxs("div",{className:"relative group",children:[S.jsx("span",{className:"absolute left-10 top-1/2 -translate-y-1/2 text-2xl font-black text-neutral-700 transition-colors group-focus-within:text-white",children:"R$"}),S.jsx("input",{type:"number",inputMode:"decimal",value:f,onChange:pe=>h(pe.target.value),placeholder:"0,00",className:"w-full bg-neutral-900/50 border border-neutral-800 rounded-[3.5rem] px-24 py-10 text-5xl font-display font-black text-white outline-none focus:border-primary transition-all tracking-tighter italic"})]})]}),S.jsx("div",{className:"pt-6",children:S.jsxs("button",{type:"submit",disabled:!f||!p,className:"w-full py-8 rounded-[2.5rem] bg-primary text-neutral-950 font-display font-black text-sm uppercase tracking-[0.25em] shadow-glow active:scale-95 flex items-center justify-center space-x-3 transition-all disabled:opacity-30",children:[S.jsx(ZB,{size:20,fill:"currentColor"}),S.jsx("span",{children:"CONFIRMAR AGENDAMENTO"})]})})]})]})]})},Lie=()=>{};var GP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw tf(e)},tf=function(t){return new Error("Firebase Database ("+p6.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;f||(b=64,l||(y=64)),r.push(n[p],n[m],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new zie;const y=s<<2|c>>4;if(r.push(y),h!==64){const b=c<<4&240|h>>2;if(r.push(b),m!==64){const w=h<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g6=function(t){const e=m6(t);return eT.encodeByteArray(e,!0)},Tv=function(t){return g6(t).replace(/\./g,"")},Av=function(t){try{return eT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t){return v6(void 0,t)}function v6(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Bie(n)||(t[n]=v6(t[n],e[n]));return t}function Bie(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=()=>Fie().__FIREBASE_DEFAULTS__,$ie=()=>{if(typeof process>"u"||typeof GP>"u")return;const t=GP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Av(t[1]);return e&&JSON.parse(e)},Ky=()=>{try{return Lie()||qie()||$ie()||Hie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y6=t=>{var e,n;return(n=(e=Ky())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_6=t=>{const e=y6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b6=()=>{var t;return(t=Ky())==null?void 0:t.config},w6=t=>{var e;return(e=Ky())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tv(JSON.stringify(n)),Tv(JSON.stringify(l)),""].join(".")}const zh={};function Gie(){const t={prod:[],emulator:[]};for(const e of Object.keys(zh))zh[e]?t.emulator.push(e):t.prod.push(e);return t}function Kie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KP=!1;function nT(t,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||zh[t]===e||zh[t]||KP)return;zh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=Gie().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{KP=!0,l()},y}function p(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=Kie(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),j=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const z=y.element;c(z),p(T,E);const U=h();f(j,O),z.append(j,w,T,U),document.body.appendChild(z)}s?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function Wie(){var e;const t=(e=Ky())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qie(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xie(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zie(){return p6.NODE_ADMIN===!0}function Jie(){return!Wie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eae(){try{return typeof indexedDB=="object"}catch{return!1}}function tae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nae="FirebaseError";class ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nae,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yd.prototype.create)}}class Yd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?rae(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ks(i,c,r)}}function rae(t,e){return t.replace(iae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iae=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){return JSON.parse(t)}function Mn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fd(Av(s[0])||""),n=fd(Av(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},aae=function(t){const e=S6(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sae=function(t){const e=S6(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cv(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Do(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(WP(s)&&WP(l)){if(!Do(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const y=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],h,p;for(let m=0;m<80;m++){m<40?m<20?(h=c^s&(l^c),p=1518500249):(h=s^l^c,p=1859775393):m<60?(h=s&l|c&(s|l),p=2400959708):(h=s^l^c,p=3395469782);const y=(i<<5|i>>>27)+h+f+p+r[m]&4294967295;f=c,c=l,l=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}else for(;i<n;)if(s[l]=e[i],++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function lae(t,e){const n=new uae(t,e);return n.subscribe.bind(n)}class uae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cae(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cw),i.error===void 0&&(i.error=cw),i.complete===void 0&&(i.complete=cw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cae(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cw(){}function iT(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(s<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pae(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dae(t){return t===Nl?void 0:t}function pae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const gae={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},vae=Xe.INFO,yae={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},_ae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=vae,this._logHandler=_ae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const bae=(t,e)=>e.some(n=>t instanceof n);let YP,QP;function wae(){return YP||(YP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xae(){return QP||(QP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T6=new WeakMap,Px=new WeakMap,A6=new WeakMap,fw=new WeakMap,aT=new WeakMap;function Eae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Io(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&T6.set(n,t)}).catch(()=>{}),aT.set(e,t),e}function Sae(t){if(Px.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Px.set(t,e)}let Mx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Px.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tae(t){Mx=t(Mx)}function Aae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hw(this),e,...n);return A6.set(r,e.sort?e.sort():[e]),Io(r)}:xae().includes(t)?function(...e){return t.apply(hw(this),e),Io(T6.get(this))}:function(...e){return Io(t.apply(hw(this),e))}}function Cae(t){return typeof t=="function"?Aae(t):(t instanceof IDBTransaction&&Sae(t),bae(t,wae())?new Proxy(t,Mx):t)}function Io(t){if(t instanceof IDBRequest)return Eae(t);if(fw.has(t))return fw.get(t);const e=Cae(t);return e!==t&&(fw.set(t,e),aT.set(e,t)),e}const hw=t=>aT.get(t);function Iae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Io(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Io(l.result),f.oldVersion,f.newVersion,Io(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Oae=["get","getKey","getAll","getAllKeys","count"],Nae=["put","add","delete","clear"],dw=new Map;function XP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dw.get(e))return dw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Nae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Oae.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return dw.set(e,s),s}Tae(t=>({...t,get:(e,n,r)=>XP(e,n)||t.get(e,n,r),has:(e,n)=>!!XP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kae(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dx="@firebase/app",ZP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Qy("@firebase/app"),Pae="@firebase/app-compat",Mae="@firebase/analytics-compat",Dae="@firebase/analytics",jae="@firebase/app-check-compat",Lae="@firebase/app-check",Vae="@firebase/auth",zae="@firebase/auth-compat",Uae="@firebase/database",Bae="@firebase/data-connect",Fae="@firebase/database-compat",qae="@firebase/functions",$ae="@firebase/functions-compat",Hae="@firebase/installations",Gae="@firebase/installations-compat",Kae="@firebase/messaging",Wae="@firebase/messaging-compat",Yae="@firebase/performance",Qae="@firebase/performance-compat",Xae="@firebase/remote-config",Zae="@firebase/remote-config-compat",Jae="@firebase/storage",ese="@firebase/storage-compat",tse="@firebase/firestore",nse="@firebase/ai",rse="@firebase/firestore-compat",ise="firebase",ase="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="[DEFAULT]",sse={[Dx]:"fire-core",[Pae]:"fire-core-compat",[Dae]:"fire-analytics",[Mae]:"fire-analytics-compat",[Lae]:"fire-app-check",[jae]:"fire-app-check-compat",[Vae]:"fire-auth",[zae]:"fire-auth-compat",[Uae]:"fire-rtdb",[Bae]:"fire-data-connect",[Fae]:"fire-rtdb-compat",[qae]:"fire-fn",[$ae]:"fire-fn-compat",[Hae]:"fire-iid",[Gae]:"fire-iid-compat",[Kae]:"fire-fcm",[Wae]:"fire-fcm-compat",[Yae]:"fire-perf",[Qae]:"fire-perf-compat",[Xae]:"fire-rc",[Zae]:"fire-rc-compat",[Jae]:"fire-gcs",[ese]:"fire-gcs-compat",[tse]:"fire-fst",[rse]:"fire-fst-compat",[nse]:"fire-vertex","fire-js":"fire-js",[ise]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map,ose=new Map,Lx=new Map;function JP(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xl(t){const e=t.name;if(Lx.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Lx.set(e,t);for(const n of Iv.values())JP(n,t);for(const n of ose.values())JP(n,t);return!0}function Xy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new Yd("app","Firebase",lse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=ase;function C6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Oo.create("bad-app-name",{appName:String(i)});if(n||(n=b6()),!n)throw Oo.create("no-options");const s=Iv.get(i);if(s){if(Do(n,s.options)&&Do(r,s.config))return s;throw Oo.create("duplicate-app",{appName:i})}const l=new mae(i);for(const f of Lx.values())l.addComponent(f);const c=new use(n,r,l);return Iv.set(i,c),c}function sT(t=jx){const e=Iv.get(t);if(!e&&t===jx&&b6())return C6();if(!e)throw Oo.create("no-app",{appName:t});return e}function ya(t,e,n){let r=sse[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(l.join(" "));return}Xl(new jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse="firebase-heartbeat-database",fse=1,hd="firebase-heartbeat-store";let pw=null;function I6(){return pw||(pw=Iae(cse,fse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})})),pw}async function hse(t){try{const n=(await I6()).transaction(hd),r=await n.objectStore(hd).get(O6(t));return await n.done,r}catch(e){if(e instanceof ks)ys.warn(e.message);else{const n=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function eM(t,e){try{const r=(await I6()).transaction(hd,"readwrite");await r.objectStore(hd).put(e,O6(t)),await r.done}catch(n){if(n instanceof ks)ys.warn(n.message);else{const r=Oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(r.message)}}}function O6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse=1024,pse=30;class mse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>pse){const l=yse(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tM(),{heartbeatsToSend:r,unsentEntries:i}=gse(this._heartbeatsCache.heartbeats),s=Tv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ys.warn(n),""}}}function tM(){return new Date().toISOString().substring(0,10)}function gse(t,e=dse){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),nM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eae()?tae().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hse(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nM(t){return Tv(JSON.stringify({version:2,heartbeats:t})).length}function yse(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(t){Xl(new jo("platform-logger",e=>new Rae(e),"PRIVATE")),Xl(new jo("heartbeat",e=>new mse(e),"PRIVATE")),ya(Dx,ZP,t),ya(Dx,ZP,"esm2020"),ya("fire-js","")}_se("");var bse="firebase",wse="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(bse,wse,"app");function N6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xse=N6,R6=new Yd("auth","Firebase",N6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Qy("@firebase/auth");function Ese(t,...e){Ov.logLevel<=Xe.WARN&&Ov.warn(`Auth (${fu}): ${t}`,...e)}function bg(t,...e){Ov.logLevel<=Xe.ERROR&&Ov.error(`Auth (${fu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,...e){throw oT(t,...e)}function _a(t,...e){return oT(t,...e)}function k6(t,e,n){const r={...xse(),[e]:n};return new Yd("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return k6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R6.create(t,...e)}function Me(t,e,...n){if(!t)throw oT(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bg(e),new Error(e)}function _s(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Sse(){return rM()==="http:"||rM()==="https:"}function rM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sse()||Qie()||"connection"in navigator)?navigator.onLine:!0}function Ase(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=rT()||E6()}get(){return Tse()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ose=new Qd(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ds(t,e,n,r,i={}){return M6(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=nf({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Yie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ko(t.emulatorConfig.host)&&(h.credentials="include"),P6.fetch()(await D6(t,t.config.apiHost,n,c),h)})}async function M6(t,e,n){t._canInitEmulator=!1;const r={...Cse,...e};try{const i=new Rse(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw sg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sg(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw sg(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw sg(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw k6(t,p,h);qi(t,p)}}catch(i){if(i instanceof ks)throw i;qi(t,"network-request-failed",{message:String(i)})}}async function Xd(t,e,n,r,i={}){const s=await Ds(t,e,n,r,i);return"mfaPendingCredential"in s&&qi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function D6(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?lT(t.config,i):`${t.config.apiScheme}://${i}`;return Ise.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function Nse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_a(this.auth,"network-request-failed")),Ose.get())})}}function sg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_a(t,e,r);return i.customData._tokenResponse=n,i}function iM(t){return t!==void 0&&t.enterprise!==void 0}class kse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nse(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pse(t,e){return Ds(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mse(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function Nv(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dse(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=uT(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uh(mw(i.auth_time)),issuedAtTime:Uh(mw(i.iat)),expirationTime:Uh(mw(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mw(t){return Number(t)*1e3}function uT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Av(n);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aM(t){const e=uT(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ks&&jse(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jse({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t){var m;const e=t.auth,n=await t.getIdToken(),r=await dd(t,Nv(e,{idToken:n}));Me(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?j6(i.providerUserInfo):[],l=zse(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Vse(t){const e=Vt(t);await Rv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Use(t,e){const n=await M6(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await D6(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ko(t.emulatorConfig.host)&&(f.credentials="include"),P6.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bse(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=aM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Use(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new yc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Me(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Lse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await dd(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dse(this,e)}reload(){return Vse(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await dd(this,Mse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:E}=n;Me(m&&E,e,"internal-error");const T=yc.fromJSON(this.name,E);Me(typeof m=="string",e,"internal-error"),vo(r,e.name),vo(i,e.name),Me(typeof y=="boolean",e,"internal-error"),Me(typeof b=="boolean",e,"internal-error"),vo(s,e.name),vo(l,e.name),vo(c,e.name),vo(f,e.name),vo(h,e.name),vo(p,e.name);const O=new Mi({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:p});return w&&Array.isArray(w)&&(O.providerData=w.map(j=>({...j}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new yc;i.updateFromServerResponse(n);const s=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?j6(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new yc;c.updateFromIdToken(r);const f=new Mi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Map;function ns(t){_s(t instanceof Function,"Expected a class definition");let e=sM.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L6.type="NONE";const oM=L6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e,n){return`firebase:${t}:${e}:${n}`}class _c{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wg(this.userKey,i.apiKey,s),this.fullPersistenceKey=wg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nv(this.auth,{idToken:e}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _c(ns(oM),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ns(oM);const l=wg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const y=await Nv(e,{idToken:p}).catch(()=>{});if(!y)break;m=await Mi._fromGetAccountInfoResponse(e,y,p)}else m=Mi._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new _c(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new _c(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q6(e))return"Blackberry";if($6(e))return"Webos";if(z6(e))return"Safari";if((e.includes("chrome/")||U6(e))&&!e.includes("edge/"))return"Chrome";if(F6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V6(t=sr()){return/firefox\//i.test(t)}function z6(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U6(t=sr()){return/crios\//i.test(t)}function B6(t=sr()){return/iemobile/i.test(t)}function F6(t=sr()){return/android/i.test(t)}function q6(t=sr()){return/blackberry/i.test(t)}function $6(t=sr()){return/webos/i.test(t)}function cT(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fse(t=sr()){var e;return cT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qse(){return Xie()&&document.documentMode===10}function H6(t=sr()){return cT(t)||F6(t)||$6(t)||q6(t)||/windows phone/i.test(t)||B6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t,e=[]){let n;switch(t){case"Browser":n=lM(sr());break;case"Worker":n=`${lM(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hse(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=6;class Kse{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Gse,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uM(this),this.idTokenSubscription=new uM(this),this.beforeStateQueue=new $se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await _c.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nv(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if($r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ase()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(ss(this));const n=e?Vt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hse(this),n=new Kse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bse(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Ese(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wo(t){return Vt(t)}class uM{constructor(e){this.auth=e,this.observer=null,this.addObserver=lae(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yse(t){Zy=t}function K6(t){return Zy.loadJS(t)}function Qse(){return Zy.recaptchaEnterpriseScript}function Xse(){return Zy.gapiScript}function Zse(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jse{constructor(){this.enterprise=new eoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const toe="recaptcha-enterprise",W6="NO_RECAPTCHA";class noe{constructor(e){this.type=toe,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{Pse(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new kse(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{c(f)})})}function i(s,l,c){const f=window.grecaptcha;iM(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(W6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jse().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&iM(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Qse();f.length!==0&&(f+=c),K6(f).then(()=>{i(c,s,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function cM(t,e,n,r=!1,i=!1){const s=new noe(t);let l;if(i)l=W6;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function kv(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cM(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cM(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t,e){const n=Xy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Do(s,e??{}))return i;qi(i,"already-initialized")}return n.initialize({options:e})}function ioe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aoe(t,e,n){const r=Wo(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Y6(e),{host:l,port:c}=soe(e),f=c===null?"":`:${c}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Do(h,r.config.emulator)&&Do(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ko(l)?(tT(`${s}//${l}${f}`),nT("Auth",!0)):ooe()}function Y6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function soe(t){const e=Y6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fM(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:fM(l)}}}function fM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ooe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function loe(t,e){return Ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uoe(t,e){return Xd(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}async function coe(t,e){return Ds(t,"POST","/v1/accounts:sendOobCode",Ms(t,e))}async function foe(t,e){return coe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hoe(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function doe(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends fT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,n,"signInWithPassword",uoe);case"emailLink":return hoe(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,r,"signUpPassword",loe);case"emailLink":return doe(e,{idToken:n,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e){return Xd(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe="http://localhost";class Zl extends fT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Zl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bc(e,n)}buildRequest(){const e={requestUri:poe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function goe(t){const e=Rh(kh(t)).link,n=e?Rh(kh(e)).deep_link_id:null,r=Rh(kh(t)).deep_link_id;return(r?Rh(kh(r)).link:null)||r||n||e||t}class hT{constructor(e){const n=Rh(kh(e)),r=n.apiKey??null,i=n.oobCode??null,s=moe(n.mode??null);Me(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=goe(e);try{return new hT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.providerId=rf.PROVIDER_ID}static credential(e,n){return pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hT.parseLink(n);return Me(r,"argument-error"),pd._fromEmailAndCode(e,r.code,r.tenantId)}}rf.PROVIDER_ID="password";rf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Q6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Zd{constructor(){super("facebook.com")}static credential(e){return Zl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Zd{constructor(){super("github.com")}static credential(e){return Zl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Zd{constructor(){super("twitter.com")}static credential(e,n){return Zl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(t,e){return Xd(t,"POST","/v1/accounts:signUp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Mi._fromIdTokenResponse(e,r,i),l=hM(r);return new Jl({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hM(r);return new Jl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pv(e,n,r,i)}}function X6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pv._fromErrorAndOperation(t,s,e,r):s})}async function yoe(t,e,n=!1){const r=await dd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe(t,e,n=!1){const{auth:r}=t;if($r(r.app))return Promise.reject(ss(r));const i="reauthenticate";try{const s=await dd(t,X6(r,i,e,t),n);Me(s.idToken,r,"internal-error");const l=uT(s.idToken);Me(l,r,"internal-error");const{sub:c}=l;return Me(t.uid===c,r,"user-mismatch"),Jl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e,n=!1){if($r(t.app))return Promise.reject(ss(t));const r="signIn",i=await X6(t,r,e),s=await Jl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function boe(t,e){return Z6(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function woe(t,e,n){const r=Wo(t);await kv(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",foe)}async function xoe(t,e,n){if($r(t.app))return Promise.reject(ss(t));const r=Wo(t),l=await kv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",voe).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&J6(t),f}),c=await Jl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function Eoe(t,e,n){return $r(t.app)?Promise.reject(ss(t)):boe(Vt(t),rf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J6(t),r})}function Soe(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function Toe(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function Aoe(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function dM(t){return Vt(t).signOut()}const Mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mv,"1"),this.storage.removeItem(Mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe=1e3,Ioe=10;class tV extends eV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);qse()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ioe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Coe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tV.type="LOCAL";const Ooe=tV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV extends eV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nV.type="SESSION";const rV=nV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),f=await Noe(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const h=dT("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return window}function koe(t){ba().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(){return typeof ba().WorkerGlobalScope<"u"&&typeof ba().importScripts=="function"}async function Poe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Moe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Doe(){return iV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="firebaseLocalStorageDb",joe=1,Dv="firebaseLocalStorage",sV="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function e0(t,e){return t.transaction([Dv],e?"readwrite":"readonly").objectStore(Dv)}function Loe(){const t=indexedDB.deleteDatabase(aV);return new Jd(t).toPromise()}function Ux(){const t=indexedDB.open(aV,joe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dv,{keyPath:sV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dv)?e(r):(r.close(),await Loe(),e(await Ux()))})})}async function pM(t,e,n){const r=e0(t,!0).put({[sV]:e,value:n});return new Jd(r).toPromise()}async function Voe(t,e){const n=e0(t,!1).get(e),r=await new Jd(n).toPromise();return r===void 0?null:r.value}function mM(t,e){const n=e0(t,!0).delete(e);return new Jd(n).toPromise()}const zoe=800,Uoe=3;class oV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ux(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uoe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jy._getInstance(Doe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Poe(),!this.activeServiceWorker)return;this.sender=new Roe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Moe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ux();return await pM(e,Mv,"1"),await mM(e,Mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Voe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=e0(i,!1).getAll();return new Jd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oV.type="LOCAL";const Boe=oV;new Qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Foe(t,e){return e?ns(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends fT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qoe(t){return Z6(t.auth,new pT(t),t.bypassAuthState)}function $oe(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),_oe(n,new pT(t),t.bypassAuthState)}async function Hoe(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),yoe(n,new pT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qoe;case"linkViaPopup":case"linkViaRedirect":return Hoe;case"reauthViaPopup":case"reauthViaRedirect":return $oe;default:qi(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=new Qd(2e3,1e4);class pc extends lV{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pc.currentPopupAction&&pc.currentPopupAction.cancel(),pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=dT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Goe.get())};e()}}pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Koe="pendingRedirect",xg=new Map;class Woe extends lV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xg.get(this.auth._key());if(!e){try{const r=await Yoe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xg.set(this.auth._key(),e)}return this.bypassAuthState||xg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yoe(t,e){const n=Zoe(e),r=Xoe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qoe(t,e){xg.set(t._key(),e)}function Xoe(t){return ns(t._redirectPersistence)}function Zoe(t){return wg(Koe,t.config.apiKey,t.name)}async function Joe(t,e,n=!1){if($r(t.app))return Promise.reject(ss(t));const r=Wo(t),i=Foe(r,e),l=await new Woe(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele=600*1e3;class tle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uV(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_a(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ele&&this.cachedEventUids.clear(),this.cachedEventUids.has(gM(e))}saveEventToCache(e){this.cachedEventUids.add(gM(e)),this.lastProcessedEventTime=Date.now()}}function gM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rle(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ale=/^https?/;async function sle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rle(t);for(const n of e)try{if(ole(n))return}catch{}qi(t,"unauthorized-domain")}function ole(t){const e=Vx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!ale.test(n))return!1;if(ile.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle=new Qd(3e4,6e4);function vM(){const t=ba().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ule(t){return new Promise((e,n)=>{var i,s,l;function r(){vM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vM(),n(_a(t,"network-request-failed"))},timeout:lle.get()})}if((s=(i=ba().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=ba().gapi)!=null&&l.load)r();else{const c=Zse("iframefcb");return ba()[c]=()=>{gapi.load?r():n(_a(t,"network-request-failed"))},K6(`${Xse()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Eg=null,e})}let Eg=null;function cle(t){return Eg=Eg||ule(t),Eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle=new Qd(5e3,15e3),hle="__/auth/iframe",dle="emulator/auth/iframe",ple={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gle(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lT(e,dle):`https://${t.config.authDomain}/${hle}`,r={apiKey:e.apiKey,appName:t.name,v:fu},i=mle.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nf(r).slice(1)}`}async function vle(t){const e=await cle(t),n=ba().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:gle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ple,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=_a(t,"network-request-failed"),c=ba().setTimeout(()=>{s(l)},fle.get());function f(){ba().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_le=500,ble=600,wle="_blank",xle="http://localhost";class yM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ele(t,e,n,r=_le,i=ble){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...yle,width:r.toString(),height:i.toString(),top:s,left:l},h=sr().toLowerCase();n&&(c=U6(h)?wle:n),V6(h)&&(e=e||xle,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(Fse(h)&&c!=="_self")return Sle(e||"",c),new yM(null);const m=window.open(e||"",c,p);Me(m,t,"popup-blocked");try{m.focus()}catch{}return new yM(m)}function Sle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle="__/auth/handler",Ale="emulator/auth/handler",Cle=encodeURIComponent("fac");async function _M(t,e,n,r,i,s){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fu,eventId:i};if(e instanceof Q6){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",kx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Zd){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${Cle}=${encodeURIComponent(f)}`:"";return`${Ile(t)}?${nf(c).slice(1)}${h}`}function Ile({config:t}){return t.emulator?lT(t,Ale):`https://${t.authDomain}/${Tle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="webStorageSupport";class Ole{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rV,this._completeRedirectFn=Joe,this._overrideRedirectResult=Qoe}async _openPopup(e,n,r,i){var l;_s((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await _M(e,n,r,Vx(),i);return Ele(e,s,dT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _M(e,n,r,Vx(),i);return koe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vle(e),r=new tle(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gw,{type:gw},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[gw];s!==void 0&&n(!!s),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sle(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H6()||z6()||cT()}}const Nle=Ole;var bM="@firebase/auth",wM="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ple(t){Xl(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G6(t)},h=new Wse(r,i,s,f);return ioe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xl(new jo("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new Rle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ya(bM,wM,kle(t)),ya(bM,wM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=300,Dle=w6("authIdTokenMaxAge")||Mle;let xM=null;const jle=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dle)return;const i=n==null?void 0:n.token;xM!==i&&(xM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lle(t=sT()){const e=Xy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=roe(t,{popupRedirectResolver:Nle,persistence:[Boe,Ooe,rV]}),r=w6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=jle(s.toString());Toe(n,l,()=>l(n.currentUser)),Soe(n,c=>l(c))}}const i=y6("auth");return i&&aoe(n,`http://${i}`),n}function Vle(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Yse({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_a("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Vle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ple("Browser");var EM={};const SM="@firebase/database",TM="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cV="";function zle(t){cV=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ps(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ule(e)}}catch{}return new Ble},jl=fV("localStorage"),Fle=fV("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Qy("@firebase/database"),qle=(function(){let t=1;return function(){return t++}})(),hV=function(t){const e=fae(t),n=new oae;n.update(e);const r=n.digest();return eT.encodeByteArray(r)},ep=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ep.apply(null,r):typeof r=="object"?e+=Mn(r):e+=r,e+=" "}return e};let Bh=null,AM=!0;const $le=function(t,e){ge(!0,"Can't turn on custom loggers persistently."),wc.logLevel=Xe.VERBOSE,Bh=wc.log.bind(wc)},ir=function(...t){if(AM===!0&&(AM=!1,Bh===null&&Fle.get("logging_enabled")===!0&&$le()),Bh){const e=ep.apply(null,t);Bh(e)}},tp=function(t){return function(...e){ir(t,...e)}},Bx=function(...t){const e="FIREBASE INTERNAL ERROR: "+ep(...t);wc.error(e)},bs=function(...t){const e=`FIREBASE FATAL ERROR: ${ep(...t)}`;throw wc.error(e),new Error(e)},Cr=function(...t){const e="FIREBASE WARNING: "+ep(...t);wc.warn(e)},Hle=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dV=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gle=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jc="[MIN_NAME]",eu="[MAX_NAME]",af=function(t,e){if(t===e)return 0;if(t===jc||e===eu)return-1;if(e===jc||t===eu)return 1;{const n=CM(t),r=CM(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Kle=function(t,e){return t===e?0:t<e?-1:1},Sh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mn(e))},mT=function(t){if(typeof t!="object"||t===null)return Mn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mn(e[r]),n+=":",n+=mT(t[e[r]]);return n+="}",n},pV=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ir(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const mV=function(t){ge(!dV(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,l,c,f;t===0?(s=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,l=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(f=n;f;f-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let m="";for(f=0;f<64;f+=8){let y=parseInt(p.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},Wle=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yle=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Qle(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Xle=new RegExp("^-?(0*)\\d{1,10}$"),Zle=-2147483648,Jle=2147483647,CM=function(t){if(Xle.test(t)){const e=Number(t);if(e>=Zle&&e<=Jle)return e}return null},sf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Cr("Exception was thrown by user callback.",n),e},Math.floor(0))}},eue=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$r(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Cr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cr(e)}}class Sg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sg.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="5",gV="v",vV="s",yV="r",_V="f",bV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wV="ls",xV="p",Fx="ac",EV="websocket",SV="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i,s=!1,l="",c=!1,f=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rue(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AV(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===EV)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SV)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rue(t)&&(n.ns=t.namespace);const i=[];return Ir(n,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(){this.counters_={}}incrementCounter(e,n=1){Ps(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Uie(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={},yw={};function vT(t){const e=t.toString();return vw[e]||(vw[e]=new iue),vw[e]}function aue(t,e){const n=t.toString();return yw[n]||(yw[n]=e()),yw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&sf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="start",oue="close",lue="pLPCommand",uue="pRTLPCB",CV="id",IV="pw",OV="ser",cue="cb",fue="seg",hue="ts",due="d",pue="dframe",NV=1870,RV=30,mue=NV-RV,gue=25e3,vue=3e4;class mc{constructor(e,n,r,i,s,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tp(e),this.stats_=vT(n),this.urlFn=f=>(this.appCheckToken&&(f[Fx]=this.appCheckToken),AV(n,SV,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sue(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vue)),Gle(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yT((...s)=>{const[l,c,f,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===IM)this.id=c,this.password=f;else if(l===oue)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[IM]="t",r[OV]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[cue]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gV]=gT,this.transportSessionId&&(r[vV]=this.transportSessionId),this.lastSessionId&&(r[wV]=this.lastSessionId),this.applicationId&&(r[xV]=this.applicationId),this.appCheckToken&&(r[Fx]=this.appCheckToken),typeof location<"u"&&location.hostname&&bV.test(location.hostname)&&(r[yV]=_V);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mc.forceAllow_=!0}static forceDisallow(){mc.forceDisallow_=!0}static isAvailable(){return mc.forceAllow_?!0:!mc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Wle()&&!Yle()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=g6(n),i=pV(r,mue);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pue]="t",r[CV]=e,r[IV]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qle(),window[lue+this.uniqueCallbackIdentifier]=e,window[uue+this.uniqueCallbackIdentifier]=n,this.myIFrame=yT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){ir("frame writing exception"),c.stack&&ir(c.stack),ir(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ir("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[CV]=this.myID,e[IV]=this.myPW,e[OV]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RV+r.length<=NV;){const l=this.pendingSegs.shift();r=r+"&"+fue+i+"="+l.seg+"&"+hue+i+"="+l.ts+"&"+due+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(gue)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ir("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=16384,_ue=45e3;let jv=null;typeof MozWebSocket<"u"?jv=MozWebSocket:typeof WebSocket<"u"&&(jv=WebSocket);class Pi{constructor(e,n,r,i,s,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tp(this.connId),this.stats_=vT(n),this.connURL=Pi.connectionURL_(n,l,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const l={};return l[gV]=gT,typeof location<"u"&&location.hostname&&bV.test(location.hostname)&&(l[yV]=_V),n&&(l[vV]=n),r&&(l[wV]=r),i&&(l[Fx]=i),s&&(l[xV]=s),AV(e,EV,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jl.set("previous_websocket_failure",!0);try{let r;Zie(),this.mySock=new jv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jv!==null&&!Pi.forceDisallow_}static previouslyFailed(){return jl.isInMemoryStorage||jl.get("previous_websocket_failure")===!0}markConnectionHealthy(){jl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pV(n,yue);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_ue))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pi.responsesRequiredToBeHealthy=2;Pi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static get ALL_TRANSPORTS(){return[mc,Pi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pi&&Pi.isAvailable();let r=n&&!Pi.previouslyFailed();if(e.webSocketOnly&&(n||Cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pi];else{const i=this.transports_=[];for(const s of md.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);md.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}md.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=6e4,wue=5e3,xue=10*1024,Eue=100*1024,_w="t",OM="d",Sue="s",NM="r",Tue="e",RM="o",kM="a",PM="n",MM="p",Aue="h";class Cue{constructor(e,n,r,i,s,l,c,f,h,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tp("c:"+this.id+":"),this.transportManager_=new md(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Eue?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xue?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_w in e){const n=e[_w];n===kM?this.upgradeIfSecondaryHealthy_():n===NM?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sh("t",e),r=Sh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MM,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sh("t",e),r=Sh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sh(_w,e);if(OM in e){const r=e[OM];if(n===Aue){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Sue?this.onConnectionShutdown_(r):n===NM?this.onReset_(r):n===Tue?Bx("Server Error: "+r):n===RM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gT!==r&&Cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bue))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wue))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MM,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends PV{static getInstance(){return new Lv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=32,jM=768;class St{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ct(){return new St("")}function Ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Lo(t){return t.pieces_.length-t.pieceNum_}function At(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new St(t.pieces_,e)}function MV(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Iue(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function DV(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function jV(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new St(e,0)}function bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof St)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new St(n,0)}function Ze(t){return t.pieceNum_>=t.pieces_.length}function Ar(t,e){const n=Ke(t),r=Ke(e);if(n===null)return e;if(n===r)return Ar(At(t),At(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _T(t,e){if(Lo(t)!==Lo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Di(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Lo(t)>Lo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Oue{constructor(e,n){this.errorPrefix_=n,this.parts_=DV(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yy(this.parts_[r]);LV(this)}}function Nue(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yy(e),LV(t)}function Rue(t){const e=t.parts_.pop();t.byteLength_-=Yy(e),t.parts_.length>0&&(t.byteLength_-=1)}function LV(t){if(t.byteLength_>jM)throw new Error(t.errorPrefix_+"has a key path longer than "+jM+" bytes ("+t.byteLength_+").");if(t.parts_.length>DM)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+DM+") or object contains a cycle "+Rl(t))}function Rl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends PV{static getInstance(){return new bT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=1e3,kue=300*1e3,LM=30*1e3,Pue=1.3,Mue=3e4,Due="server_kill",VM=3;class os extends kV{constructor(e,n,r,i,s,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=os.nextPersistentConnectionId_++,this.log_=tp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Th,this.maxReconnectDelay_=kue,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Mn(s)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Wy,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},l="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,c=>{const f=c.d,h=c.s;os.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ps(e,"w")){const r=Dc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sae(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LM)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aae(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,l=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},l="n";i&&(s.q=r,s.t=i),this.sendRequest(l,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bx("Unrecognized action received from server: "+Mn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Th,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Th,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Mue&&(this.reconnectDelay_=Th),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Pue)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+os.nextConnectionId_++,s=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},h=function(m){ge(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:f,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new Cue(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{Cr(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(Due)},s))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&Cr(m),f())}}}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kx(this.interruptReasons_)&&(this.reconnectDelay_=Th,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>mT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new St(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ir("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VM&&(this.reconnectDelay_=LM,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ir("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VM&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cV.replace(/\./g,"-")]=1,rT()?e["framework.cordova"]=1:E6()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lv.getInstance().currentlyOnline();return kx(this.interruptReasons_)&&e}}os.nextPersistentConnectionId_=0;os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new We(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new We(jc,e),i=new We(jc,n);return this.compare(r,i)!==0}minPost(){return We.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og;class VV extends t0{static get __EMPTY_NODE(){return og}static set __EMPTY_NODE(e){og=e}compare(e,n){return af(e.name,n.name)}isDefinedOn(e){throw tf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return We.MIN}maxPost(){return new We(eu,og)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new We(e,og)}toString(){return".key"}}const xc=new VV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Br=class Ph{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ph.RED,this.left=i??ga.EMPTY_NODE,this.right=s??ga.EMPTY_NODE}copy(e,n,r,i,s){return new Ph(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ga.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ga.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ph.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ph.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Br.RED=!0;Br.BLACK=!1;class jue{copy(e,n,r,i,s){return this}insert(e,n,r){return new Br(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ga=class Tg{constructor(e,n=Tg.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Tg(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Br.BLACK,null,null))}remove(e){return new Tg(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Br.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lg(this.root_,null,this.comparator_,!0,e)}};ga.EMPTY_NODE=new jue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(t,e){return af(t.name,e.name)}function wT(t,e){return af(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qx;function Vue(t){qx=t}const zV=function(t){return typeof t=="number"?"number:"+mV(t):"string:"+t},UV=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ps(e,".sv"),"Priority must be a string or number.")}else ge(t===qx||t.isEmpty(),"priority of unexpected type.");ge(t===qx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zM;class Rn{static set __childrenNodeConstructor(e){zM=e}static get __childrenNodeConstructor(){return zM}constructor(e,n=Rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UV(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ze(e)?this:Ke(e)===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Lo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zV(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=mV(this.value_):e+=this.value_,this.lazyHash_=hV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Rn.VALUE_TYPE_ORDER.indexOf(n),s=Rn.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BV,FV;function zue(t){BV=t}function Uue(t){FV=t}class Bue extends t0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?af(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return We.MIN}maxPost(){return new We(eu,new Rn("[PRIORITY-POST]",FV))}makePost(e,n){const r=BV(e);return new We(n,new Rn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ht=new Bue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fue=Math.log(2);class que{constructor(e){const n=s=>parseInt(Math.log(s)/Fue,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vv=function(t,e,n,r){t.sort(e);const i=function(f,h){const p=h-f;let m,y;if(p===0)return null;if(p===1)return m=t[f],y=n?n(m):m,new Br(y,m.node,Br.BLACK,null,null);{const b=parseInt(p/2,10)+f,w=i(f,b),E=i(b+1,h);return m=t[b],y=n?n(m):m,new Br(y,m.node,Br.BLACK,w,E)}},s=function(f){let h=null,p=null,m=t.length;const y=function(w,E){const T=m-w,O=m;m-=w;const j=i(T+1,O),z=t[T],U=n?n(z):z;b(new Br(U,z.node,E,null,j))},b=function(w){h?(h.left=w,h=w):(p=w,h=w)};for(let w=0;w<f.count;++w){const E=f.nextBitIsOne(),T=Math.pow(2,f.count-(w+1));E?y(T,Br.BLACK):(y(T,Br.BLACK),y(T,Br.RED))}return p},l=new que(t.length),c=s(l);return new ga(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw;const ac={};class rs{static get Default(){return ge(ac&&Ht,"ChildrenNode.ts has not been loaded"),bw=bw||new rs({".priority":ac},{".priority":Ht}),bw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Dc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ga?n:null}hasIndex(e){return Ps(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(We.Wrap);let l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();let c;i?c=Vv(r,e.getCompare()):c=ac;const f=e.toString(),h={...this.indexSet_};h[f]=e;const p={...this.indexes_};return p[f]=c,new rs(p,h)}addToIndexes(e,n){const r=Cv(this.indexes_,(i,s)=>{const l=Dc(this.indexSet_,s);if(ge(l,"Missing index implementation for "+s),i===ac)if(l.isDefinedOn(e.node)){const c=[],f=n.getIterator(We.Wrap);let h=f.getNext();for(;h;)h.name!==e.name&&c.push(h),h=f.getNext();return c.push(e),Vv(c,l.getCompare())}else return ac;else{const c=n.get(e.name);let f=i;return c&&(f=f.remove(new We(e.name,c))),f.insert(e,e.node)}});return new rs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Cv(this.indexes_,i=>{if(i===ac)return i;{const s=n.get(e.name);return s?i.remove(new We(e.name,s)):i}});return new rs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;class je{static get EMPTY_NODE(){return Ah||(Ah=new je(new ga(wT),null,rs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UV(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ah}updatePriority(e){return this.children_.isEmpty()?this:new je(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ah:n}}getChild(e){const n=Ke(e);return n===null?this:this.getImmediateChild(n).getChild(At(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new We(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?Ah:this.priorityNode_;return new je(i,l,s)}}updateChild(e,n){const r=Ke(e);if(r===null)return n;{ge(Ke(e)!==".priority"||Lo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(At(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ht,(l,c)=>{n[l]=c.val(e),r++,s&&je.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zV(this.getPriority().val())+":"),this.forEachChild(Ht,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":hV(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new We(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new We(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new We(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,We.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,We.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===np?-1:0}withIndex(e){if(e===xc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new je(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ht),i=n.getIterator(Ht);let s=r.getNext(),l=i.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=i.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===xc?null:this.indexMap_.get(e.toString())}}je.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $ue extends je{constructor(){super(new ga(wT),je.EMPTY_NODE,rs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return je.EMPTY_NODE}isEmpty(){return!1}}const np=new $ue;Object.defineProperties(We,{MIN:{value:new We(jc,je.EMPTY_NODE)},MAX:{value:new We(eu,np)}});VV.__EMPTY_NODE=je.EMPTY_NODE;Rn.__childrenNodeConstructor=je;Vue(np);Uue(np);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue=!0;function Wn(t,e=null){if(t===null)return je.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rn(n,Wn(e))}if(!(t instanceof Array)&&Hue){const n=[];let r=!1;if(Ir(t,(l,c)=>{if(l.substring(0,1)!=="."){const f=Wn(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new We(l,f)))}}),n.length===0)return je.EMPTY_NODE;const s=Vv(n,Lue,l=>l.name,wT);if(r){const l=Vv(n,Ht.getCompare());return new je(s,Wn(e),new rs({".priority":l},{".priority":Ht}))}else return new je(s,Wn(e),rs.Default)}else{let n=je.EMPTY_NODE;return Ir(t,(r,i)=>{if(Ps(t,r)&&r.substring(0,1)!=="."){const s=Wn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Wn(e))}}zue(Wn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue extends t0{constructor(e){super(),this.indexPath_=e,ge(!Ze(e)&&Ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?af(e.name,n.name):s}makePost(e,n){const r=Wn(e),i=je.EMPTY_NODE.updateChild(this.indexPath_,r);return new We(n,i)}maxPost(){const e=je.EMPTY_NODE.updateChild(this.indexPath_,np);return new We(eu,e)}toString(){return DV(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue extends t0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?af(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return We.MIN}maxPost(){return We.MAX}makePost(e,n){const r=Wn(e);return new We(n,r)}toString(){return".value"}}const Wue=new Kue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return{type:"value",snapshotNode:t}}function Lc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Yue(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.index_=e}updateChild(e,n,r,i,s,l){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(gd(n,c)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Lc(n,r)):l.trackChildChange(vd(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ht,(i,s)=>{n.hasChild(i)||r.trackChildChange(gd(i,s))}),n.isLeafNode()||n.forEachChild(Ht,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(vd(i,s,l))}else r.trackChildChange(Lc(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?je.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.indexedFilter_=new xT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yd.getStartPost_(e),this.endPost_=yd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,l){return this.matches(new We(n,r))||(r=je.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=je.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(je.EMPTY_NODE);const s=this;return n.forEachChild(Ht,(l,c)=>{s.matches(new We(l,c))||(i=i.updateImmediateChild(l,je.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,l){return this.rangedFilter_.matches(new We(n,r))||(r=je.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,l):this.fullLimitUpdateChild_(e,n,r,s,l)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=je.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=je.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(je.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let l=0;for(;s.hasNext();){const c=s.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:i=i.updateImmediateChild(c.name,je.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let l;if(this.reverse_){const m=this.index_.getCompare();l=(y,b)=>m(b,y)}else l=this.index_.getCompare();const c=e;ge(c.numChildren()===this.limit_,"");const f=new We(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(c.hasChild(n)){const m=c.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:l(y,f);if(p&&!r.isEmpty()&&b>=0)return s!=null&&s.trackChildChange(vd(n,r,m)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(gd(n,m));const E=c.updateImmediateChild(n,je.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(s!=null&&s.trackChildChange(Lc(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return r.isEmpty()?e:p&&l(h,f)>=0?(s!=null&&(s.trackChildChange(gd(h.name,h.node)),s.trackChildChange(Lc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,je.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jc}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const e=new ET;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xue(t){return t.loadsAllData()?new xT(t.getIndex()):t.hasLimit()?new Que(t):new yd(t)}function UM(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ht?n="$priority":t.index_===Wue?n="$value":t.index_===xc?n="$key":(ge(t.index_ instanceof Gue,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function BM(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ht&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends kV{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tp("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=zv.getListenId_(e,r),c={};this.listens_[l]=c;const f=UM(e._queryParams);this.restRequest_(s+".json",f,(h,p)=>{let m=p;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(s,m,!1,r),Dc(this.listens_,l)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",i(y,null)}})}unlisten(e,n){const r=zv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UM(e._queryParams),r=e._path.toString(),i=new Wy;return this.restRequest_(r+".json",n,(s,l)=>{let c=l;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nf(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=fd(c.responseText)}catch{Cr("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&Cr("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(){this.rootNode_=je.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){return{value:null,children:new Map}}function $V(t,e,n){if(Ze(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ke(e);t.children.has(r)||t.children.set(r,Uv());const i=t.children.get(r);e=At(e),$V(i,e,n)}}function $x(t,e,n){t.value!==null?n(e,t.value):Jue(t,(r,i)=>{const s=new St(e.toString()+"/"+r);$x(i,s,n)})}function Jue(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ir(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=10*1e3,tce=30*1e3,nce=300*1e3;class rce{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ece(e);const r=FM+(tce-FM)*Math.random();Fh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ir(e,(i,s)=>{s>0&&Ps(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fh(this.reportStats_.bind(this),Math.floor(Math.random()*2*nce))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ji||(ji={}));function HV(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ST(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function TT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ji.ACK_USER_WRITE,this.source=HV()}operationForChild(e){if(Ze(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(e));return new Bv(ct(),n,this.revert)}}else return ge(Ke(this.path)===e,"operationForChild called for unrelated child."),new Bv(At(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.source=e,this.path=n,this.type=ji.LISTEN_COMPLETE}operationForChild(e){return Ze(this.path)?new _d(this.source,ct()):new _d(this.source,At(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ji.OVERWRITE}operationForChild(e){return Ze(this.path)?new tu(this.source,ct(),this.snap.getImmediateChild(e)):new tu(this.source,At(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ji.MERGE}operationForChild(e){if(Ze(this.path)){const n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new tu(this.source,ct(),n.value):new bd(this.source,ct(),n)}else return ge(Ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bd(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ze(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ace(t,e,n,r){const i=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(Yue(l.childName,l.snapshotNode))}),Ch(t,i,"child_removed",e,r,n),Ch(t,i,"child_added",e,r,n),Ch(t,i,"child_moved",s,r,n),Ch(t,i,"child_changed",e,r,n),Ch(t,i,"value",e,r,n),i}function Ch(t,e,n,r,i,s){const l=r.filter(c=>c.type===n);l.sort((c,f)=>oce(t,c,f)),l.forEach(c=>{const f=sce(t,c,s);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(f,t.query_))})})}function sce(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function oce(t,e,n){if(e.childName==null||n.childName==null)throw tf("Should only compare child_ events.");const r=new We(e.childName,e.snapshotNode),i=new We(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e){return{eventCache:t,serverCache:e}}function qh(t,e,n,r){return n0(new nu(e,n,r),t.serverCache)}function GV(t,e,n,r){return n0(t.eventCache,new nu(e,n,r))}function Hx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ru(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ww;const lce=()=>(ww||(ww=new ga(Kle)),ww);class Nt{static fromObject(e){let n=new Nt(null);return Ir(e,(r,i)=>{n=n.set(new St(r),i)}),n}constructor(e,n=lce()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ct(),value:this.value};if(Ze(e))return null;{const r=Ke(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(At(e),n);return s!=null?{path:bn(new St(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ze(e))return this;{const n=Ke(e),r=this.children.get(n);return r!==null?r.subtree(At(e)):new Nt(null)}}set(e,n){if(Ze(e))return new Nt(n,this.children);{const r=Ke(e),s=(this.children.get(r)||new Nt(null)).set(At(e),n),l=this.children.insert(r,s);return new Nt(this.value,l)}}remove(e){if(Ze(e))return this.children.isEmpty()?new Nt(null):new Nt(null,this.children);{const n=Ke(e),r=this.children.get(n);if(r){const i=r.remove(At(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Nt(null):new Nt(this.value,s)}else return this}}get(e){if(Ze(e))return this.value;{const n=Ke(e),r=this.children.get(n);return r?r.get(At(e)):null}}setTree(e,n){if(Ze(e))return n;{const r=Ke(e),s=(this.children.get(r)||new Nt(null)).setTree(At(e),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new Nt(this.value,l)}}fold(e){return this.fold_(ct(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(bn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ct(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ze(e))return null;{const s=Ke(e),l=this.children.get(s);return l?l.findOnPath_(At(e),bn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ct(),n)}foreachOnPath_(e,n,r){if(Ze(e))return this;{this.value&&r(n,this.value);const i=Ke(e),s=this.children.get(i);return s?s.foreachOnPath_(At(e),bn(n,i),r):new Nt(null)}}foreach(e){this.foreach_(ct(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.writeTree_=e}static empty(){return new Vi(new Nt(null))}}function $h(t,e,n){if(Ze(e))return new Vi(new Nt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const l=Ar(i,e);return s=s.updateChild(l,n),new Vi(t.writeTree_.set(i,s))}else{const i=new Nt(n),s=t.writeTree_.setTree(e,i);return new Vi(s)}}}function qM(t,e,n){let r=t;return Ir(n,(i,s)=>{r=$h(r,bn(e,i),s)}),r}function $M(t,e){if(Ze(e))return Vi.empty();{const n=t.writeTree_.setTree(e,new Nt(null));return new Vi(n)}}function Gx(t,e){return hu(t,e)!=null}function hu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ar(n.path,e)):null}function HM(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ht,(r,i)=>{e.push(new We(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new We(r,i.value))}),e}function No(t,e){if(Ze(e))return t;{const n=hu(t,e);return n!=null?new Vi(new Nt(n)):new Vi(t.writeTree_.subtree(e))}}function Kx(t){return t.writeTree_.isEmpty()}function Vc(t,e){return KV(ct(),t.writeTree_,e)}function KV(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ge(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=KV(bn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return XV(e,t)}function uce(t,e,n,r,i){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$h(t.visibleWrites,e,n)),t.lastWriteId=r}function cce(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function fce(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&hce(c,r.path)?i=!1:Di(r.path,c.path)&&(s=!0)),l--}if(i){if(s)return dce(t),!0;if(r.snap)t.visibleWrites=$M(t.visibleWrites,r.path);else{const c=r.children;Ir(c,f=>{t.visibleWrites=$M(t.visibleWrites,bn(r.path,f))})}return!0}else return!1}function hce(t,e){if(t.snap)return Di(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Di(bn(t.path,n),e))return!0;return!1}function dce(t){t.visibleWrites=WV(t.allWrites,pce,ct()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pce(t){return t.visible}function WV(t,e,n){let r=Vi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const l=s.path;let c;if(s.snap)Di(n,l)?(c=Ar(n,l),r=$h(r,c,s.snap)):Di(l,n)&&(c=Ar(l,n),r=$h(r,ct(),s.snap.getChild(c)));else if(s.children){if(Di(n,l))c=Ar(n,l),r=qM(r,c,s.children);else if(Di(l,n))if(c=Ar(l,n),Ze(c))r=qM(r,ct(),s.children);else{const f=Dc(s.children,Ke(c));if(f){const h=f.getChild(At(c));r=$h(r,ct(),h)}}}else throw tf("WriteRecord should have .snap or .children")}}return r}function YV(t,e,n,r,i){if(!r&&!i){const s=hu(t.visibleWrites,e);if(s!=null)return s;{const l=No(t.visibleWrites,e);if(Kx(l))return n;if(n==null&&!Gx(l,ct()))return null;{const c=n||je.EMPTY_NODE;return Vc(l,c)}}}else{const s=No(t.visibleWrites,e);if(!i&&Kx(s))return n;if(!i&&n==null&&!Gx(s,ct()))return null;{const l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Di(h.path,e)||Di(e,h.path))},c=WV(t.allWrites,l,e),f=n||je.EMPTY_NODE;return Vc(c,f)}}}function mce(t,e,n){let r=je.EMPTY_NODE;const i=hu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ht,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=No(t.visibleWrites,e);return n.forEachChild(Ht,(l,c)=>{const f=Vc(No(s,new St(l)),c);r=r.updateImmediateChild(l,f)}),HM(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=No(t.visibleWrites,e);return HM(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function gce(t,e,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=bn(e,n);if(Gx(t.visibleWrites,s))return null;{const l=No(t.visibleWrites,s);return Kx(l)?i.getChild(n):Vc(l,i.getChild(n))}}function vce(t,e,n,r){const i=bn(e,n),s=hu(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=No(t.visibleWrites,i);return Vc(l,r.getNode().getImmediateChild(n))}else return null}function yce(t,e){return hu(t.visibleWrites,e)}function _ce(t,e,n,r,i,s,l){let c;const f=No(t.visibleWrites,e),h=hu(f,ct());if(h!=null)c=h;else if(n!=null)c=Vc(f,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=l.getCompare(),y=s?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let b=y.getNext();for(;b&&p.length<i;)m(b,r)!==0&&p.push(b),b=y.getNext();return p}else return[]}function bce(){return{visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1}}function Fv(t,e,n,r){return YV(t.writeTree,t.treePath,e,n,r)}function CT(t,e){return mce(t.writeTree,t.treePath,e)}function GM(t,e,n,r){return gce(t.writeTree,t.treePath,e,n,r)}function qv(t,e){return yce(t.writeTree,bn(t.treePath,e))}function wce(t,e,n,r,i,s){return _ce(t.writeTree,t.treePath,e,n,r,i,s)}function IT(t,e,n){return vce(t.writeTree,t.treePath,e,n)}function QV(t,e){return XV(bn(t.treePath,e),t.writeTree)}function XV(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,gd(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Lc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vd(r,e.snapshotNode,i.oldSnap));else throw tf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ZV=new Ece;class OT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new nu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ru(this.viewCache_),s=wce(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(t){return{filter:t}}function Tce(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ace(t,e,n,r,i){const s=new xce;let l,c;if(n.type===ji.OVERWRITE){const h=n;h.source.fromUser?l=Wx(t,e,h.path,h.snap,r,i,s):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!Ze(h.path),l=$v(t,e,h.path,h.snap,r,i,c,s))}else if(n.type===ji.MERGE){const h=n;h.source.fromUser?l=Ice(t,e,h.path,h.children,r,i,s):(ge(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),l=Yx(t,e,h.path,h.children,r,i,c,s))}else if(n.type===ji.ACK_USER_WRITE){const h=n;h.revert?l=Rce(t,e,h.path,r,i,s):l=Oce(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===ji.LISTEN_COMPLETE)l=Nce(t,e,n.path,r,s);else throw tf("Unknown operation type: "+n.type);const f=s.getChanges();return Cce(e,l,f),{viewCache:l,changes:f}}function Cce(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Hx(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(qV(Hx(e)))}}function JV(t,e,n,r,i,s){const l=e.eventCache;if(qv(r,n)!=null)return e;{let c,f;if(Ze(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ru(e),p=h instanceof je?h:je.EMPTY_NODE,m=CT(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const h=Fv(r,ru(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Ke(n);if(h===".priority"){ge(Lo(n)===1,"Can't have a priority with additional path components");const p=l.getNode();f=e.serverCache.getNode();const m=GM(r,n,p,f);m!=null?c=t.filter.updatePriority(p,m):c=l.getNode()}else{const p=At(n);let m;if(l.isCompleteForChild(h)){f=e.serverCache.getNode();const y=GM(r,n,l.getNode(),f);y!=null?m=l.getNode().getImmediateChild(h).updateChild(p,y):m=l.getNode().getImmediateChild(h)}else m=IT(r,h,e.serverCache);m!=null?c=t.filter.updateChild(l.getNode(),h,m,p,i,s):c=l.getNode()}}return qh(e,c,l.isFullyInitialized()||Ze(n),t.filter.filtersNodes())}}function $v(t,e,n,r,i,s,l,c){const f=e.serverCache;let h;const p=l?t.filter:t.filter.getIndexedFilter();if(Ze(n))h=p.updateFullNode(f.getNode(),r,null);else if(p.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(n,r);h=p.updateFullNode(f.getNode(),b,null)}else{const b=Ke(n);if(!f.isCompleteForPath(n)&&Lo(n)>1)return e;const w=At(n),T=f.getNode().getImmediateChild(b).updateChild(w,r);b===".priority"?h=p.updatePriority(f.getNode(),T):h=p.updateChild(f.getNode(),b,T,w,ZV,null)}const m=GV(e,h,f.isFullyInitialized()||Ze(n),p.filtersNodes()),y=new OT(i,m,s);return JV(t,m,n,i,y,c)}function Wx(t,e,n,r,i,s,l){const c=e.eventCache;let f,h;const p=new OT(i,e,s);if(Ze(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,l),f=qh(e,h,!0,t.filter.filtersNodes());else{const m=Ke(n);if(m===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),f=qh(e,h,c.isFullyInitialized(),c.isFiltered());else{const y=At(n),b=c.getNode().getImmediateChild(m);let w;if(Ze(y))w=r;else{const E=p.getCompleteChild(m);E!=null?MV(y)===".priority"&&E.getChild(jV(y)).isEmpty()?w=E:w=E.updateChild(y,r):w=je.EMPTY_NODE}if(b.equals(w))f=e;else{const E=t.filter.updateChild(c.getNode(),m,w,y,p,l);f=qh(e,E,c.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function KM(t,e){return t.eventCache.isCompleteForChild(e)}function Ice(t,e,n,r,i,s,l){let c=e;return r.foreach((f,h)=>{const p=bn(n,f);KM(e,Ke(p))&&(c=Wx(t,c,p,h,i,s,l))}),r.foreach((f,h)=>{const p=bn(n,f);KM(e,Ke(p))||(c=Wx(t,c,p,h,i,s,l))}),c}function WM(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Yx(t,e,n,r,i,s,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,h;Ze(n)?h=r:h=new Nt(null).setTree(n,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((m,y)=>{if(p.hasChild(m)){const b=e.serverCache.getNode().getImmediateChild(m),w=WM(t,b,y);f=$v(t,f,new St(m),w,i,s,l,c)}}),h.children.inorderTraversal((m,y)=>{const b=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!p.hasChild(m)&&!b){const w=e.serverCache.getNode().getImmediateChild(m),E=WM(t,w,y);f=$v(t,f,new St(m),E,i,s,l,c)}}),f}function Oce(t,e,n,r,i,s,l){if(qv(i,n)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Ze(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return $v(t,e,n,f.getNode().getChild(n),i,s,c,l);if(Ze(n)){let h=new Nt(null);return f.getNode().forEachChild(xc,(p,m)=>{h=h.set(new St(p),m)}),Yx(t,e,n,h,i,s,c,l)}else return e}else{let h=new Nt(null);return r.foreach((p,m)=>{const y=bn(n,p);f.isCompleteForPath(y)&&(h=h.set(p,f.getNode().getChild(y)))}),Yx(t,e,n,h,i,s,c,l)}}function Nce(t,e,n,r,i){const s=e.serverCache,l=GV(e,s.getNode(),s.isFullyInitialized()||Ze(n),s.isFiltered());return JV(t,l,n,r,ZV,i)}function Rce(t,e,n,r,i,s){let l;if(qv(r,n)!=null)return e;{const c=new OT(r,e,i),f=e.eventCache.getNode();let h;if(Ze(n)||Ke(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Fv(r,ru(e));else{const m=e.serverCache.getNode();ge(m instanceof je,"serverChildren would be complete if leaf node"),p=CT(r,m)}p=p,h=t.filter.updateFullNode(f,p,s)}else{const p=Ke(n);let m=IT(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=f.getImmediateChild(p)),m!=null?h=t.filter.updateChild(f,p,m,At(n),c,s):e.eventCache.getNode().hasChild(p)?h=t.filter.updateChild(f,p,je.EMPTY_NODE,At(n),c,s):h=f,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Fv(r,ru(e)),l.isLeafNode()&&(h=t.filter.updateFullNode(h,l,s)))}return l=e.serverCache.isFullyInitialized()||qv(r,ct())!=null,qh(e,h,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xT(r.getIndex()),s=Xue(r);this.processor_=Sce(s);const l=n.serverCache,c=n.eventCache,f=i.updateFullNode(je.EMPTY_NODE,l.getNode(),null),h=s.updateFullNode(je.EMPTY_NODE,c.getNode(),null),p=new nu(f,l.isFullyInitialized(),i.filtersNodes()),m=new nu(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=n0(m,p),this.eventGenerator_=new ice(this.query_)}get query(){return this.query_}}function Pce(t){return t.viewCache_.serverCache.getNode()}function Mce(t,e){const n=ru(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ze(e)&&!n.getImmediateChild(Ke(e)).isEmpty())?n.getChild(e):null}function YM(t){return t.eventRegistrations_.length===0}function Dce(t,e){t.eventRegistrations_.push(e)}function QM(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const l=t.eventRegistrations_[s];if(!l.matches(e))i.push(l);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function XM(t,e,n,r){e.type===ji.MERGE&&e.source.queryId!==null&&(ge(ru(t.viewCache_),"We should always have a full cache before handling merges"),ge(Hx(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Ace(t.processor_,i,e,n,r);return Tce(t.processor_,s.viewCache),ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,e9(t,s.changes,s.viewCache.eventCache.getNode(),null)}function jce(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ht,(s,l)=>{r.push(Lc(s,l))}),n.isFullyInitialized()&&r.push(qV(n.getNode())),e9(t,r,n.getNode(),e)}function e9(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return ace(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv;class Lce{constructor(){this.views=new Map}}function Vce(t){ge(!Hv,"__referenceConstructor has already been defined"),Hv=t}function zce(){return ge(Hv,"Reference.ts has not been loaded"),Hv}function Uce(t){return t.views.size===0}function NT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ge(s!=null,"SyncTree gave us an op for an invalid query."),XM(s,e,n,r)}else{let s=[];for(const l of t.views.values())s=s.concat(XM(l,e,n,r));return s}}function Bce(t,e,n,r,i){const s=e._queryIdentifier,l=t.views.get(s);if(!l){let c=Fv(n,i?r:null),f=!1;c?f=!0:r instanceof je?(c=CT(n,r),f=!1):(c=je.EMPTY_NODE,f=!1);const h=n0(new nu(c,f,!1),new nu(r,i,!1));return new kce(e,h)}return l}function Fce(t,e,n,r,i,s){const l=Bce(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),Dce(l,n),jce(l,n)}function qce(t,e,n,r){const i=e._queryIdentifier,s=[];let l=[];const c=Vo(t);if(i==="default")for(const[f,h]of t.views.entries())l=l.concat(QM(h,n,r)),YM(h)&&(t.views.delete(f),h.query._queryParams.loadsAllData()||s.push(h.query));else{const f=t.views.get(i);f&&(l=l.concat(QM(f,n,r)),YM(f)&&(t.views.delete(i),f.query._queryParams.loadsAllData()||s.push(f.query)))}return c&&!Vo(t)&&s.push(new(zce())(e._repo,e._path)),{removed:s,events:l}}function t9(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ec(t,e){let n=null;for(const r of t.views.values())n=n||Mce(r,e);return n}function n9(t,e){if(e._queryParams.loadsAllData())return r0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function r9(t,e){return n9(t,e)!=null}function Vo(t){return r0(t)!=null}function r0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv;function $ce(t){ge(!Gv,"__referenceConstructor has already been defined"),Gv=t}function Hce(){return ge(Gv,"Reference.ts has not been loaded"),Gv}let Gce=1;class ZM{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Nt(null),this.pendingWriteTree_=bce(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function i9(t,e,n,r,i){return uce(t.pendingWriteTree_,e,n,r,i),i?rp(t,new tu(HV(),e,n)):[]}function Ll(t,e,n=!1){const r=cce(t.pendingWriteTree_,e);if(fce(t.pendingWriteTree_,e)){let s=new Nt(null);return r.snap!=null?s=s.set(ct(),!0):Ir(r.children,l=>{s=s.set(new St(l),!0)}),rp(t,new Bv(r.path,s,n))}else return[]}function i0(t,e,n){return rp(t,new tu(ST(),e,n))}function Kce(t,e,n){const r=Nt.fromObject(n);return rp(t,new bd(ST(),e,r))}function Wce(t,e){return rp(t,new _d(ST(),e))}function Yce(t,e,n){const r=kT(t,n);if(r){const i=PT(r),s=i.path,l=i.queryId,c=Ar(s,e),f=new _d(TT(l),c);return MT(t,s,f)}else return[]}function Qx(t,e,n,r,i=!1){const s=e._path,l=t.syncPointTree_.get(s);let c=[];if(l&&(e._queryIdentifier==="default"||r9(l,e))){const f=qce(l,e,n,r);Uce(l)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=f.removed;if(c=f.events,!i){const p=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(y,b)=>Vo(b));if(p&&!m){const y=t.syncPointTree_.subtree(s);if(!y.isEmpty()){const b=Zce(y);for(let w=0;w<b.length;++w){const E=b[w],T=E.query,O=o9(t,E);t.listenProvider_.startListening(Hh(T),Kv(t,T),O.hashFn,O.onComplete)}}}!m&&h.length>0&&!r&&(p?t.listenProvider_.stopListening(Hh(e),null):h.forEach(y=>{const b=t.queryToTagMap.get(a0(y));t.listenProvider_.stopListening(Hh(y),b)}))}Jce(t,h)}return c}function Qce(t,e,n,r){const i=kT(t,r);if(i!=null){const s=PT(i),l=s.path,c=s.queryId,f=Ar(l,e),h=new tu(TT(c),f,n);return MT(t,l,h)}else return[]}function Xce(t,e,n,r){const i=kT(t,r);if(i){const s=PT(i),l=s.path,c=s.queryId,f=Ar(l,e),h=Nt.fromObject(n),p=new bd(TT(c),f,h);return MT(t,l,p)}else return[]}function JM(t,e,n,r=!1){const i=e._path;let s=null,l=!1;t.syncPointTree_.foreachOnPath(i,(y,b)=>{const w=Ar(y,i);s=s||Ec(b,w),l=l||Vo(b)});let c=t.syncPointTree_.get(i);c?(l=l||Vo(c),s=s||Ec(c,ct())):(c=new Lce,t.syncPointTree_=t.syncPointTree_.set(i,c));let f;s!=null?f=!0:(f=!1,s=je.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((b,w)=>{const E=Ec(w,ct());E&&(s=s.updateImmediateChild(b,E))}));const h=r9(c,e);if(!h&&!e._queryParams.loadsAllData()){const y=a0(e);ge(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=efe();t.queryToTagMap.set(y,b),t.tagToQueryMap.set(b,y)}const p=AT(t.pendingWriteTree_,i);let m=Fce(c,e,n,p,s,f);if(!h&&!l&&!r){const y=n9(c,e);m=m.concat(tfe(t,e,y))}return m}function RT(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(l,c)=>{const f=Ar(l,e),h=Ec(c,f);if(h)return h});return YV(i,e,s,n,!0)}function rp(t,e){return a9(e,t.syncPointTree_,null,AT(t.pendingWriteTree_,ct()))}function a9(t,e,n,r){if(Ze(t.path))return s9(t,e,n,r);{const i=e.get(ct());n==null&&i!=null&&(n=Ec(i,ct()));let s=[];const l=Ke(t.path),c=t.operationForChild(l),f=e.children.get(l);if(f&&c){const h=n?n.getImmediateChild(l):null,p=QV(r,l);s=s.concat(a9(c,f,h,p))}return i&&(s=s.concat(NT(i,t,r,n))),s}}function s9(t,e,n,r){const i=e.get(ct());n==null&&i!=null&&(n=Ec(i,ct()));let s=[];return e.children.inorderTraversal((l,c)=>{const f=n?n.getImmediateChild(l):null,h=QV(r,l),p=t.operationForChild(l);p&&(s=s.concat(s9(p,c,f,h)))}),i&&(s=s.concat(NT(i,t,r,n))),s}function o9(t,e){const n=e.query,r=Kv(t,n);return{hashFn:()=>(Pce(e)||je.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Yce(t,n._path,r):Wce(t,n._path);{const s=Qle(i,n);return Qx(t,n,null,s)}}}}function Kv(t,e){const n=a0(e);return t.queryToTagMap.get(n)}function a0(t){return t._path.toString()+"$"+t._queryIdentifier}function kT(t,e){return t.tagToQueryMap.get(e)}function PT(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new St(t.substr(0,e))}}function MT(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const i=AT(t.pendingWriteTree_,e);return NT(r,n,i,null)}function Zce(t){return t.fold((e,n,r)=>{if(n&&Vo(n))return[r0(n)];{let i=[];return n&&(i=t9(n)),Ir(r,(s,l)=>{i=i.concat(l)}),i}})}function Hh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Hce())(t._repo,t._path):t}function Jce(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=a0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function efe(){return Gce++}function tfe(t,e,n){const r=e._path,i=Kv(t,e),s=o9(t,n),l=t.listenProvider_.startListening(Hh(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)ge(!Vo(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((h,p,m)=>{if(!Ze(h)&&p&&Vo(p))return[r0(p).query];{let y=[];return p&&(y=y.concat(t9(p).map(b=>b.query))),Ir(m,(b,w)=>{y=y.concat(w)}),y}});for(let h=0;h<f.length;++h){const p=f[h];t.listenProvider_.stopListening(Hh(p),Kv(t,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new DT(n)}node(){return this.node_}}class jT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=bn(this.path_,e);return new jT(this.syncTree_,n)}node(){return RT(this.syncTree_,this.path_)}}const nfe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eD=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return rfe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ife(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},rfe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},ife=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const i=e.node();if(ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},afe=function(t,e,n,r){return LT(e,new jT(n,t),r)},l9=function(t,e,n){return LT(t,new DT(e),n)};function LT(t,e,n){const r=t.getPriority().val(),i=eD(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const l=t,c=eD(l.getValue(),e,n);return c!==l.getValue()||i!==l.getPriority().val()?new Rn(c,Wn(i)):t}else{const l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Rn(i))),l.forEachChild(Ht,(c,f)=>{const h=LT(f,e.getImmediateChild(c),n);h!==f&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zT(t,e){let n=e instanceof St?e:new St(e),r=t,i=Ke(n);for(;i!==null;){const s=Dc(r.node.children,i)||{children:{},childCount:0};r=new VT(i,r,s),n=At(n),i=Ke(n)}return r}function of(t){return t.node.value}function u9(t,e){t.node.value=e,Xx(t)}function c9(t){return t.node.childCount>0}function sfe(t){return of(t)===void 0&&!c9(t)}function s0(t,e){Ir(t.node.children,(n,r)=>{e(new VT(n,t,r))})}function f9(t,e,n,r){n&&e(t),s0(t,i=>{f9(i,e,!0)})}function ofe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ip(t){return new St(t.parent===null?t.name:ip(t.parent)+"/"+t.name)}function Xx(t){t.parent!==null&&lfe(t.parent,t.name,t)}function lfe(t,e,n){const r=sfe(n),i=Ps(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Xx(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Xx(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe=/[\[\].#$\/\u0000-\u001F\u007F]/,cfe=/[\[\].#$\u0000-\u001F\u007F]/,xw=10*1024*1024,h9=function(t){return typeof t=="string"&&t.length!==0&&!ufe.test(t)},d9=function(t){return typeof t=="string"&&t.length!==0&&!cfe.test(t)},ffe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),d9(t)},hfe=function(t,e,n,r){UT(iT(t,"value"),e,n)},UT=function(t,e,n){const r=n instanceof St?new Oue(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rl(r)+" with contents = "+e.toString());if(dV(e))throw new Error(t+"contains "+e.toString()+" "+Rl(r));if(typeof e=="string"&&e.length>xw/3&&Yy(e)>xw)throw new Error(t+"contains a string greater than "+xw+" utf8 bytes "+Rl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ir(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!h9(l)))throw new Error(t+" contains an invalid key ("+l+") "+Rl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nue(r,l),UT(t,c,r),Rue(r)}),i&&s)throw new Error(t+' contains ".value" child '+Rl(r)+" in addition to actual children.")}},p9=function(t,e,n,r){if(!d9(n))throw new Error(iT(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dfe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),p9(t,e,n)},pfe=function(t,e){if(Ke(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},mfe=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!h9(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ffe(n))throw new Error(iT(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!_T(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function m9(t,e,n){BT(t,n),g9(t,r=>_T(r,e))}function ws(t,e,n){BT(t,n),g9(t,r=>Di(r,e)||Di(e,r))}function g9(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(vfe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function vfe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bh&&ir("event: "+n.toString()),sf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe="repo_interrupt",_fe=25;class bfe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gfe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uv(),this.transactionQueueTree_=new VT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wfe(t,e,n){if(t.stats_=vT(t.repoInfo_),t.forceRestClient_||eue())t.server_=new zv(t.repoInfo_,(r,i,s,l)=>{tD(t,r,i,s,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new os(t.repoInfo_,e,(r,i,s,l)=>{tD(t,r,i,s,l)},r=>{nD(t,r)},r=>{Efe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=aue(t.repoInfo_,()=>new rce(t.stats_,t.server_)),t.infoData_=new Zue,t.infoSyncTree_=new ZM({startListening:(r,i,s,l)=>{let c=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(c=i0(t.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),qT(t,"connected",!1),t.serverSyncTree_=new ZM({startListening:(r,i,s,l)=>(t.server_.listen(r,s,i,(c,f)=>{const h=l(c,f);ws(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function xfe(t){const n=t.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function FT(t){return nfe({timestamp:xfe(t)})}function tD(t,e,n,r,i){t.dataUpdateCount++;const s=new St(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const f=Cv(n,h=>Wn(h));l=Xce(t.serverSyncTree_,s,f,i)}else{const f=Wn(n);l=Qce(t.serverSyncTree_,s,f,i)}else if(r){const f=Cv(n,h=>Wn(h));l=Kce(t.serverSyncTree_,s,f)}else{const f=Wn(n);l=i0(t.serverSyncTree_,s,f)}let c=s;l.length>0&&(c=o0(t,s)),ws(t.eventQueue_,c,l)}function nD(t,e){qT(t,"connected",e),e===!1&&Tfe(t)}function Efe(t,e){Ir(e,(n,r)=>{qT(t,n,r)})}function qT(t,e,n){const r=new St("/.info/"+e),i=Wn(n);t.infoData_.updateSnapshot(r,i);const s=i0(t.infoSyncTree_,r,i);ws(t.eventQueue_,r,s)}function v9(t){return t.nextWriteId_++}function Sfe(t,e,n,r,i){$T(t,"set",{path:e.toString(),value:n,priority:r});const s=FT(t),l=Wn(n,r),c=RT(t.serverSyncTree_,e),f=l9(l,c,s),h=v9(t),p=i9(t.serverSyncTree_,e,f,h,!0);BT(t.eventQueue_,p),t.server_.put(e.toString(),l.val(!0),(y,b)=>{const w=y==="ok";w||Cr("set at "+e+" failed: "+y);const E=Ll(t.serverSyncTree_,h,!w);ws(t.eventQueue_,e,E),Ofe(t,i,y,b)});const m=x9(t,e);o0(t,m),ws(t.eventQueue_,m,[])}function Tfe(t){$T(t,"onDisconnectEvents");const e=FT(t),n=Uv();$x(t.onDisconnect_,ct(),(i,s)=>{const l=afe(i,s,t.serverSyncTree_,e);$V(n,i,l)});let r=[];$x(n,ct(),(i,s)=>{r=r.concat(i0(t.serverSyncTree_,i,s));const l=x9(t,i);o0(t,l)}),t.onDisconnect_=Uv(),ws(t.eventQueue_,ct(),r)}function Afe(t,e,n){let r;Ke(e._path)===".info"?r=JM(t.infoSyncTree_,e,n):r=JM(t.serverSyncTree_,e,n),m9(t.eventQueue_,e._path,r)}function Cfe(t,e,n){let r;Ke(e._path)===".info"?r=Qx(t.infoSyncTree_,e,n):r=Qx(t.serverSyncTree_,e,n),m9(t.eventQueue_,e._path,r)}function Ife(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yfe)}function $T(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ir(n,...e)}function Ofe(t,e,n,r){e&&sf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function y9(t,e,n){return RT(t.serverSyncTree_,e,n)||je.EMPTY_NODE}function HT(t,e=t.transactionQueueTree_){if(e||l0(t,e),of(e)){const n=b9(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Nfe(t,ip(e),n)}else c9(e)&&s0(e,n=>{HT(t,n)})}function Nfe(t,e,n){const r=n.map(h=>h.currentWriteId),i=y9(t,e,r);let s=i;const l=i.hash();for(let h=0;h<n.length;h++){const p=n[h];ge(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Ar(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const c=s.val(!0),f=e;t.server_.put(f.toString(),c,h=>{$T(t,"transaction put response",{path:f.toString(),status:h});let p=[];if(h==="ok"){const m=[];for(let y=0;y<n.length;y++)n[y].status=2,p=p.concat(Ll(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&m.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();l0(t,zT(t.transactionQueueTree_,e)),HT(t,t.transactionQueueTree_),ws(t.eventQueue_,e,p);for(let y=0;y<m.length;y++)sf(m[y])}else{if(h==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Cr("transaction at "+f.toString()+" failed: "+h);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=h}o0(t,e)}},l)}function o0(t,e){const n=_9(t,e),r=ip(n),i=b9(t,n);return Rfe(t,i,r),r}function Rfe(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],h=Ar(n,f.path);let p=!1,m;if(ge(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,m=f.abortReason,i=i.concat(Ll(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=_fe)p=!0,m="maxretry",i=i.concat(Ll(t.serverSyncTree_,f.currentWriteId,!0));else{const y=y9(t,f.path,l);f.currentInputSnapshot=y;const b=e[c].update(y.val());if(b!==void 0){UT("transaction failed: Data returned ",b,f.path);let w=Wn(b);typeof b=="object"&&b!=null&&Ps(b,".priority")||(w=w.updatePriority(y.getPriority()));const T=f.currentWriteId,O=FT(t),j=l9(w,y,O);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=j,f.currentWriteId=v9(t),l.splice(l.indexOf(T),1),i=i.concat(i9(t.serverSyncTree_,f.path,j,f.currentWriteId,f.applyLocally)),i=i.concat(Ll(t.serverSyncTree_,T,!0))}else p=!0,m="nodata",i=i.concat(Ll(t.serverSyncTree_,f.currentWriteId,!0))}ws(t.eventQueue_,n,i),i=[],p&&(e[c].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}l0(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)sf(r[c]);HT(t,t.transactionQueueTree_)}function _9(t,e){let n,r=t.transactionQueueTree_;for(n=Ke(e);n!==null&&of(r)===void 0;)r=zT(r,n),e=At(e),n=Ke(e);return r}function b9(t,e){const n=[];return w9(t,e,n),n.sort((r,i)=>r.order-i.order),n}function w9(t,e,n){const r=of(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);s0(e,i=>{w9(t,i,n)})}function l0(t,e){const n=of(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,u9(e,n.length>0?n:void 0)}s0(e,r=>{l0(t,r)})}function x9(t,e){const n=ip(_9(t,e)),r=zT(t.transactionQueueTree_,e);return ofe(r,i=>{Ew(t,i)}),Ew(t,r),f9(r,i=>{Ew(t,i)}),n}function Ew(t,e){const n=of(e);if(n){const r=[];let i=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(ge(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(ge(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Ll(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?u9(e,void 0):n.length=s+1,ws(t.eventQueue_,ip(e),i);for(let l=0;l<r.length;l++)sf(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kfe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Pfe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cr(`Invalid query segment '${n}' in query '${t}'`)}return e}const rD=function(t,e){const n=Mfe(t),r=n.namespace;n.domain==="firebase.com"&&bs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Hle();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new TV(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new St(n.pathString)}},Mfe=function(t){let e="",n="",r="",i="",s="",l=!0,c="https",f=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=kfe(t.substring(p,m)));const y=Pfe(t.substring(Math.min(t.length,m)));h=e.indexOf(":"),h>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(h+1),10)):h=e.length;const b=e.slice(0,h);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:l,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mn(this.snapshot.exportVal())}}class jfe{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ze(this._path)?null:MV(this._path)}get ref(){return new Yo(this._repo,this._path)}get _queryIdentifier(){const e=BM(this._queryParams),n=mT(e);return n==="{}"?"default":n}get _queryObject(){return BM(this._queryParams)}isEqual(e){if(e=Vt(e),!(e instanceof GT))return!1;const n=this._repo===e._repo,r=_T(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Iue(this._path)}}class Yo extends GT{constructor(e,n){super(e,n,new ET,!1)}get parent(){const e=jV(this._path);return e===null?null:new Yo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wv{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new St(e),r=Zx(this.ref,e);return new Wv(this._node.getChild(n),r,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Wv(i,Zx(this.ref,r),Ht)))}hasChild(e){const n=new St(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function E9(t,e){return t=Vt(t),t._checkNotDeleted("ref"),e!==void 0?Zx(t._root,e):t._root}function Zx(t,e){return t=Vt(t),Ke(t._path)===null?dfe("child","path",e):p9("child","path",e),new Yo(t._repo,bn(t._path,e))}function Vfe(t,e){t=Vt(t),pfe("set",t._path),hfe("set",e,t._path);const n=new Wy;return Sfe(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class KT{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Dfe("value",this,new Wv(e.snapshotNode,new Yo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jfe(this,e,n):null}matches(e){return e instanceof KT?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zfe(t,e,n,r,i){const s=new Lfe(n,void 0),l=new KT(s);return Afe(t._repo,t,l),()=>Cfe(t._repo,t,l)}function Ufe(t,e,n,r){return zfe(t,"value",e)}Vce(Yo);$ce(Yo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe="FIREBASE_DATABASE_EMULATOR_HOST",Jx={};let Ffe=!1;function qfe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),l=Ko(s);t.repoInfo_=new TV(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function $fe(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||bs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=rD(s,i),c=l.repoInfo,f;typeof process<"u"&&EM&&(f=EM[Bfe]),f?(s=`http://${f}?ns=${c.namespace}`,l=rD(s,i),c=l.repoInfo):l.repoInfo.secure;const h=new nue(t.name,t.options,e);mfe("Invalid Firebase Database URL",l),Ze(l.path)||bs("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Gfe(c,t,h,new tue(t,n));return new Kfe(p,t)}function Hfe(t,e){const n=Jx[e];(!n||n[t.key]!==t)&&bs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ife(t),delete n[t.key]}function Gfe(t,e,n,r){let i=Jx[e.name];i||(i={},Jx[e.name]=i);let s=i[t.toURLString()];return s&&bs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bfe(t,Ffe,n,r),i[t.toURLString()]=s,s}class Kfe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wfe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yo(this._repo,ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Hfe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bs("Cannot call "+e+" on a deleted database.")}}function Wfe(t=sT(),e){const n=Xy(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=_6("database");r&&Yfe(n,...r)}return n}function Yfe(t,e,n,r={}){t=Vt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Do(r,s.repoInfo_.emulatorOptions))return;bs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&bs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Sg(Sg.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:x6(r.mockUserToken,t.app.options.projectId);l=new Sg(c)}Ko(e)&&(tT(e),nT("Database",!0)),qfe(s,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qfe(t){zle(fu),Xl(new jo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return $fe(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ya(SM,TM,t),ya(SM,TM,"esm2020")}os.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};os.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Qfe();var iD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,S9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function P(){}P.prototype=k.prototype,N.F=k.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(B,M,F){for(var L=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)L[pe-2]=arguments[pe];return k.prototype[M].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,P){P||(P=0);const B=Array(16);if(typeof k=="string")for(var M=0;M<16;++M)B[M]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(M=0;M<16;++M)B[M]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=N.g[0],P=N.g[1],M=N.g[2];let F=N.g[3],L;L=k+(F^P&(M^F))+B[0]+3614090360&4294967295,k=P+(L<<7&4294967295|L>>>25),L=F+(M^k&(P^M))+B[1]+3905402710&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(P^F&(k^P))+B[2]+606105819&4294967295,M=F+(L<<17&4294967295|L>>>15),L=P+(k^M&(F^k))+B[3]+3250441966&4294967295,P=M+(L<<22&4294967295|L>>>10),L=k+(F^P&(M^F))+B[4]+4118548399&4294967295,k=P+(L<<7&4294967295|L>>>25),L=F+(M^k&(P^M))+B[5]+1200080426&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(P^F&(k^P))+B[6]+2821735955&4294967295,M=F+(L<<17&4294967295|L>>>15),L=P+(k^M&(F^k))+B[7]+4249261313&4294967295,P=M+(L<<22&4294967295|L>>>10),L=k+(F^P&(M^F))+B[8]+1770035416&4294967295,k=P+(L<<7&4294967295|L>>>25),L=F+(M^k&(P^M))+B[9]+2336552879&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(P^F&(k^P))+B[10]+4294925233&4294967295,M=F+(L<<17&4294967295|L>>>15),L=P+(k^M&(F^k))+B[11]+2304563134&4294967295,P=M+(L<<22&4294967295|L>>>10),L=k+(F^P&(M^F))+B[12]+1804603682&4294967295,k=P+(L<<7&4294967295|L>>>25),L=F+(M^k&(P^M))+B[13]+4254626195&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(P^F&(k^P))+B[14]+2792965006&4294967295,M=F+(L<<17&4294967295|L>>>15),L=P+(k^M&(F^k))+B[15]+1236535329&4294967295,P=M+(L<<22&4294967295|L>>>10),L=k+(M^F&(P^M))+B[1]+4129170786&4294967295,k=P+(L<<5&4294967295|L>>>27),L=F+(P^M&(k^P))+B[6]+3225465664&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^P&(F^k))+B[11]+643717713&4294967295,M=F+(L<<14&4294967295|L>>>18),L=P+(F^k&(M^F))+B[0]+3921069994&4294967295,P=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(P^M))+B[5]+3593408605&4294967295,k=P+(L<<5&4294967295|L>>>27),L=F+(P^M&(k^P))+B[10]+38016083&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^P&(F^k))+B[15]+3634488961&4294967295,M=F+(L<<14&4294967295|L>>>18),L=P+(F^k&(M^F))+B[4]+3889429448&4294967295,P=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(P^M))+B[9]+568446438&4294967295,k=P+(L<<5&4294967295|L>>>27),L=F+(P^M&(k^P))+B[14]+3275163606&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^P&(F^k))+B[3]+4107603335&4294967295,M=F+(L<<14&4294967295|L>>>18),L=P+(F^k&(M^F))+B[8]+1163531501&4294967295,P=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(P^M))+B[13]+2850285829&4294967295,k=P+(L<<5&4294967295|L>>>27),L=F+(P^M&(k^P))+B[2]+4243563512&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^P&(F^k))+B[7]+1735328473&4294967295,M=F+(L<<14&4294967295|L>>>18),L=P+(F^k&(M^F))+B[12]+2368359562&4294967295,P=M+(L<<20&4294967295|L>>>12),L=k+(P^M^F)+B[5]+4294588738&4294967295,k=P+(L<<4&4294967295|L>>>28),L=F+(k^P^M)+B[8]+2272392833&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^P)+B[11]+1839030562&4294967295,M=F+(L<<16&4294967295|L>>>16),L=P+(M^F^k)+B[14]+4259657740&4294967295,P=M+(L<<23&4294967295|L>>>9),L=k+(P^M^F)+B[1]+2763975236&4294967295,k=P+(L<<4&4294967295|L>>>28),L=F+(k^P^M)+B[4]+1272893353&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^P)+B[7]+4139469664&4294967295,M=F+(L<<16&4294967295|L>>>16),L=P+(M^F^k)+B[10]+3200236656&4294967295,P=M+(L<<23&4294967295|L>>>9),L=k+(P^M^F)+B[13]+681279174&4294967295,k=P+(L<<4&4294967295|L>>>28),L=F+(k^P^M)+B[0]+3936430074&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^P)+B[3]+3572445317&4294967295,M=F+(L<<16&4294967295|L>>>16),L=P+(M^F^k)+B[6]+76029189&4294967295,P=M+(L<<23&4294967295|L>>>9),L=k+(P^M^F)+B[9]+3654602809&4294967295,k=P+(L<<4&4294967295|L>>>28),L=F+(k^P^M)+B[12]+3873151461&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^P)+B[15]+530742520&4294967295,M=F+(L<<16&4294967295|L>>>16),L=P+(M^F^k)+B[2]+3299628645&4294967295,P=M+(L<<23&4294967295|L>>>9),L=k+(M^(P|~F))+B[0]+4096336452&4294967295,k=P+(L<<6&4294967295|L>>>26),L=F+(P^(k|~M))+B[7]+1126891415&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~P))+B[14]+2878612391&4294967295,M=F+(L<<15&4294967295|L>>>17),L=P+(F^(M|~k))+B[5]+4237533241&4294967295,P=M+(L<<21&4294967295|L>>>11),L=k+(M^(P|~F))+B[12]+1700485571&4294967295,k=P+(L<<6&4294967295|L>>>26),L=F+(P^(k|~M))+B[3]+2399980690&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~P))+B[10]+4293915773&4294967295,M=F+(L<<15&4294967295|L>>>17),L=P+(F^(M|~k))+B[1]+2240044497&4294967295,P=M+(L<<21&4294967295|L>>>11),L=k+(M^(P|~F))+B[8]+1873313359&4294967295,k=P+(L<<6&4294967295|L>>>26),L=F+(P^(k|~M))+B[15]+4264355552&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~P))+B[6]+2734768916&4294967295,M=F+(L<<15&4294967295|L>>>17),L=P+(F^(M|~k))+B[13]+1309151649&4294967295,P=M+(L<<21&4294967295|L>>>11),L=k+(M^(P|~F))+B[4]+4149444226&4294967295,k=P+(L<<6&4294967295|L>>>26),L=F+(P^(k|~M))+B[11]+3174756917&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~P))+B[2]+718787259&4294967295,M=F+(L<<15&4294967295|L>>>17),L=P+(F^(M|~k))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const P=k-this.blockSize,B=this.C;let M=this.h,F=0;for(;F<k;){if(M==0)for(;F<=P;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<k;)if(B[M++]=N.charCodeAt(F++),M==this.blockSize){i(this,B),M=0;break}}else for(;F<k;)if(B[M++]=N[F++],M==this.blockSize){i(this,B),M=0;break}}this.h=M,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,P=0;P<4;++P)for(let B=0;B<32;B+=8)N[k++]=this.g[P]>>>B&255;return N};function s(N,k){var P=c;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=k(N)}function l(N,k){this.h=k;const P=[];let B=!0;for(let M=N.length-1;M>=0;M--){const F=N[M]|0;B&&F==k||(P[M]=F,B=!1)}this.g=P}var c={};function f(N){return-128<=N&&N<128?s(N,function(k){return new l([k|0],k<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return m;if(N<0)return T(h(-N));const k=[];let P=1;for(let B=0;N>=P;B++)k[B]=N/P|0,P*=4294967296;return new l(k,0)}function p(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return T(p(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=h(Math.pow(k,8));let B=m;for(let F=0;F<N.length;F+=8){var M=Math.min(8,N.length-F);const L=parseInt(N.substring(F,F+M),k);M<8?(M=h(Math.pow(k,M)),B=B.j(M).add(h(L))):(B=B.j(P),B=B.add(h(L)))}return B}var m=f(0),y=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-T(this).m();let N=0,k=1;for(let P=0;P<this.g.length;P++){const B=this.i(P);N+=(B>=0?B:4294967296+B)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(E(this))return"-"+T(this).toString(N);const k=h(Math.pow(N,6));var P=this;let B="";for(;;){const M=U(P,k).g;P=O(P,M.j(k));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=M,w(P))return F+B;for(;F.length<6;)F="0"+F;B=F+B}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=O(this,N),E(N)?-1:w(N)?0:1};function T(N){const k=N.g.length,P=[];for(let B=0;B<k;B++)P[B]=~N.g[B];return new l(P,~N.h).add(y)}t.abs=function(){return E(this)?T(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),P=[];let B=0;for(let M=0;M<=k;M++){let F=B+(this.i(M)&65535)+(N.i(M)&65535),L=(F>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);B=L>>>16,F&=65535,L&=65535,P[M]=L<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function O(N,k){return N.add(T(k))}t.j=function(N){if(w(this)||w(N))return m;if(E(this))return E(N)?T(this).j(T(N)):T(T(this).j(N));if(E(N))return T(this.j(T(N)));if(this.l(b)<0&&N.l(b)<0)return h(this.m()*N.m());const k=this.g.length+N.g.length,P=[];for(var B=0;B<2*k;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(let M=0;M<N.g.length;M++){const F=this.i(B)>>>16,L=this.i(B)&65535,pe=N.i(M)>>>16,Se=N.i(M)&65535;P[2*B+2*M]+=L*Se,j(P,2*B+2*M),P[2*B+2*M+1]+=F*Se,j(P,2*B+2*M+1),P[2*B+2*M+1]+=L*pe,j(P,2*B+2*M+1),P[2*B+2*M+2]+=F*pe,j(P,2*B+2*M+2)}for(N=0;N<k;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=k;N<2*k;N++)P[N]=0;return new l(P,0)};function j(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function z(N,k){this.g=N,this.h=k}function U(N,k){if(w(k))throw Error("division by zero");if(w(N))return new z(m,m);if(E(N))return k=U(T(N),k),new z(T(k.g),T(k.h));if(E(k))return k=U(N,T(k)),new z(T(k.g),k.h);if(N.g.length>30){if(E(N)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var P=y,B=k;B.l(N)<=0;)P=q(P),B=q(B);var M=V(P,1),F=V(B,1);for(B=V(B,2),P=V(P,2);!w(B);){var L=F.add(B);L.l(N)<=0&&(M=M.add(P),F=L),B=V(B,1),P=V(P,1)}return k=O(N,M.j(k)),new z(M,k)}for(M=m;N.l(k)>=0;){for(P=Math.max(1,Math.floor(N.m()/k.m())),B=Math.ceil(Math.log(P)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),F=h(P),L=F.j(k);E(L)||L.l(N)>0;)P-=B,F=h(P),L=F.j(k);w(F)&&(F=y),M=M.add(F),N=O(N,L)}return new z(M,N)}t.B=function(N){return U(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let B=0;B<k;B++)P[B]=this.i(B)&N.i(B);return new l(P,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let B=0;B<k;B++)P[B]=this.i(B)|N.i(B);return new l(P,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let B=0;B<k;B++)P[B]=this.i(B)^N.i(B);return new l(P,this.h^N.h)};function q(N){const k=N.g.length+1,P=[];for(let B=0;B<k;B++)P[B]=N.i(B)<<1|N.i(B-1)>>>31;return new l(P,N.h)}function V(N,k){const P=k>>5;k%=32;const B=N.g.length-P,M=[];for(let F=0;F<B;F++)M[F]=k>0?N.i(F+P)>>>k|N.i(F+P+1)<<32-k:N.i(F+P);return new l(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S9=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Ro=l}).apply(typeof iD<"u"?iD:typeof self<"u"?self:typeof window<"u"?window:{});var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T9,Mh,A9,Ag,eE,C9,I9,O9;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ug=="object"&&ug];for(var x=0;x<g.length;++x){var I=g[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(g,x){if(x)e:{var I=r;g=g.split(".");for(var D=0;D<g.length-1;D++){var Q=g[D];if(!(Q in I))break e;I=I[Q]}g=g[g.length-1],D=I[g],x=x(D),x!=D&&x!=null&&e(I,g,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(x){var I=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&I.push([D,x[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function f(g,x,I){return g.call.apply(g.bind,arguments)}function h(g,x,I){return h=f,h.apply(null,arguments)}function p(g,x){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),g.apply(this,D)}}function m(g,x){function I(){}I.prototype=x.prototype,g.Z=x.prototype,g.prototype=new I,g.prototype.constructor=g,g.Ob=function(D,Q,ee){for(var ve=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ve[Be-2]=arguments[Be];return x.prototype[Q].apply(D,ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const x=g.length;if(x>0){const I=Array(x);for(let D=0;D<x;D++)I[D]=g[D];return I}return[]}function w(g,x){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var I=typeof Q;if(I=I!="object"?I:Q?Array.isArray(Q)?"array":I:"null",I=="array"||I=="object"&&typeof Q.length=="number"){I=g.length||0;const ee=Q.length||0;g.length=I+ee;for(let ve=0;ve<ee;ve++)g[I+ve]=Q[ve]}else g.push(Q)}}class E{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function T(g){l.setTimeout(()=>{throw g},0)}function O(){var g=N;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class j{constructor(){this.h=this.g=null}add(x,I){const D=z.get();D.set(x,I),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new E(()=>new U,g=>g.reset());class U{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,N=new j,k=()=>{const g=Promise.resolve(void 0);q=()=>{g.then(P)}};function P(){for(var g;g=O();){try{g.h.call(g.g)}catch(I){T(I)}var x=z;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}V=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const I=()=>{};l.addEventListener("test",I,x),l.removeEventListener("test",I,x)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function pe(g,x){M.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}m(pe,M),pe.prototype.init=function(g,x){const I=this.type=g.type,D=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(I=="mouseover"?x=g.fromElement:I=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(g,x,I,D,Q){this.listener=g,this.proxy=null,this.src=x,this.type=I,this.capture=!!D,this.ha=Q,this.key=++K,this.da=this.fa=!1}function de(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function me(g,x,I){for(const D in g)x.call(I,g[D],D,g)}function Re(g,x){for(const I in g)x.call(void 0,g[I],I,g)}function H(g){const x={};for(const I in g)x[I]=g[I];return x}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(g,x){let I,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(I in D)g[I]=D[I];for(let ee=0;ee<W.length;ee++)I=W[ee],Object.prototype.hasOwnProperty.call(D,I)&&(g[I]=D[I])}}function fe(g){this.src=g,this.g={},this.h=0}fe.prototype.add=function(g,x,I,D,Q){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const ve=Ie(g,x,D,Q);return ve>-1?(x=g[ve],I||(x.fa=!1)):(x=new re(x,this.src,ee,!!D,Q),x.fa=I,g.push(x)),x};function ye(g,x){const I=x.type;if(I in g.g){var D=g.g[I],Q=Array.prototype.indexOf.call(D,x,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(D,Q,1),ee&&(de(x),g.g[I].length==0&&(delete g.g[I],g.h--))}}function Ie(g,x,I,D){for(let Q=0;Q<g.length;++Q){const ee=g[Q];if(!ee.da&&ee.listener==x&&ee.capture==!!I&&ee.ha==D)return Q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),$e={};function se(g,x,I,D,Q){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)se(g,x[ee],I,D,Q);return null}return I=js(I),g&&g[Se]?g.J(x,I,c(D)?!!D.capture:!1,Q):Ce(g,x,I,!1,D,Q)}function Ce(g,x,I,D,Q,ee){if(!x)throw Error("Invalid event type");const ve=c(Q)?!!Q.capture:!!Q;let Be=Gt(g);if(Be||(g[Ae]=Be=new fe(g)),I=Be.add(x,I,D,ve,ee),I.proxy)return I;if(D=Le(),I.proxy=D,D.src=g,D.listener=I,g.addEventListener)F||(Q=ve),Q===void 0&&(Q=!1),g.addEventListener(x.toString(),D,Q);else if(g.attachEvent)g.attachEvent(Ge(x.toString()),D);else if(g.addListener&&g.removeListener)g.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Le(){function g(I){return x.call(g.src,g.listener,I)}const x=gn;return g}function he(g,x,I,D,Q){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)he(g,x[ee],I,D,Q);else D=c(D)?!!D.capture:!!D,I=js(I),g&&g[Se]?(g=g.i,ee=String(x).toString(),ee in g.g&&(x=g.g[ee],I=Ie(x,I,D,Q),I>-1&&(de(x[I]),Array.prototype.splice.call(x,I,1),x.length==0&&(delete g.g[ee],g.h--)))):g&&(g=Gt(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Ie(x,I,D,Q)),(I=g>-1?x[g]:null)&&zt(I))}function zt(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[Se])ye(x.i,g);else{var I=g.type,D=g.proxy;x.removeEventListener?x.removeEventListener(I,D,g.capture):x.detachEvent?x.detachEvent(Ge(I),D):x.addListener&&x.removeListener&&x.removeListener(D),(I=Gt(x))?(ye(I,g),I.h==0&&(I.src=null,x[Ae]=null)):de(g)}}}function Ge(g){return g in $e?$e[g]:$e[g]="on"+g}function gn(g,x){if(g.da)g=!0;else{x=new pe(x,this);const I=g.listener,D=g.ha||g.src;g.fa&&zt(g),g=I.call(D,x)}return g}function Gt(g){return g=g[Ae],g instanceof fe?g:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function js(g){return typeof g=="function"?g:(g[Rr]||(g[Rr]=function(x){return g.handleEvent(x)}),g[Rr])}function en(){B.call(this),this.i=new fe(this),this.M=this,this.G=null}m(en,B),en.prototype[Se]=!0,en.prototype.removeEventListener=function(g,x,I,D){he(this,g,x,I,D)};function vn(g,x){var I,D=g.G;if(D)for(I=[];D;D=D.G)I.push(D);if(g=g.M,D=x.type||x,typeof x=="string")x=new M(x,g);else if(x instanceof M)x.target=x.target||g;else{var Q=x;x=new M(D,g),ae(x,Q)}Q=!0;let ee,ve;if(I)for(ve=I.length-1;ve>=0;ve--)ee=x.g=I[ve],Q=Ls(ee,D,!0,x)&&Q;if(ee=x.g=g,Q=Ls(ee,D,!0,x)&&Q,Q=Ls(ee,D,!1,x)&&Q,I)for(ve=0;ve<I.length;ve++)ee=x.g=I[ve],Q=Ls(ee,D,!1,x)&&Q}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const I=g.g[x];for(let D=0;D<I.length;D++)de(I[D]);delete g.g[x],g.h--}}this.G=null},en.prototype.J=function(g,x,I,D){return this.i.add(String(g),x,!1,I,D)},en.prototype.K=function(g,x,I,D){return this.i.add(String(g),x,!0,I,D)};function Ls(g,x,I,D){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let ee=0;ee<x.length;++ee){const ve=x[ee];if(ve&&!ve.da&&ve.capture==I){const Be=ve.listener,Wt=ve.ha||ve.src;ve.fa&&ye(g.i,ve),Q=Be.call(Wt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function T0(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(g,x||0)}function hp(g){g.g=T0(()=>{g.g=null,g.i&&(g.i=!1,hp(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class or extends B{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:hp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(g){B.call(this),this.h=g,this.g={}}m(Zo,B);var df=[];function pf(g){me(g.g,function(x,I){this.g.hasOwnProperty(I)&&zt(x)},g),g.g={}}Zo.prototype.N=function(){Zo.Z.N.call(this),pf(this)},Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=l.JSON.stringify,A0=l.JSON.parse,dp=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function pp(){}function mp(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vn(){M.call(this,"d")}m(Vn,M);function Qr(){M.call(this,"c")}m(Qr,M);var Kt={},gp=null;function mu(){return gp=gp||new en}Kt.Ia="serverreachability";function vp(g){M.call(this,Kt.Ia,g)}m(vp,M);function Gi(g){const x=mu();vn(x,new vp(x))}Kt.STAT_EVENT="statevent";function Jo(g,x){M.call(this,Kt.STAT_EVENT,g),this.stat=x}m(Jo,M);function tn(g){const x=mu();vn(x,new Jo(x,g))}Kt.Ja="timingevent";function Ki(g,x){M.call(this,Kt.Ja,g),this.size=x}m(Ki,M);function Wi(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},x)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function C0(g,x,I,D,Q,ee){g.info(function(){if(g.g)if(ee){var ve="",Be=ee.split("&");for(let lt=0;lt<Be.length;lt++){var Wt=Be[lt].split("=");if(Wt.length>1){const Mt=Wt[0];Wt=Wt[1];const ei=Mt.split("_");ve=ei.length>=2&&ei[1]=="type"?ve+(Mt+"="+Wt+"&"):ve+(Mt+"=redacted&")}}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+x+`
`+I+`
`+ve})}function yp(g,x,I,D,Q,ee,ve){g.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+x+`
`+I+`
`+ee+" "+ve})}function Yi(g,x,I,D){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+I0(g,I)+(D?" "+D:"")})}function el(g,x){g.info(function(){return"TIMEOUT: "+x})}_i.prototype.info=function(){};function I0(g,x){if(!g.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var I=ee[g];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return Vs(ee)}catch{return x}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gf;function nl(){}m(nl,pp),nl.prototype.g=function(){return new XMLHttpRequest},gf=new nl;function Na(g){return encodeURIComponent(String(g))}function _p(g){var x=1;g=g.split(":");const I=[];for(;x>0&&g.length;)I.push(g.shift()),x--;return g.length&&I.push(g.join(":")),I}function bi(g,x,I,D){this.j=g,this.i=x,this.l=I,this.S=D||1,this.V=new Zo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var nn={},An={};function Qi(g,x,I){g.M=1,g.A=rl(an(x)),g.u=I,g.R=!0,gu(g,null)}function gu(g,x){g.F=Date.now(),Xi(g),g.B=an(g.A);var I=g.B,D=g.S;Array.isArray(D)||(D=[String(D)]),bu(I.i,"t",D),g.C=0,I=g.j.L,g.h=new wi,g.g=Mp(g.j,I?x:null,!g.u),g.P>0&&(g.O=new or(h(g.Y,g,g.g),g.P)),x=g.V,I=g.g,D=g.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(df[0]=Q.toString()),Q=df);for(let ee=0;ee<Q.length;ee++){const ve=se(I,Q[ee],D||x.handleEvent,!1,x.h||x);if(!ve)break;x.g[ve.key]=ve}x=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),Gi(),C0(g.i,g.v,g.B,g.l,g.S,g.u)}bi.prototype.ba=function(g){g=g.target;const x=this.O;x&&Si(g)==3?x.j():this.Y(g)},bi.prototype.Y=function(g){try{if(g==this.g)e:{const Be=Si(this.g),Wt=this.g.ya(),lt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||zn(this.g)))){this.K||Be!=4||Wt==7||(Wt==8||lt<=0?Gi(3):Gi(2)),Zi(this);var x=this.g.ca();this.X=x;var I=O0(this);if(this.o=x==200,yp(this.i,this.v,this.B,this.l,this.S,Be,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(D)){var ee=D;break t}}ee=null}if(g=ee)Yi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,g);else{this.o=!1,this.m=3,tn(12),kr(this),Xr(this);break e}}if(this.R){g=!0;let Mt;for(;!this.K&&this.C<I.length;)if(Mt=wp(this,I),Mt==An){Be==4&&(this.m=4,tn(14),g=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==nn){this.m=4,tn(15),Yi(this.i,this.l,I,"[Invalid Chunk]"),g=!1;break}else Yi(this.i,this.l,Mt,null),Ji(this,Mt);if(bp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||I.length!=0||this.h.h||(this.m=1,tn(16),g=!1),this.o=this.o&&g,!g)Yi(this.i,this.l,I,"[Invalid Chunked Response]"),kr(this),Xr(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Rf(ve),ve.P=!0,tn(11))}}else Yi(this.i,this.l,I,null),Ji(this,I);Be==4&&kr(this),this.o&&!this.K&&(Be==4?Np(this.j,this):(this.o=!1,Xi(this)))}else ka(this.g),x==400&&I.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),kr(this),Xr(this)}}}catch{}finally{}};function O0(g){if(!bp(g))return g.g.la();const x=zn(g.g);if(x==="")return"";let I="";const D=x.length,Q=Si(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return kr(g),Xr(g),"";g.h.i=new l.TextDecoder}for(let ee=0;ee<D;ee++)g.h.h=!0,I+=g.h.i.decode(x[ee],{stream:!(Q&&ee==D-1)});return x.length=0,g.h.g+=I,g.C=0,g.h.g}function bp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function wp(g,x){var I=g.C,D=x.indexOf(`
`,I);return D==-1?An:(I=Number(x.substring(I,D)),isNaN(I)?nn:(D+=1,D+I>x.length?An:(x=x.slice(D,D+I),g.C=D+I,x)))}bi.prototype.cancel=function(){this.K=!0,kr(this)};function Xi(g){g.T=Date.now()+g.H,vu(g,g.H)}function vu(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Wi(h(g.aa,g),x)}function Zi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}bi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(el(this.i,this.B),this.M!=2&&(Gi(),tn(17)),kr(this),this.m=2,Xr(this)):vu(this,this.T-g)};function Xr(g){g.j.I==0||g.K||Np(g.j,g)}function kr(g){Zi(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,pf(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function Ji(g,x){try{var I=g.j;if(I.I!=0&&(I.g==g||ta(I.h,g))){if(!g.L&&ta(I.h,g)&&I.I==3){try{var D=I.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<g.F)Tu(I),Gs(I);else break e;cl(I),tn(18)}}else I.xa=Q[1],0<I.xa-I.K&&Q[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Wi(h(I.Va,I),6e3));ea(I.h)<=1&&I.ta&&(I.ta=void 0)}else oa(I,11)}else if((g.L||I.g==g)&&Tu(I),!L(x))for(Q=I.Ba.g.parse(x),x=0;x<Q.length;x++){let lt=Q[x];const Mt=lt[0];if(!(Mt<=I.K))if(I.K=Mt,lt=lt[1],I.I==2)if(lt[0]=="c"){I.M=lt[1],I.ba=lt[2];const ei=lt[3];ei!=null&&(I.ka=ei,I.j.info("VER="+I.ka));const la=lt[4];la!=null&&(I.za=la,I.j.info("SVER="+I.za));const Ti=lt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(D=1.5*Ti,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const Ai=g.g;if(Ai){const fl=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var ee=D.h;ee.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(_f(ee,ee.h),ee.h=null))}if(D.G){const Au=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(D.wa=Au,ht(D.J,D.G,Au))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-g.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var ve=g;if(D.na=Pp(D,D.L?D.ba:null,D.W),ve.L){bf(D.h,ve);var Be=ve,Wt=D.O;Wt&&(Be.H=Wt),Be.D&&(Zi(Be),Xi(Be)),D.g=ve}else Ip(D);I.i.length>0&&sa(I)}else lt[0]!="stop"&&lt[0]!="close"||oa(I,7);else I.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?oa(I,7):Of(I):lt[0]!="noop"&&I.l&&I.l.qa(lt),I.A=0)}}Gi(4)}catch{}}var rn=class{constructor(g,x){this.g=g,this.map=x}};function vf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ea(g){return g.h?1:g.g?g.g.size:0}function ta(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function _f(g,x){g.g?g.g.add(x):g.h=x}function bf(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}vf.prototype.cancel=function(){if(this.i=wf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function wf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const I of g.g.values())x=x.concat(I.G);return x}return b(g.i)}var xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yu(g,x){if(g){g=g.split("&");for(let I=0;I<g.length;I++){const D=g[I].indexOf("=");let Q,ee=null;D>=0?(Q=g[I].substring(0,D),ee=g[I].substring(D+1)):Q=g[I],x(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Pr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof Pr?(this.l=g.l,Cn(this,g.j),this.o=g.o,this.g=g.g,zs(this,g.u),this.h=g.h,xf(this,Ap(g.i)),this.m=g.m):g&&(x=String(g).match(xp))?(this.l=!1,Cn(this,x[1]||"",!0),this.o=na(x[2]||""),this.g=na(x[3]||"",!0),zs(this,x[4]),this.h=na(x[5]||"",!0),xf(this,x[6]||"",!0),this.m=na(x[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Pr.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(il(x,_u,!0),":");var I=this.g;return(I||x=="file")&&(g.push("//"),(x=this.o)&&g.push(il(x,_u,!0),"@"),g.push(Na(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&g.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&g.push("/"),g.push(il(I,I.charAt(0)=="/"?Ef:Ep,!0))),(I=this.i.toString())&&g.push("?",I),(I=this.m)&&g.push("#",il(I,Sp)),g.join("")},Pr.prototype.resolve=function(g){const x=an(this);let I=!!g.j;I?Cn(x,g.j):I=!!g.o,I?x.o=g.o:I=!!g.g,I?x.g=g.g:I=g.u!=null;var D=g.h;if(I)zs(x,g.u);else if(I=!!g.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(D=x.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let ve=0;ve<Q.length;){const Be=Q[ve++];Be=="."?D&&ve==Q.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&ve==Q.length&&ee.push("")):(ee.push(Be),D=!0)}D=ee.join("/")}else D=Q}return I?x.h=D:I=g.i.toString()!=="",I?xf(x,Ap(g.i)):I=!!g.m,I&&(x.m=g.m),x};function an(g){return new Pr(g)}function Cn(g,x,I){g.j=I?na(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function zs(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function xf(g,x,I){x instanceof Bs?(g.i=x,wu(g.i,g.l)):(I||(x=il(x,Us)),g.i=new Bs(x,g.l))}function ht(g,x,I){g.i.set(x,I)}function rl(g){return ht(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function na(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function il(g,x,I){return typeof g=="string"?(g=encodeURI(g).replace(x,mr),I&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function mr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var _u=/[#\/\?@]/g,Ep=/[#\?:]/g,Ef=/[#\?]/g,Us=/[#\?@]/g,Sp=/#/g;function Bs(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function gr(g){g.g||(g.g=new Map,g.h=0,g.i&&yu(g.i,function(x,I){g.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}t=Bs.prototype,t.add=function(g,x){gr(this),this.i=null,g=Fs(this,g);let I=this.g.get(g);return I||this.g.set(g,I=[]),I.push(x),this.h+=1,this};function Tp(g,x){gr(g),x=Fs(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function Sf(g,x){return gr(g),x=Fs(g,x),g.g.has(x)}t.forEach=function(g,x){gr(this),this.g.forEach(function(I,D){I.forEach(function(Q){g.call(x,Q,D,this)},this)},this)};function Tf(g,x){gr(g);let I=[];if(typeof x=="string")Sf(g,x)&&(I=I.concat(g.g.get(Fs(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)I=I.concat(g[x]);return I}t.set=function(g,x){return gr(this),this.i=null,g=Fs(this,g),Sf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},t.get=function(g,x){return g?(g=Tf(this,g),g.length>0?String(g[0]):x):x};function bu(g,x,I){Tp(g,x),I.length>0&&(g.i=null,g.g.set(Fs(g,x),b(I)),g.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var I=x[D];const Q=Na(I);I=Tf(this,I);for(let ee=0;ee<I.length;ee++){let ve=Q;I[ee]!==""&&(ve+="="+Na(I[ee])),g.push(ve)}}return this.i=g.join("&")};function Ap(g){const x=new Bs;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function Fs(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function wu(g,x){x&&!g.j&&(gr(g),g.i=null,g.g.forEach(function(I,D){const Q=D.toLowerCase();D!=Q&&(Tp(this,D),bu(this,Q,I))},g)),g.j=x}function xi(g,x){const I=new _i;if(l.Image){const D=new Image;D.onload=p(Zr,I,"TestLoadImage: loaded",!0,x,D),D.onerror=p(Zr,I,"TestLoadImage: error",!1,x,D),D.onabort=p(Zr,I,"TestLoadImage: abort",!1,x,D),D.ontimeout=p(Zr,I,"TestLoadImage: timeout",!1,x,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=g}else x(!1)}function Af(g,x){const I=new _i,D=new AbortController,Q=setTimeout(()=>{D.abort(),Zr(I,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:D.signal}).then(ee=>{clearTimeout(Q),ee.ok?Zr(I,"TestPingServer: ok",!0,x):Zr(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Zr(I,"TestPingServer: error",!1,x)})}function Zr(g,x,I,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(I)}catch{}}function qs(){this.g=new dp}function ra(g){this.i=g.Sb||null,this.h=g.ab||!1}m(ra,pp),ra.prototype.g=function(){return new al(this.i,this.h)};function al(g,x){en.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(al,en),t=al.prototype,t.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,Ei(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function xu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?$s(this):Ei(this),this.readyState==3&&xu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,$s(this))},t.Na=function(g){this.g&&(this.response=g,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ei(g)}t.setRequestHeader=function(g,x){this.A.append(g,x)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,g.push(I[0]+": "+I[1]),I=x.next();return g.join(`\r
`)};function Ei(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Jr(g){let x="";return me(g,function(I,D){x+=D,x+=":",x+=I,x+=`\r
`}),x}function sl(g,x,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Jr(I),typeof g=="string"?I!=null&&Na(I):ht(g,x,I))}function vt(g){en.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(vt,en);var ia=/^https?$/i,Cf=["POST","PUT"];t=vt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,x,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(ee){ol(this,ee);return}if(g=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)I.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())I.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Cf,x,void 0)>=0)||D||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of I)this.g.setRequestHeader(ee,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){ol(this,ee)}};function ol(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,If(g),Ra(g)}function If(g){g.A||(g.A=!0,vn(g,"complete"),vn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,vn(this,"complete"),vn(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(g){if(g.h&&typeof s<"u"){if(g.v&&Si(g)==4)setTimeout(g.Ca.bind(g),0);else if(vn(g,"readystatechange"),Si(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var D;if(D=ee===0){let ve=String(g.D).match(xp)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),D=!ia.test(ve?ve.toLowerCase():"")}I=D}if(I)vn(g,"complete"),vn(g,"success");else{g.o=6;try{var Q=Si(g)>2?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.ca()+"]",If(g)}}finally{Ra(g)}}}}function Ra(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const I=g.g;g.g=null,x||vn(g,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),A0(x)}};function zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ka(g){const x={};g=(g.g&&Si(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<g.length;D++){if(L(g[D]))continue;var I=_p(g[D]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=x[Q]||[];x[Q]=ee,ee.push(I)}Re(x,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(g,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[g]||x}function Hs(g){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,g),this.Za=aa("retryDelaySeedMs",1e4,g),this.Ta=aa("forwardChannelMaxRetries",2,g),this.va=aa("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new vf(g&&g.concurrentRequestLimit),this.Ba=new qs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Hs.prototype,t.ka=8,t.I=1,t.connect=function(g,x,I,D){tn(0),this.W=g,this.H=x||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=Pp(this,null,this.W),sa(this)};function Of(g){if(Eu(g),g.I==3){var x=g.V++,I=an(g.J);if(ht(I,"SID",g.M),ht(I,"RID",x),ht(I,"TYPE","terminate"),ul(g,I),x=new bi(g,g.j,x),x.M=2,x.A=rl(an(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=x.A,I=!0),I||(x.g=Mp(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Xi(x)}kp(g)}function Gs(g){g.g&&(Rf(g),g.g.cancel(),g.g=null)}function Eu(g){Gs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Tu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function sa(g){if(!yf(g.h)&&!g.m){g.m=!0;var x=g.Ea;q||k(),V||(q(),V=!0),N.add(x,g),g.D=0}}function Su(g,x){return ea(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Wi(h(g.Ea,g,x),Rp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Q=new bi(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=H(ee),ae(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=Cp(this,Q,x),I=an(this.J),ht(I,"RID",g),ht(I,"CVER",22),this.G&&ht(I,"X-HTTP-Session-Id",this.G),ul(this,I),ee&&(this.R?x="headers="+Na(Jr(ee))+"&"+x:this.u&&sl(I,this.u,ee)),_f(this.h,Q),this.Ra&&ht(I,"TYPE","init"),this.S?(ht(I,"$req",x),ht(I,"SID","null"),Q.U=!0,Qi(Q,I,null)):Qi(Q,I,x),this.I=2}}else this.I==3&&(g?Nf(this,g):this.i.length==0||yf(this.h)||Nf(this))};function Nf(g,x){var I;x?I=x.l:I=g.V++;const D=an(g.J);ht(D,"SID",g.M),ht(D,"RID",I),ht(D,"AID",g.K),ul(g,D),g.u&&g.o&&sl(D,g.u,g.o),I=new bi(g,g.j,I,g.D+1),g.u===null&&(I.J=g.o),x&&(g.i=x.G.concat(g.i)),x=Cp(g,I,1e3),I.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),_f(g.h,I),Qi(I,D,x)}function ul(g,x){g.H&&me(g.H,function(I,D){ht(x,D,I)}),g.l&&me({},function(I,D){ht(x,D,I)})}function Cp(g,x,I){I=Math.min(g.i.length,I);const D=g.l?h(g.l.Ka,g.l,g):null;e:{var Q=g.i;let Be=-1;for(;;){const Wt=["count="+I];Be==-1?I>0?(Be=Q[0].g,Wt.push("ofs="+Be)):Be=0:Wt.push("ofs="+Be);let lt=!0;for(let Mt=0;Mt<I;Mt++){var ee=Q[Mt].g;const ei=Q[Mt].map;if(ee-=Be,ee<0)Be=Math.max(0,Q[Mt].g-100),lt=!1;else try{ee="req"+ee+"_"||"";try{var ve=ei instanceof Map?ei:Object.entries(ei);for(const[la,Ti]of ve){let Ai=Ti;c(Ti)&&(Ai=Vs(Ti)),Wt.push(ee+la+"="+encodeURIComponent(Ai))}}catch(la){throw Wt.push(ee+"type="+encodeURIComponent("_badmap")),la}}catch{D&&D(ei)}}if(lt){ve=Wt.join("&");break e}}ve=void 0}return g=g.i.splice(0,I),x.G=g,ve}function Ip(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;q||k(),V||(q(),V=!0),N.add(x,g),g.A=0}}function cl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Wi(h(g.Da,g),Rp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Op(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Wi(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),Gs(this),Op(this))};function Rf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Op(g){g.g=new bi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=an(g.na);ht(x,"RID","rpc"),ht(x,"SID",g.M),ht(x,"AID",g.K),ht(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&ht(x,"TO",g.ia),ht(x,"TYPE","xmlhttp"),ul(g,x),g.u&&g.o&&sl(x,g.u,g.o),g.O&&(g.g.H=g.O);var I=g.g;g=g.ba,I.M=1,I.A=rl(an(x)),I.u=null,I.R=!0,gu(I,g)}t.Va=function(){this.C!=null&&(this.C=null,Gs(this),cl(this),tn(19))};function Tu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Np(g,x){var I=null;if(g.g==x){Tu(g),Rf(g),g.g=null;var D=2}else if(ta(g.h,x))I=x.G,bf(g.h,x),D=1;else return;if(g.I!=0){if(x.o)if(D==1){I=x.u?x.u.length:0,x=Date.now()-x.F;var Q=g.D;D=mu(),vn(D,new Ki(D,I)),sa(g)}else Ip(g);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(D==1&&Su(g,x)||D==2&&cl(g)))switch(I&&I.length>0&&(x=g.h,x.i=x.i.concat(I)),Q){case 1:oa(g,5);break;case 4:oa(g,10);break;case 3:oa(g,6);break;default:oa(g,2)}}}function Rp(g,x){let I=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(I*=2),I*x}function oa(g,x){if(g.j.info("Error code "+x),x==2){var I=h(g.bb,g),D=g.Ua;const Q=!D;D=new Pr(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cn(D,"https"),rl(D),Q?xi(D.toString(),I):Af(D.toString(),I)}else tn(2);g.I=0,g.l&&g.l.pa(x),kp(g),Eu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function kp(g){if(g.I=0,g.ja=[],g.l){const x=wf(g.h);(x.length!=0||g.i.length!=0)&&(w(g.ja,x),w(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Pp(g,x,I){var D=I instanceof Pr?an(I):new Pr(I);if(D.g!="")x&&(D.g=x+"."+D.g),zs(D,D.u);else{var Q=l.location;D=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new Pr(null);D&&Cn(ee,D),x&&(ee.g=x),Q&&zs(ee,Q),I&&(ee.h=I),D=ee}return I=g.G,x=g.wa,I&&x&&ht(D,I,x),ht(D,"VER",g.ka),ul(g,D),D}function Mp(g,x,I){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new vt(new ra({ab:I})):new vt(g.ma),x.Fa(g.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dp(){}t=Dp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ks(){}Ks.prototype.g=function(g,x){return new lr(g,x)};function lr(g,x){en.call(this),this.g=new Hs(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!L(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!L(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Pa(this)}m(lr,en),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){Of(this.g)},lr.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var I={};I.__data__=g,g=I}else this.v&&(I={},I.__data__=Vs(g),g=I);x.i.push(new rn(x.Ya++,g)),x.I==3&&sa(x)},lr.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,lr.Z.N.call(this)};function jp(g){Vn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const I in x){g=I;break e}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}m(jp,Vn);function Lp(){Qr.call(this),this.status=1}m(Lp,Qr);function Pa(g){this.g=g}m(Pa,Dp),Pa.prototype.ra=function(){vn(this.g,"a")},Pa.prototype.qa=function(g){vn(this.g,new jp(g))},Pa.prototype.pa=function(g){vn(this.g,new Lp)},Pa.prototype.oa=function(){vn(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,O9=function(){return new Ks},I9=function(){return mu()},C9=Kt,eE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,Ag=tl,mf.COMPLETE="complete",A9=mf,mp.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",en.prototype.listen=en.prototype.J,Mh=mp,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,T9=vt}).apply(typeof ug<"u"?ug:typeof self<"u"?self:typeof window<"u"?window:{});const aD="@firebase/firestore",sD="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Qy("@firebase/firestore");function lc(){return iu.logLevel}function _e(t,...e){if(iu.logLevel<=Xe.DEBUG){const n=e.map(WT);iu.debug(`Firestore (${lf}): ${t}`,...n)}}function xs(t,...e){if(iu.logLevel<=Xe.ERROR){const n=e.map(WT);iu.error(`Firestore (${lf}): ${t}`,...n)}}function zc(t,...e){if(iu.logLevel<=Xe.WARN){const n=e.map(WT);iu.warn(`Firestore (${lf}): ${t}`,...n)}}function WT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,N9(t,r,n)}function N9(t,e,n){let r=`FIRESTORE (${lf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xs(r),new Error(r)}function ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||N9(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nr.UNAUTHENTICATED)))}shutdown(){}}class Zfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Jfe{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fl)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new R9(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class ehe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class the{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ehe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nhe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function tE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Sw(i)===Sw(s)?tt(i,s):Sw(i)?1:-1}return tt(t.length,e.length)}const ihe=55296,ahe=57343;function Sw(t){const e=t.charCodeAt(0);return e>=ihe&&e<=ahe}function Uc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__name__";class pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return tt(e.length,n.length)}static compareSegments(e,n){const r=pa.isNumericId(e),i=pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pa.extractNumericId(e).compare(pa.extractNumericId(n)):tE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}}class Ct extends pa{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const she=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends pa{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return she.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lD}static keyField(){return new Yn([lD])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ct.fromString(e))}static fromName(e){return new Ne(Ct.fromString(e).popFirst(5))}static empty(){return new Ne(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ohe(t,e,n,r){if(e===!0&&r===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uD(t){if(!Ne.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cD(t){if(Ne.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function P9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function u0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=u0(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ap(t,e){if(!P9(t))throw new be(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=-62135596800,hD=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hD);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fD)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hD}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ap(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:dn("string",kt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new kt(0,0))}static max(){return new Ve(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function lhe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new zo(i,Ne.empty(),e)}function uhe(t){return new zo(t.readTime,t.key,wd)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(Ve.min(),Ne.empty(),wd)}static max(){return new zo(Ve.max(),Ne.empty(),wd)}}function che(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==fhe)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((i=>i?ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ce(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function dhe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}c0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=-1;function f0(t){return t==null}function Yv(t){return t===0&&1/t==-1/0}function phe(t){return typeof t=="number"&&Number.isInteger(t)&&!Yv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="";function mhe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dD(e)),e=ghe(t.get(n),e);return dD(e)}function ghe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case M9:n+="";break;default:n+=s}}return n}function dD(t){return t+M9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cg(this.root,e,this.comparator,!0)}}class cg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kn.RED,this.left=i??Kn.EMPTY,this.right=s??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mD(this.data.getIterator())}getIteratorFrom(e){return new mD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class mD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new wn(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j9("Invalid base64 string: "+s):s}})(e);return new Zn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const vhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=vhe.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="server_timestamp",V9="__type__",z9="__previous_value__",U9="__local_write_time__";function XT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[V9])==null?void 0:r.stringValue)===L9}function h0(t){const e=t.mapValue.fields[z9];return XT(e)?h0(e):e}function xd(t){const e=Uo(t.mapValue.fields[U9].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e,n,r,i,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Qv="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||Qv}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Qv}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="__type__",_he="__max__",fg={mapValue:{}},F9="__vector__",Xv="value";function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?XT(t)?4:whe(t)?9007199254740991:bhe(t)?10:11:De(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Uo(i.timestampValue),c=Uo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Bo(i.bytesValue).isEqual(Bo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Zt(i.doubleValue),c=Zt(s.doubleValue);return l===c?Yv(l)===Yv(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(pD(l)!==pD(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ia(l[f],c[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function Bc(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Zt(s.integerValue||s.doubleValue),f=Zt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return gD(t.timestampValue,e.timestampValue);case 4:return gD(xd(t),xd(e));case 5:return tE(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Bo(s),f=Bo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=tt(c[h],f[h]);if(p!==0)return p}return tt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=tt(Zt(s.latitude),Zt(l.latitude));return c!==0?c:tt(Zt(s.longitude),Zt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vD(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var y,b,w,E;const c=s.fields||{},f=l.fields||{},h=(y=c[Xv])==null?void 0:y.arrayValue,p=(b=f[Xv])==null?void 0:b.arrayValue,m=tt(((w=h==null?void 0:h.values)==null?void 0:w.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return m!==0?m:vD(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===fg.mapValue&&l===fg.mapValue)return 0;if(s===fg.mapValue)return 1;if(l===fg.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const y=tE(f[m],p[m]);if(y!==0)return y;const b=Bc(c[f[m]],h[p[m]]);if(b!==0)return b}return tt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function gD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Uo(t),r=Uo(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function vD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bc(n[i],r[i]);if(s)return s}return tt(n.length,r.length)}function Fc(t){return nE(t)}function nE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nE(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${nE(n.fields[l])}`;return i+"}"})(t.mapValue):De(61005,{value:t})}function Cg(t){switch(Fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=h0(t);return e?16+Cg(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Cg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Qo(r.fields,((s,l)=>{i+=s.length+Cg(l)})),i})(t.mapValue);default:throw De(13486,{value:t})}}function yD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rE(t){return!!t&&"integerValue"in t}function ZT(t){return!!t&&"arrayValue"in t}function _D(t){return!!t&&"nullValue"in t}function bD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ig(t){return!!t&&"mapValue"in t}function bhe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[B9])==null?void 0:r.stringValue)===F9}function Gh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gh(t.arrayValue.values[n]);return e}return{...t}}function whe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_he}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ig(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(n)}setAll(e){let n=Yn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Gh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ig(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ig(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Er(Gh(this.value))}}function q9(t){const e=[];return Qo(t.fields,((n,r)=>{const i=new Yn([n]);if(Ig(r)){const s=q9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,Ve.min(),Ve.min(),Ve.min(),Er.empty(),0)}static newFoundDocument(e,n,r,i){return new ar(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new ar(e,2,n,Ve.min(),Ve.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new ar(e,3,n,Ve.min(),Ve.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.position=e,this.inclusive=n}}function wD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ne.comparator(Ne.fromName(l.referenceValue),n.key):r=Bc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n="asc"){this.field=e,this.dir=n}}function xhe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{}class hn extends $9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new She(e,n,r):n==="array-contains"?new Che(e,r):n==="in"?new Ihe(e,r):n==="not-in"?new Ohe(e,r):n==="array-contains-any"?new Nhe(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new The(e,r):new Ahe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bc(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(Bc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends $9{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $i(e,n)}matches(e){return H9(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H9(t){return t.op==="and"}function G9(t){return Ehe(t)&&H9(t)}function Ehe(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function iE(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+Fc(t.value);if(G9(t))return t.filters.map((e=>iE(e))).join(",");{const e=t.filters.map((n=>iE(n))).join(",");return`${t.op}(${e})`}}function K9(t,e){return t instanceof hn?(function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof $i?(function(r,i){return i instanceof $i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&K9(l,i.filters[c])),!0):!1})(t,e):void De(19439)}function W9(t){return t instanceof hn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fc(n.value)}`})(t):t instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(W9).join(" ,")+"}"})(t):"Filter"}class She extends hn{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class The extends hn{constructor(e,n){super(e,"in",n),this.keys=Y9("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ahe extends hn{constructor(e,n){super(e,"not-in",n),this.keys=Y9("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Y9(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ne.fromName(r.referenceValue)))}class Che extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ZT(n)&&Sd(n.arrayValue,this.value)}}class Ihe extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class Ohe extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class Nhe extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ZT(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function ED(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Rhe(t,e,n,r,i,s,l)}function JT(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>iE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),f0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fc(r))).join(",")),e.Te=n}return e.Te}function eA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xhe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xD(t.startAt,e.startAt)&&xD(t.endAt,e.endAt)}function aE(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function khe(t,e,n,r,i,s,l,c){return new sp(t,e,n,r,i,s,l,c)}function tA(t){return new sp(t)}function SD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Q9(t){return t.collectionGroup!==null}function Kh(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(Yn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Jv(s,r))})),n.has(Yn.keyField().canonicalString())||e.Ie.push(new Jv(Yn.keyField(),r))}return e.Ie}function wa(t){const e=Ue(t);return e.Ee||(e.Ee=Phe(e,Kh(t))),e.Ee}function Phe(t,e){if(t.limitType==="F")return ED(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Jv(i.field,s)}));const n=t.endAt?new Zv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zv(t.startAt.position,t.startAt.inclusive):null;return ED(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sE(t,e){const n=t.filters.concat([e]);return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oE(t,e,n){return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function d0(t,e){return eA(wa(t),wa(e))&&t.limitType===e.limitType}function X9(t){return`${JT(wa(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>W9(i))).join(", ")}]`),f0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Fc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Fc(i))).join(",")),`Target(${r})`})(wa(t))}; limitType=${t.limitType})`}function p0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Kh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=wD(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,Kh(r),i)||r.endAt&&!(function(l,c,f){const h=wD(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,Kh(r),i))})(t,e)}function Mhe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z9(t){return(e,n)=>{let r=!1;for(const i of Kh(t)){const s=Dhe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Dhe(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),h=c.data.field(s);return f!==null&&h!==null?Bc(f,h):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return D9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe=new Bt(Ne.comparator);function Es(){return jhe}const J9=new Bt(Ne.comparator);function Dh(...t){let e=J9;for(const n of t)e=e.insert(n.key,n);return e}function ez(t){let e=J9;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Vl(){return Wh()}function tz(){return Wh()}function Wh(){return new du((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Lhe=new Bt(Ne.comparator),Vhe=new wn(Ne.comparator);function nt(...t){let e=Vhe;for(const n of t)e=e.add(n);return e}const zhe=new wn(tt);function Uhe(){return zhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yv(e)?"-0":e}}function nz(t){return{integerValue:""+t}}function Bhe(t,e){return phe(e)?nz(e):nA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this._=void 0}}function Fhe(t,e,n){return t instanceof ey?(function(i,s){const l={fields:{[V9]:{stringValue:L9},[U9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&XT(s)&&(s=h0(s)),s&&(l.fields[z9]=s),{mapValue:l}})(n,e):t instanceof Td?iz(t,e):t instanceof Ad?az(t,e):(function(i,s){const l=rz(i,s),c=TD(l)+TD(i.Ae);return rE(l)&&rE(i.Ae)?nz(c):nA(i.serializer,c)})(t,e)}function qhe(t,e,n){return t instanceof Td?iz(t,e):t instanceof Ad?az(t,e):n}function rz(t,e){return t instanceof ty?(function(r){return rE(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class ey extends m0{}class Td extends m0{constructor(e){super(),this.elements=e}}function iz(t,e){const n=sz(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ad extends m0{constructor(e){super(),this.elements=e}}function az(t,e){let n=sz(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class ty extends m0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TD(t){return Zt(t.integerValue||t.doubleValue)}function sz(t){return ZT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $he(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Td&&i instanceof Td||r instanceof Ad&&i instanceof Ad?Uc(r.elements,i.elements,Ia):r instanceof ty&&i instanceof ty?Ia(r.Ae,i.Ae):r instanceof ey&&i instanceof ey})(t.transform,e.transform)}class Hhe{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class g0{}function oz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rA(t.key,zi.none()):new op(t.key,t.data,zi.none());{const n=t.data,r=Er.empty();let i=new wn(Yn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Xo(t.key,r,new Gr(i.toArray()),zi.none())}}function Ghe(t,e,n){t instanceof op?(function(i,s,l){const c=i.value.clone(),f=CD(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Xo?(function(i,s,l){if(!Og(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=CD(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(lz(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Yh(t,e,n,r){return t instanceof op?(function(s,l,c,f){if(!Og(s.precondition,l))return c;const h=s.value.clone(),p=ID(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Xo?(function(s,l,c,f){if(!Og(s.precondition,l))return c;const h=ID(s.fieldTransforms,f,l),p=l.data;return p.setAll(lz(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return Og(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function Khe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rz(r.transform,i||null);s!=null&&(n===null&&(n=Er.empty()),n.set(r.field,s))}return n||null}function AD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uc(r,i,((s,l)=>$he(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class op extends g0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xo extends g0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function CD(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,qhe(l,c,n[i]))}return r}function ID(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,Fhe(s,l,e))}return r}class rA extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Whe extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yhe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ghe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tz();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=oz(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,((n,r)=>AD(n,r)))&&Uc(this.baseMutations,e.baseMutations,((n,r)=>AD(n,r)))}}class iA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Lhe})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new iA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,it;function Zhe(t){switch(t){case ue.OK:return De(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function uz(t){if(t===void 0)return xs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case cn.OK:return ue.OK;case cn.CANCELLED:return ue.CANCELLED;case cn.UNKNOWN:return ue.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ue.INTERNAL;case cn.UNAVAILABLE:return ue.UNAVAILABLE;case cn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case cn.NOT_FOUND:return ue.NOT_FOUND;case cn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case cn.ABORTED:return ue.ABORTED;case cn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case cn.DATA_LOSS:return ue.DATA_LOSS;default:return De(39323,{code:t})}}(it=cn||(cn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jhe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede=new Ro([4294967295,4294967295],0);function OD(t){const e=Jhe().encode(t),n=new S9;return n.update(e),new Uint8Array(n.digest())}function ND(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,s],0)]}class aA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jh(`Invalid padding: ${n}`);if(r<0)throw new jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ro.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(ede)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OD(e),[r,i]=ND(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new aA(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=OD(e),[r,i]=ND(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new v0(Ve.min(),i,new Bt(tt),Es(),nt())}}class lp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lp(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class cz{constructor(e,n){this.targetId=e,this.Ce=n}}class fz{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RD{constructor(){this.ve=0,this.Fe=kD(),this.Me=Zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De(38017,{changeType:s})}})),new lp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tde{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=hg(),this.He=hg(),this.Ye=new Bt(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(aE(s))if(r===0){const l=new Ne(s.path);this.et(n,l,ar.newNoDocument(l,Ve.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Bo(r).toUint8Array()}catch(f){if(f instanceof j9)return zc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new aA(l,i,s)}catch(f){return zc(f instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&aE(c.target)){const f=new Ne(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,ar.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=nt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new v0(e,n,this.Ye,this.je,r);return this.je=Es(),this.Je=hg(),this.He=hg(),this.Ye=new Bt(tt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new RD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wn(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wn(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hg(){return new Bt(Ne.comparator)}function kD(){return new Bt(Ne.comparator)}const nde={asc:"ASCENDING",desc:"DESCENDING"},rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ide={and:"AND",or:"OR"};class ade{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lE(t,e){return t.useProto3Json||f0(e)?e:{value:e}}function ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sde(t,e){return ny(t,e.toTimestamp())}function xa(t){return ft(!!t,49232),Ve.fromTimestamp((function(n){const r=Uo(n);return new kt(r.seconds,r.nanos)})(t))}function sA(t,e){return uE(t,e).canonicalString()}function uE(t,e){const n=(function(i){return new Ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dz(t){const e=Ct.fromString(t);return ft(yz(e),10190,{key:e.toString()}),e}function cE(t,e){return sA(t.databaseId,e.path)}function Tw(t,e){const n=dz(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(mz(n))}function pz(t,e){return sA(t.databaseId,e)}function ode(t){const e=dz(t);return e.length===4?Ct.emptyPath():mz(e)}function fE(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mz(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PD(t,e,n){return{name:cE(t,e),fields:n.value.mapValue.fields}}function lde(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:De(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(ft(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(ft(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?ue.UNKNOWN:uz(h.code);return new be(p,h.message||"")})(l);n=new fz(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tw(t,r.document.name),s=xa(r.document.updateTime),l=r.document.createTime?xa(r.document.createTime):Ve.min(),c=new Er({mapValue:{fields:r.document.fields}}),f=ar.newFoundDocument(i,s,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Ng(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tw(t,r.document),s=r.readTime?xa(r.readTime):Ve.min(),l=ar.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ng([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tw(t,r.document),s=r.removedTargetIds||[];n=new Ng([],s,i,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Xhe(i,s),c=r.targetId;n=new cz(c,l)}}return n}function ude(t,e){let n;if(e instanceof op)n={update:PD(t,e.key,e.value)};else if(e instanceof rA)n={delete:cE(t,e.key)};else if(e instanceof Xo)n={update:PD(t,e.key,e.data),updateMask:yde(e.fieldMask)};else{if(!(e instanceof Whe))return De(16599,{Vt:e.type});n={verify:cE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof ey)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Td)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ad)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ty)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:sde(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:De(27497)})(t,e.precondition)),n}function cde(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?xa(i.updateTime):xa(s);return l.isEqual(Ve.min())&&(l=xa(s)),new Hhe(l,i.transformResults||[])})(n,e)))):[]}function fde(t,e){return{documents:[pz(t,e.path)]}}function hde(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pz(t,i);const s=(function(h){if(h.length!==0)return vz($i.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:cc(y.field),direction:mde(y.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=lE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function dde(t){let e=ode(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ft(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const y=gz(m);return y instanceof $i&&G9(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((y=>(function(w){return new Jv(fc(w.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let y;return y=typeof m=="object"?m.value:m,f0(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(m){const y=!!m.before,b=m.values||[];return new Zv(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const y=!m.before,b=m.values||[];return new Zv(b,y)})(n.endAt)),khe(e,i,l,s,c,"F",f,h)}function pde(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fc(n.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fc(n.unaryFilter.field);return hn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return hn.create(fc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((r=>gz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function mde(t){return nde[t]}function gde(t){return rde[t]}function vde(t){return ide[t]}function cc(t){return{fieldPath:t.canonicalString()}}function fc(t){return Yn.fromServerFormat(t.fieldPath)}function vz(t){return t instanceof hn?(function(n){if(n.op==="=="){if(bD(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(_D(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bD(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(_D(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:gde(n.op),value:n.value}}})(t):t instanceof $i?(function(n){const r=n.getFilters().map((i=>vz(i)));return r.length===1?r[0]:{compositeFilter:{op:vde(n.op),filters:r}}})(t):De(54877,{filter:t})}function yde(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r,i,s=Ve.min(),l=Ve.min(),c=Zn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e){this.yt=e}}function bde(t){const e=dde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(){this.Cn=new xde}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(zo.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class xde{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(Ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_z=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(_z,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qc(0)}static cr(){return new qc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="LruGarbageCollector",Ede=1048576;function jD([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class Sde{constructor(e){this.Ir=e,this.buffer=new wn(jD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tde{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(DD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cf(n)?_e(DD,"Ignoring IndexedDB error during garbage collection: ",n):await uf(n)}await this.Vr(3e5)}))}}class Ade{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(c0.ce);const r=new Sde(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(MD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),lc()<=Xe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function Cde(t,e){return new Ade(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(){this.changes=new du((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Yh(r.mutation,i,Gr.empty(),kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const i=Vl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Dh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Vl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=Es();const l=Wh(),c=(function(){return Wh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Xo)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Yh(p.mutation,h,p.mutation.getFieldMask(),kt.now())):l.set(h.key,Gr.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new Ode(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Wh();let i=new Bt(((l,c)=>l-c)),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Gr.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||nt()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=tz();p.forEach((y=>{if(!s.has(y)){const b=oz(n.get(y),r.get(y));b!==null&&m.set(y,b),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ce.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ce.resolve(Vl());let c=wd,f=s;return l.next((h=>ce.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,nt()))).next((p=>({batchId:c,changes:ez(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((r=>{let i=Dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Dh();return this.indexManager.getCollectionParents(e,s).next((c=>ce.forEach(c,(f=>{const h=(function(m,y){return new sp(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,y)=>{l=l.insert(m,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,ar.newInvalidDocument(p)))}));let c=Dh();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Yh(p.mutation,h,Gr.empty(),kt.now()),p0(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:xa(i.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:bde(i.bundledQuery),readTime:xa(i.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kde{constructor(){this.overlays=new Bt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vl();return ce.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Vl(),s=n.length+1,l=new Ne(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Bt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Vl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Vl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return ce.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Qhe(n,r));let s=this.qr.get(n);s===void 0&&(s=nt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.Qr=new wn(Pn.$r),this.Ur=new wn(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ne(new Ct([])),r=new Pn(n,e),i=new Pn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new Ct([])),r=new Pn(n,e),i=new Pn(n,e+1);let s=nt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wn(Pn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Yhe(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Pn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?QT:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(tt);return n.forEach((i=>{const s=new Pn(i,0),l=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ne.isDocumentKey(s)||(s=s.child(""));const l=new Pn(new Ne(s),0);let c=new wn(tt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),ce.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(i=>{const s=new Pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(n))}getEntries(e,n){let r=Es();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ar.newInvalidDocument(i))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Es();const l=n.path,c=new Ne(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||che(uhe(p),r)<=0||(i.has(p.key)||p0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){De(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new jde(this)}getSize(e){return ce.resolve(this.size)}}class jde extends Ide{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e){this.persistence=e,this.si=new du((n=>JT(n)),eA),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new oA,this.targetCount=0,this.ai=qc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ce.waitFor(s).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.ui={},this.overlays={},this.ci=new c0(0),this.li=!1,this.li=!0,this.hi=new Pde,this.referenceDelegate=e(this),this.Pi=new Lde(this),this.indexManager=new wde,this.remoteDocumentCache=(function(i){return new Dde(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _de(n),this.Ii=new Rde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Mde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new Vde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Vde extends hhe{constructor(e){super(),this.currentSequenceNumber=e}}class lA{constructor(e){this.persistence=e,this.Ri=new oA,this.Vi=null}static mi(e){return new lA(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const i=Ne.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ry{constructor(e,n){this.persistence=e,this.pi=new du((r=>mhe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Cde(this,n)}static mi(e,n){return new ry(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Ve.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cg(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jie()?8:dhe(sr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new zde;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(lc()<=Xe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(lc()<=Xe.DEBUG&&_e("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(lc()<=Xe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wa(n))):ce.resolve())}ys(e,n){if(SD(n))return ce.resolve(null);let r=wa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=oE(n,null,"F"),r=wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=nt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,oE(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return SD(n)||i.isEqual(Ve.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?ce.resolve(null):(lc()<=Xe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.vs(e,l,n,lhe(i,wd)).next((c=>c)))}))}Ds(e,n){let r=new wn(Z9(e));return n.forEach(((i,s)=>{p0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return lc()<=Xe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",uc(n)),this.ps.getDocumentsMatchingQuery(e,n,zo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="LocalStore",Bde=3e8;class Fde{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Bt(tt),this.xs=new du((s=>JT(s)),eA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nde(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qde(t,e,n,r){return new Fde(t,e,n,r)}async function wz(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=nt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function $de(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,y=m.keys();let b=ce.resolve();return y.forEach((w=>{b=b.next((()=>p.getEntry(f,w))).next((E=>{const T=h.docVersions.get(w);ft(T!==null,48541),E.version.compareTo(T)<0&&(m.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=nt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function xz(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Hde(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const y=i.get(m);if(!y)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let b=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Zn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(m,b),(function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Bde?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,b,p)&&c.push(n.Pi.updateTargetData(s,b))}));let f=Es(),h=nt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(Gde(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ve.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return ce.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function Gde(t,e,n){let r=nt(),i=nt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Es();return n.forEach(((c,f)=>{const h=s.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):_e(cA,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function Kde(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=QT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Wde(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ce.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ao(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hE(t,e,n){const r=Ue(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!cf(l))throw l;_e(cA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function LD(t,e,n){const r=Ue(t);let i=Ve.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=Ue(f),y=m.xs.get(p);return y!==void 0?ce.resolve(m.Ms.get(y)):m.Pi.getTargetData(h,p)})(r,l,wa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ve.min(),n?s:nt()))).next((c=>(Yde(r,Mhe(e),c),{documents:c,Qs:s})))))}function Yde(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class VD{constructor(){this.activeTargetIds=Uhe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qde{constructor(){this.Mo=new VD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="ConnectivityMonitor";class UD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(zD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(zD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=null;function dE(){return dg===null?dg=(function(){return 268435456+Math.round(2147483648*Math.random())})():dg++,"0x"+dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="RestConnection",Zde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jde{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=dE(),c=this.zo(e,n.toUriEncodedString());_e(Aw,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(c),p=Ko(h);return this.Jo(e,c,f,r,p).then((m=>(_e(Aw,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw zc(Aw,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Zde[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class epe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class tpe extends Jde{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=dE();return new Promise(((c,f)=>{const h=new T9;h.setWithCredentials(!0),h.listenOnce(A9.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Ag.NO_ERROR:const m=h.getResponseJson();_e(er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Ag.TIMEOUT:_e(er,`RPC '${e}' ${l} timed out`),f(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const y=h.getStatus();if(_e(er,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const E=(function(O){const j=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(j)>=0?j:ue.UNKNOWN})(w.status);f(new be(E,w.message))}else f(new be(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new be(ue.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(er,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);_e(er,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=dE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=O9(),c=I9(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");_e(er,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let y=!1,b=!1;const w=new epe({Yo:T=>{b?_e(er,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(_e(er,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),_e(er,`RPC '${e}' stream ${i} sending:`,T),m.send(T))},Zo:()=>m.close()}),E=(T,O,j)=>{T.listen(O,(z=>{try{j(z)}catch(U){setTimeout((()=>{throw U}),0)}}))};return E(m,Mh.EventType.OPEN,(()=>{b||(_e(er,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(m,Mh.EventType.CLOSE,(()=>{b||(b=!0,_e(er,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),E(m,Mh.EventType.ERROR,(T=>{b||(b=!0,zc(er,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),w.a_(new be(ue.UNAVAILABLE,"The operation could not be completed")))})),E(m,Mh.EventType.MESSAGE,(T=>{var O;if(!b){const j=T.data[0];ft(!!j,16349);const z=j,U=(z==null?void 0:z.error)||((O=z[0])==null?void 0:O.error);if(U){_e(er,`RPC '${e}' stream ${i} received error:`,U);const q=U.status;let V=(function(P){const B=cn[P];if(B!==void 0)return uz(B)})(q),N=U.message;V===void 0&&(V=ue.INTERNAL,N="Unknown error status: "+q+" with message "+U.message),b=!0,w.a_(new be(V,N)),m.close()}else _e(er,`RPC '${e}' stream ${i} received:`,j),w.u_(j)}})),E(c,C9.STAT_EVENT,(T=>{T.stat===eE.PROXY?_e(er,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===eE.NOPROXY&&_e(er,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return new ade(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="PersistentStream";class Sz{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ez(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new be(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(BD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(BD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class npe extends Sz{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lde(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ve.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?xa(l.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fE(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=aE(f)?{documents:fde(s,f)}:{query:hde(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=hz(s,l.resumeToken);const h=lE(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ve.min())>0){c.readTime=ny(s,l.snapshotVersion.toTimestamp());const h=lE(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=pde(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fE(this.serializer),n.removeTarget=e,this.q_(n)}}class rpe extends Sz{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cde(e.writeResults,e.commitTime),r=xa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ude(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{}class ape extends ipe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,uE(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ue.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,uE(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class spe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="RemoteStore";class ope{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{pu(this)&&(_e(au,"Restarting streams for network reachability change."),await(async function(f){const h=Ue(f);h.Ea.add(4),await up(h),h.Ra.set("Unknown"),h.Ea.delete(4),await _0(h)})(this))}))})),this.Ra=new spe(r,i)}}async function _0(t){if(pu(t))for(const e of t.da)await e(!0)}async function up(t){for(const e of t.da)await e(!1)}function Tz(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pA(n)?dA(n):ff(n).O_()&&hA(n,e))}function fA(t,e){const n=Ue(t),r=ff(n);n.Ia.delete(e),r.O_()&&Az(n,e),n.Ia.size===0&&(r.O_()?r.L_():pu(n)&&n.Ra.set("Unknown"))}function hA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ff(t).Y_(e)}function Az(t,e){t.Va.Ue(e),ff(t).Z_(e)}function dA(t){t.Va=new tde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ff(t).start(),t.Ra.ua()}function pA(t){return pu(t)&&!ff(t).x_()&&t.Ia.size>0}function pu(t){return Ue(t).Ea.size===0}function Cz(t){t.Va=void 0}async function lpe(t){t.Ra.set("Online")}async function upe(t){t.Ia.forEach(((e,n)=>{hA(t,e)}))}async function cpe(t,e){Cz(t),pA(t)?(t.Ra.ha(e),dA(t)):t.Ra.set("Unknown")}async function fpe(t,e,n){if(t.Ra.set("Online"),e instanceof fz&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){_e(au,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iy(t,r)}else if(e instanceof Ng?t.Va.Ze(e):e instanceof cz?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await xz(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),Az(s,f);const m=new Ao(p.target,f,h,p.sequenceNumber);hA(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){_e(au,"Failed to raise snapshot:",r),await iy(t,r)}}async function iy(t,e,n){if(!cf(e))throw e;t.Ea.add(1),await up(t),t.Ra.set("Offline"),n||(n=()=>xz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(au,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _0(t)}))}function Iz(t,e){return e().catch((n=>iy(t,n,e)))}async function b0(t){const e=Ue(t),n=qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:QT;for(;hpe(e);)try{const i=await Kde(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,dpe(e,i)}catch(i){await iy(e,i)}Oz(e)&&Nz(e)}function hpe(t){return pu(t)&&t.Ta.length<10}function dpe(t,e){t.Ta.push(e);const n=qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Oz(t){return pu(t)&&!qo(t).x_()&&t.Ta.length>0}function Nz(t){qo(t).start()}async function ppe(t){qo(t).ra()}async function mpe(t){const e=qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function gpe(t,e,n){const r=t.Ta.shift(),i=iA.from(r,e,n);await Iz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await b0(t)}async function vpe(t,e){e&&qo(t).X_&&await(async function(r,i){if((function(l){return Zhe(l)&&l!==ue.ABORTED})(i.code)){const s=r.Ta.shift();qo(r).B_(),await Iz(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await b0(r)}})(t,e),Oz(t)&&Nz(t)}async function FD(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),_e(au,"RemoteStore received new credentials");const r=pu(n);n.Ea.add(3),await up(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _0(n)}async function ype(t,e){const n=Ue(t);e?(n.Ea.delete(2),await _0(n)):e||(n.Ea.add(2),await up(n),n.Ra.set("Unknown"))}function ff(t){return t.ma||(t.ma=(function(n,r,i){const s=Ue(n);return s.sa(),new npe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:lpe.bind(null,t),t_:upe.bind(null,t),r_:cpe.bind(null,t),H_:fpe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pA(t)?dA(t):t.Ra.set("Unknown")):(await t.ma.stop(),Cz(t))}))),t.ma}function qo(t){return t.fa||(t.fa=(function(n,r,i){const s=Ue(n);return s.sa(),new rpe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ppe.bind(null,t),r_:vpe.bind(null,t),ta:mpe.bind(null,t),na:gpe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await b0(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(au,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new mA(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gA(t,e){if(xs("AsyncQueue",`${e}: ${t}`),cf(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{static emptySet(e){return new Sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.ga=new Bt(Ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class $c{constructor(e,n,r,i,s,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new $c(e,n,Sc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&d0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bpe{constructor(){this.queries=$D(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),s=i.queries;i.queries=$D(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function $D(){return new du((t=>X9(t)),d0)}async function wpe(t,e){const n=Ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _pe,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=gA(l,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&vA(n)}async function xpe(t,e){const n=Ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Epe(t,e){const n=Ue(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&vA(n)}function Spe(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function vA(t){t.Ca.forEach((e=>{e.next()}))}var pE,HD;(HD=pE||(pE={})).Ma="default",HD.Cache="cache";class Tpe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.key=e}}class kz{constructor(e){this.key=e}}class Ape{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=Z9(e),this.tu=new Sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qD,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const y=i.get(p),b=p0(this.query,m)?m:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;y&&b?y.data.isEqual(b.data)?w!==E&&(r.track({type:3,doc:b}),T=!0):this.su(y,b)||(r.track({type:2,doc:b}),T=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),T=!0):y&&!b&&(r.track({type:1,doc:y}),T=!0,(f||h)&&(c=!0)),T&&(b?(l=l.add(b),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(b,w){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:T})}};return E(b)-E(w)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new $c(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new kz(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Rz(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $c.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yA="SyncEngine";class Cpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ipe{constructor(e){this.key=e,this.hu=!1}}class Ope{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new du((c=>X9(c)),d0),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Ne.comparator),this.Au=new Map,this.Ru=new oA,this.Vu={},this.mu=new Map,this.fu=qc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Npe(t,e,n=!0){const r=Vz(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Pz(r,e,n,!0),i}async function Rpe(t,e){const n=Vz(t);await Pz(n,e,!0,!1)}async function Pz(t,e,n,r){const i=await Wde(t.localStore,wa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await kpe(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Tz(t.remoteStore,i),c}async function kpe(t,e,n,r,i){t.pu=(m,y,b)=>(async function(E,T,O,j){let z=T.view.ru(O);z.Cs&&(z=await LD(E.localStore,T.query,!1).then((({documents:N})=>T.view.ru(N,z))));const U=j&&j.targetChanges.get(T.targetId),q=j&&j.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(z,E.isPrimaryClient,U,q);return KD(E,T.targetId,V.au),V.snapshot})(t,m,y,b);const s=await LD(t.localStore,e,!0),l=new Ape(e,s.Qs),c=l.ru(s.documents),f=lp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);KD(t,n,h.au);const p=new Cpe(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Ppe(t,e,n){const r=Ue(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!d0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fA(r.remoteStore,i.targetId),mE(r,i.targetId)})).catch(uf)):(mE(r,i.targetId),await hE(r.localStore,i.targetId,!0))}async function Mpe(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fA(n.remoteStore,r.targetId))}async function Dpe(t,e,n){const r=Fpe(t);try{const i=await(function(l,c){const f=Ue(l),h=kt.now(),p=c.reduce(((b,w)=>b.add(w.key)),nt());let m,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=Es(),E=nt();return f.Ns.getEntries(b,p).next((T=>{w=T,w.forEach(((O,j)=>{j.isValidDocument()||(E=E.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((T=>{m=T;const O=[];for(const j of c){const z=Khe(j,m.get(j.key).overlayedDocument);z!=null&&O.push(new Xo(j.key,z,q9(z.value.mapValue),zi.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,O,c)})).next((T=>{y=T;const O=T.applyToLocalDocumentSet(m,E);return f.documentOverlayCache.saveOverlays(b,T.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:ez(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Bt(tt)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await cp(r,i.changes),await b0(r.remoteStore)}catch(i){const s=gA(i,"Failed to persist write");n.reject(s)}}async function Mz(t,e){const n=Ue(t);try{const r=await Hde(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ft(l.hu,14607):i.removedDocuments.size>0&&(ft(l.hu,42227),l.hu=!1))})),await cp(n,r,e)}catch(r){await uf(r)}}function GD(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=Ue(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const y of m.Sa)y.va(c)&&(h=!0)})),h&&vA(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jpe(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Bt(Ne.comparator);l=l.insert(s,ar.newNoDocument(s,Ve.min()));const c=nt().add(s),f=new v0(Ve.min(),new Map,new Bt(tt),l,c);await Mz(r,f),r.du=r.du.remove(s),r.Au.delete(e),_A(r)}else await hE(r.localStore,e,!1).then((()=>mE(r,e,n))).catch(uf)}async function Lpe(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await $de(n.localStore,e);jz(n,r,null),Dz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cp(n,i)}catch(i){await uf(i)}}async function Vpe(t,e,n){const r=Ue(t);try{const i=await(function(l,c){const f=Ue(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>(ft(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);jz(r,e,n),Dz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cp(r,i)}catch(i){await uf(i)}}function Dz(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jz(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function mE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Lz(t,r)}))}function Lz(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_A(t))}function KD(t,e,n){for(const r of n)r instanceof Rz?(t.Ru.addReference(r.key,e),zpe(t,r)):r instanceof kz?(_e(yA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Lz(t,r.key)):De(19791,{wu:r})}function zpe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(yA,"New document in limbo: "+n),t.Eu.add(r),_A(t))}function _A(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new Ipe(n)),t.du=t.du.insert(n,r),Tz(t.remoteStore,new Ao(wa(tA(n.path)),r,"TargetPurposeLimboResolution",c0.ce))}}async function cp(t,e,n){const r=Ue(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=uA.As(f.targetId,h);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=Ue(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ce.forEach(h,(y=>ce.forEach(y.Es,(b=>p.persistence.referenceDelegate.addReference(m,y.targetId,b))).next((()=>ce.forEach(y.ds,(b=>p.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))))))}catch(m){if(!cf(m))throw m;_e(cA,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const b=p.Ms.get(y),w=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(w);p.Ms=p.Ms.insert(y,E)}}})(r.localStore,s))}async function Upe(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){_e(yA,"User change. New user:",e.toKey());const r=await wz(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new be(ue.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cp(n,r.Ls)}}function Bpe(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Vz(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jpe.bind(null,e),e.Pu.H_=Epe.bind(null,e.eventManager),e.Pu.yu=Spe.bind(null,e.eventManager),e}function Fpe(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vpe.bind(null,e),e}class ay{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qde(this.persistence,new Ude,e.initialUser,this.serializer)}Cu(e){return new bz(lA.mi,this.serializer)}Du(e){return new Qde}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ay.provider={build:()=>new ay};class qpe extends ay{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof ry,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Tde(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new bz((r=>ry.mi(r,n)),this.serializer)}}class gE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Upe.bind(null,this.syncEngine),await ype(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bpe})()}createDatastore(e){const n=y0(e.databaseInfo.databaseId),r=(function(s){return new tpe(s)})(e.databaseInfo);return(function(s,l,c,f){return new ape(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new ope(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>GD(this.syncEngine,n,0)),(function(){return UD.v()?new UD:new Xde})())}createSyncEngine(e,n){return(function(i,s,l,c,f,h,p){const m=new Ope(i,s,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Ue(i);_e(au,"RemoteStore shutting down."),s.Ea.add(5),await up(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gE.provider={build:()=>new gE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class Hpe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=YT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{_e($o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e($o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress(),_e($o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await wz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gpe(t);_e($o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>FD(e.remoteStore,i))),t._onlineComponents=e}async function Gpe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e($o,"Using user provided OfflineComponentProvider");try{await Iw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await Iw(t,new ay)}}else _e($o,"Using default OfflineComponentProvider"),await Iw(t,new qpe(void 0));return t._offlineComponents}async function zz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e($o,"Using user provided OnlineComponentProvider"),await WD(t,t._uninitializedComponentsProvider._online)):(_e($o,"Using default OnlineComponentProvider"),await WD(t,new gE))),t._onlineComponents}function Kpe(t){return zz(t).then((e=>e.syncEngine))}async function YD(t){const e=await zz(t),n=e.eventManager;return n.onListen=Npe.bind(null,e.syncEngine),n.onUnlisten=Ppe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Rpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mpe.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="firestore.googleapis.com",XD=!0;class ZD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bz,this.ssl=XD}else this.host=e.host,this.ssl=e.ssl??XD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_z;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ede)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ohe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uz(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xfe;switch(r.type){case"firstParty":return new the(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=QD.get(n);r&&(_e("ComponentProvider","Removing Datastore"),QD.delete(n),r.terminate())})(this),Promise.resolve()}}function Wpe(t,e,n,r={}){var h;t=ko(t,w0);const i=Ko(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(tT(`https://${c}`),nT("Firestore",!0)),s.host!==Bz&&s.host!==c&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!Do(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=nr.MOCK_USER;else{p=x6(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new nr(y)}t._authCredentials=new Zfe(new R9(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hf(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ap(n,pn._jsonSchema))return new pn(e,r||null,new Ne(Ct.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:dn("string",pn._jsonSchemaVersion),referencePath:dn("string")};class Po extends hf{constructor(e,n,r){super(e,n,tA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ne(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Fz(t,e,...n){if(t=Vt(t),k9("collection","path",e),t instanceof w0){const r=Ct.fromString(e,...n);return cD(r),new Po(t,null,r)}{if(!(t instanceof pn||t instanceof Po))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return cD(r),new Po(t.firestore,null,r)}}function bA(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=YT.newId()),k9("doc","path",e),t instanceof w0){const r=Ct.fromString(e,...n);return uD(r),new pn(t,null,new Ne(r))}{if(!(t instanceof pn||t instanceof Po))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return uD(r),new pn(t.firestore,t instanceof Po?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="AsyncQueue";class ej{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ez(this,"async_queue_retry"),this._c=()=>{const r=Cw();r&&_e(JD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cf(e))throw e;_e(JD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",tj(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mA.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&De(47125,{Pc:tj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Hc extends w0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ej,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ej(e),this._firestoreClient=void 0,await e}}}function Ype(t,e){const n=typeof t=="object"?t:sT(),r=typeof t=="string"?t:Qv,i=Xy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_6("firestore");s&&Wpe(i,...s)}return i}function qz(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qpe(t),t._firestoreClient}function Qpe(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,f,h,p){return new yhe(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Uz(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hpe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(Zn.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ap(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:dn("string",hi._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(ap(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:dn("string",Ea._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Sa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ap(e,Sa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Sa(e.vectorValues);throw new be(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sa._jsonSchemaVersion="firestore/vectorValue/1.0",Sa._jsonSchema={type:dn("string",Sa._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe=/^__.*__$/;class Zpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new op(e,this.data,n,this.fieldTransforms)}}class $z{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class xA{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hz(this.Ac)&&Xpe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y0(e)}Cc(e,n,r,i=!1){return new xA({Ac:e,methodName:n,Dc:r,path:Yn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EA(t){const e=t._freezeSettings(),n=y0(t._databaseId);return new Jpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eme(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);SA("Data must be an object, but it was:",l,r);const c=Gz(r,l);let f,h;if(s.merge)f=new Gr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const y=vE(e,m,n);if(!l.contains(y))throw new be(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Wz(p,y)||p.push(y)}f=new Gr(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new Zpe(new Er(c),f,h)}class E0 extends wA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof E0}}function tme(t,e,n,r){const i=t.Cc(1,e,n);SA("Data must be an object, but it was:",i,r);const s=[],l=Er.empty();Qo(r,((f,h)=>{const p=TA(e,f,n);h=Vt(h);const m=i.yc(p);if(h instanceof E0)s.push(p);else{const y=fp(h,m);y!=null&&(s.push(p),l.set(p,y))}}));const c=new Gr(s);return new $z(l,c,i.fieldTransforms)}function nme(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[vE(e,r,n)],f=[i];if(s.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(vE(e,s[y])),f.push(s[y+1]);const h=[],p=Er.empty();for(let y=c.length-1;y>=0;--y)if(!Wz(h,c[y])){const b=c[y];let w=f[y];w=Vt(w);const E=l.yc(b);if(w instanceof E0)h.push(b);else{const T=fp(w,E);T!=null&&(h.push(b),p.set(b,T))}}const m=new Gr(h);return new $z(p,m,l.fieldTransforms)}function rme(t,e,n,r=!1){return fp(n,t.Cc(r?4:3,e))}function fp(t,e){if(Kz(t=Vt(t)))return SA("Unsupported field value:",e,t),Gz(t,e);if(t instanceof wA)return(function(r,i){if(!Hz(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=fp(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bhe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=kt.fromDate(r);return{timestampValue:ny(i.serializer,s)}}if(r instanceof kt){const s=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ny(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:hz(i.serializer,r._byteString)};if(r instanceof pn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sa)return(function(l,c){return{mapValue:{fields:{[B9]:{stringValue:F9},[Xv]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return nA(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${u0(r)}`)})(t,e)}function Gz(t,e){const n={};return D9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,((r,i)=>{const s=fp(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Kz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Ea||t instanceof hi||t instanceof pn||t instanceof wA||t instanceof Sa)}function SA(t,e,n){if(!Kz(n)||!P9(n)){const r=u0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vE(t,e,n){if((e=Vt(e))instanceof x0)return e._internalPath;if(typeof e=="string")return TA(t,e);throw sy("Field path arguments must be of type string or ",t,!1,void 0,n)}const ime=new RegExp("[~\\*/\\[\\]]");function TA(t,e,n){if(e.search(ime)>=0)throw sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x0(...e.split("."))._internalPath}catch{throw sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sy(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new be(ue.INVALID_ARGUMENT,c+t+f)}function Wz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ame(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qz("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ame extends Yz{data(){return super.data()}}function Qz(t,e){return typeof e=="string"?TA(t,e):e instanceof x0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sme(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AA{}class ome extends AA{}function lme(t,e,...n){let r=[];e instanceof AA&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof IA)).length,c=s.filter((f=>f instanceof CA)).length;if(l>1||l>0&&c>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class CA extends ome{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new CA(e,n,r)}_apply(e){const n=this._parse(e);return Xz(e._query,n),new hf(e.firestore,e.converter,sE(e._query,n))}_parse(e){const n=EA(e.firestore);return(function(s,l,c,f,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ij(m,p);const w=[];for(const E of m)w.push(rj(f,s,E));y={arrayValue:{values:w}}}else y=rj(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ij(m,p),y=rme(c,l,m,p==="in"||p==="not-in");return hn.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class IA extends AA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const f of c)Xz(l,f),l=sE(l,f)})(e._query,n),new hf(e.firestore,e.converter,sE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rj(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q9(e)&&n.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Ne.isDocumentKey(r))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yD(t,new Ne(r))}if(n instanceof pn)return yD(t,n._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u0(n)}.`)}function ij(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xz(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ume{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Xv].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Zt(l.doubleValue)));return new Sa(n)}convertGeoPoint(e){return new Ea(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=h0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);ft(yz(r),9688,{name:e});const i=new Ed(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return i.isEqual(n)||xs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cme(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends Yz{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qz("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:dn("string",ql._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Rg extends ql{data(e={}){return super.data(e)}}class Tc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rg(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Rg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Rg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:fme(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}Tc._jsonSchemaVersion="firestore/querySnapshot/1.0",Tc._jsonSchema={type:dn("string",Tc._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Zz extends ume{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function hme(t,e,n,...r){t=ko(t,pn);const i=ko(t.firestore,Hc),s=EA(i);let l;return l=typeof(e=Vt(e))=="string"||e instanceof x0?nme(s,"updateDoc",t._key,e,n,r):tme(s,"updateDoc",t._key,e),OA(i,[l.toMutation(t._key,zi.exists(!0))])}function dme(t){return OA(ko(t.firestore,Hc),[new rA(t._key,zi.none())])}function pme(t,e){const n=ko(t.firestore,Hc),r=bA(t),i=cme(t.converter,e);return OA(n,[eme(EA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zi.exists(!1))]).then((()=>r))}function mme(t,...e){var f,h,p;t=Vt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nj(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nj(e[r])){const m=e[r];e[r]=(f=m.next)==null?void 0:f.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(p=m.complete)==null?void 0:p.bind(m)}let s,l,c;if(t instanceof pn)l=ko(t.firestore,Hc),c=tA(t._key.path),s={next:m=>{e[r]&&e[r](gme(l,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ko(t,hf);l=ko(m.firestore,Hc),c=m._query;const y=new Zz(l);s={next:b=>{e[r]&&e[r](new Tc(l,y,m,b))},error:e[r+1],complete:e[r+2]},sme(t._query)}return(function(y,b,w,E){const T=new $pe(E),O=new Tpe(b,T,w);return y.asyncQueue.enqueueAndForget((async()=>wpe(await YD(y),O))),()=>{T.Nu(),y.asyncQueue.enqueueAndForget((async()=>xpe(await YD(y),O)))}})(qz(l),c,i,s)}function OA(t,e){return(function(r,i){const s=new Fl;return r.asyncQueue.enqueueAndForget((async()=>Dpe(await Kpe(r),i,s))),s.promise})(qz(t),e)}function gme(t,e,n){const r=n.docs.get(e._key),i=new Zz(t);return new ql(t,i,e._key,r,new Lh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){lf=i})(fu),Xl(new jo("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Hc(new Jfe(r.getProvider("auth-internal")),new nhe(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),ya(aD,sD,e),ya(aD,sD,"esm2020")})();const vme={apiKey:"AIzaSyBSA3ggl68i-g8rgLzUyc7gbXizdbv5Frk",authDomain:"nossos-gastos-f495d.firebaseapp.com",databaseURL:"https://nossos-gastos-f495d-default-rtdb.firebaseio.com",projectId:"nossos-gastos-f495d",storageBucket:"nossos-gastos-f495d.firebasestorage.app",messagingSenderId:"247154942228",appId:"1:247154942228:web:5aad334ac029df17a1e201",measurementId:"G-VLF5HD290Z"},NA=C6(vme),ls=Lle(NA),Jz=Wfe(NA),S0=Ype(NA),Ya=async(t,e)=>{const n=ls.currentUser;if(n){localStorage.setItem(`nc_backup_${t}`,JSON.stringify(e));try{return await Vfe(E9(Jz,`users/${n.uid}/${t}`),e),!0}catch(r){return console.error(`[Sync Error] ${t}:`,r),!1}}},Ih=(t,e)=>{const n=ls.currentUser;if(!n)return;const r=E9(Jz,`users/${n.uid}/${t}`);return Ufe(r,i=>{const s=i.val();s!==null&&(localStorage.setItem(`nc_backup_${t}`,JSON.stringify(s)),e(s))})},yme=t=>{if(!ls.currentUser)return;const n=lme(Fz(S0,"transacoes"));return mme(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},Ow=async(t,e)=>{try{const n=bA(S0,"transacoes",t);return await hme(n,e),!0}catch(n){return console.error("Erro ao atualizar Firestore:",n),!1}},_me=async t=>{try{const e=bA(S0,"transacoes",t);return await dme(e),!0}catch(e){return console.error("Erro ao deletar no Firestore:",e),!1}},bme=()=>S.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[S.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-2xl rounded-full animate-pulse"}),S.jsxs("div",{className:"relative w-20 h-20 bg-neutral-900 border-2 border-primary/40 rounded-[2rem] flex items-center justify-center shadow-glow overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent"}),S.jsx(_E,{size:40,className:"text-primary logo-glow",fill:"currentColor",strokeWidth:0}),S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1.5 h-8 bg-neutral-900/50 rounded-full blur-[1px]"})]})]}),wme=({onLoginSuccess:t})=>{const[e,n]=C.useState(""),[r,i]=C.useState(""),[s,l]=C.useState(!1),[c,f]=C.useState(!1),[h,p]=C.useState(!1),[m,y]=C.useState(""),[b,w]=C.useState(""),E=async O=>{O.preventDefault(),p(!0),y(""),w("");try{c?await xoe(ls,e,r):await Eoe(ls,e,r),t()}catch(j){y(j.message.includes("auth/user-not-found")?"Usurio no encontrado.":"E-mail ou senha incorretos.")}finally{p(!1)}},T=async()=>{if(!e){y("Digite seu e-mail para recuperar a senha.");return}try{await woe(ls,e),w("E-mail de recuperao enviado!")}catch{y("Erro ao enviar e-mail de recuperao.")}};return S.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-neutral-950 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/20 blur-[120px] rounded-full"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-500/10 blur-[120px] rounded-full"}),S.jsxs("div",{className:"w-full max-w-md space-y-8 relative z-10",children:[S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx(bme,{}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("h1",{className:"text-4xl font-display font-black text-white uppercase tracking-tighter italic leading-none",children:["Nossa ",S.jsx("span",{className:"text-primary",children:"Carteira"})]}),S.jsx("p",{className:"text-neutral-500 text-[10px] font-bold uppercase tracking-[0.4em]",children:"Sincronizao do Casal"})]})]}),S.jsxs("div",{className:"bg-neutral-900/50 backdrop-blur-xl border border-neutral-800 p-8 rounded-[40px] shadow-2xl",children:[S.jsxs("form",{onSubmit:E,className:"space-y-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest ml-1",children:"E-mail do Casal"}),S.jsxs("div",{className:"relative",children:[S.jsx(RB,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600",size:18}),S.jsx("input",{type:"email",required:!0,value:e,onChange:O=>n(O.target.value),className:"w-full bg-neutral-950 border border-neutral-800 rounded-2xl py-4 pl-12 pr-4 text-white font-semibold outline-none focus:border-primary transition-all",placeholder:"exemplo@email.com"})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest ml-1",children:"Senha de Acesso"}),S.jsxs("div",{className:"relative",children:[S.jsx(IB,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600",size:18}),S.jsx("input",{type:s?"text":"password",required:!0,value:r,onChange:O=>i(O.target.value),className:"w-full bg-neutral-950 border border-neutral-800 rounded-2xl py-4 pl-12 pr-12 text-white font-semibold outline-none focus:border-primary transition-all",placeholder:""}),S.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-600 hover:text-neutral-400 transition-colors focus:outline-none",title:s?"Ocultar senha":"Mostrar senha",children:s?S.jsx(yB,{size:18}):S.jsx(bB,{size:18})})]})]})]}),m&&S.jsx("p",{className:"text-red-500 text-[10px] font-bold uppercase text-center",children:m}),b&&S.jsx("p",{className:"text-emerald-500 text-[10px] font-bold uppercase text-center",children:b}),S.jsx("button",{type:"submit",disabled:h,className:"w-full bg-primary text-neutral-950 py-5 rounded-2xl font-black uppercase tracking-widest text-[11px] shadow-glow hover:bg-yellow-300 transition-all flex items-center justify-center space-x-2 active:scale-95",children:h?S.jsx(Pg,{className:"animate-spin",size:20}):S.jsxs(S.Fragment,{children:[S.jsx("span",{children:c?"Criar Conta Conjunta":"Entrar na Carteira"}),S.jsx(tB,{size:18,strokeWidth:3})]})})]}),S.jsxs("div",{className:"mt-8 flex flex-col space-y-4 items-center",children:[S.jsx("button",{onClick:()=>f(!c),className:"text-neutral-500 hover:text-white text-[10px] font-black uppercase tracking-widest transition-colors",children:c?"J somos membros? Entrar.":"Ainda no temos conta conjunta? Criar."}),!c&&S.jsx("button",{onClick:T,className:"text-neutral-700 hover:text-neutral-500 text-[10px] font-bold uppercase tracking-widest",children:"Esqueci a senha"})]})]}),S.jsxs("div",{className:"flex items-center justify-center space-x-2 text-neutral-700",children:[S.jsx(qB,{size:14}),S.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Criptografia de Ponta a Ponta"})]})]})]})},xme=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,s]=C.useState(!1),[l,c]=C.useState("home"),[f,h]=C.useState(()=>localStorage.getItem("nc_theme")||"dark"),[p,m]=C.useState([]),[y,b]=C.useState([]),[w,E]=C.useState([]),[T,O]=C.useState(Nw),[j,z]=C.useState("Nossa Famlia"),[U,q]=C.useState(15),[V,N]=C.useState(new Date),[k,P]=C.useState(!1),[B,M]=C.useState(null),[F,L]=C.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});C.useEffect(()=>Aoe(ls,W=>{e(W),r(!1)}),[]),C.useEffect(()=>{if(!t)return;const W=Ih("goals",$e=>$e&&b($e)),ae=Ih("shoppingItems",$e=>$e&&E($e)),fe=Ih("users",$e=>$e&&O($e)),ye=Ih("familyName",$e=>$e&&z($e)),Ie=Ih("alertThreshold",$e=>$e&&q($e)),Ae=yme($e=>{const se=$e.map(Ce=>{let Le=Ce.data;if(Le&&Le.includes("-")&&Le.split("-").length===3){const[he,zt,Ge]=Le.split("-");Le=`${Ge}/${zt}/${he}`}return{id:Ce.id,title:Ce.descricao||"Sem ttulo",amount:Number(Ce.valor)||0,category:Ce.categoria||"Geral",date:Le||new Date().toLocaleDateString("pt-BR"),spenderId:Ce.userId||"unknown",emoji:Ce.emoji||(Ce.tipo==="despesa"?"":""),type:Ce.tipo==="despesa"?"expense":"revenue",isPaid:Ce.pago??!1,isFixed:Ce.isFixed??!1,paidMonths:Ce.paidMonths||[],installments:Ce.installments||void 0}});m(se)});return()=>{W==null||W(),ae==null||ae(),fe==null||fe(),ye==null||ye(),Ie==null||Ie(),Ae==null||Ae()}},[t]),C.useEffect(()=>{localStorage.setItem("nc_theme",f),document.documentElement.classList.toggle("dark",f==="dark")},[f]);const pe=async W=>{s(!0);const ae=y.find(ye=>ye.id===W.id);let fe;ae?fe=y.map(ye=>ye.id===W.id?W:ye):fe=[...y,W],b(fe),await Ya("goals",fe),s(!1)},Se=async(W,ae)=>{s(!0);const fe=y.map(ye=>ye.id===W?{...ye,currentAmount:ye.currentAmount+ae}:ye);b(fe),await Ya("goals",fe),s(!1)},K=async W=>{s(!0);const ae=y.filter(fe=>fe.id!==W);b(ae),await Ya("goals",ae),s(!1)},re=async(W,ae)=>{const fe=p.find(ye=>ye.id===W);if(fe)if(fe.isFixed&&ae){const ye=fe.paidMonths||[],Ie=ye.includes(ae)?ye.filter(Ae=>Ae!==ae):[...ye,ae];await Ow(W,{paidMonths:Ie})}else await Ow(W,{pago:!fe.isPaid})},de=async W=>{s(!0);try{const[ae,fe,ye]=W.date.split("/"),Ie=`${ye}-${fe}-${ae}`,Ae={descricao:W.title,valor:W.amount,categoria:W.category,data:Ie,userId:W.spenderId,emoji:W.emoji,tipo:W.type==="expense"?"despesa":"receita",pago:W.isPaid,isFixed:W.isFixed,paidMonths:W.paidMonths||[],installments:W.installments||null};B?await Ow(B.id,Ae):await pme(Fz(S0,"transacoes"),Ae),P(!1),M(null)}catch(ae){console.error("Erro ao salvar transao:",ae)}finally{s(!1)}},me=W=>{L({isOpen:!0,title:"Excluir Lanamento?",message:"Esta ao remover o registro permanentemente do banco de dados.",variant:"danger",onConfirm:async()=>{await _me(W),L(ae=>({...ae,isOpen:!1}))}})},Re=async(W,ae)=>{s(!0),await Ya(W,ae),setTimeout(()=>s(!1),1e3)},H=async(W,ae,fe)=>{s(!0);try{await Promise.all([Ya("goals",y),Ya("shoppingItems",w),Ya("users",W||T),Ya("familyName",ae||j),Ya("alertThreshold",fe||U)])}catch(ye){console.error("[App] Erro na sincronizao",ye)}setTimeout(()=>s(!1),1e3)};return n?S.jsx("div",{className:"min-h-screen bg-neutral-950 flex items-center justify-center",children:S.jsx(Pg,{className:"text-primary animate-spin",size:48})}):t?S.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-200 flex flex-col md:flex-row transition-colors duration-300",children:[S.jsx("div",{className:"fixed top-[calc(env(safe-area-inset-top)+10px)] right-4 md:right-6 z-[100] flex items-center space-x-2 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md px-3 py-1.5 rounded-full border border-neutral-200 dark:border-neutral-800 shadow-xl",children:i?S.jsxs(S.Fragment,{children:[S.jsx(Pg,{size:10,className:"text-primary animate-spin"}),S.jsx("span",{className:"text-[7px] font-black text-neutral-500 uppercase tracking-widest",children:"Sinc"})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),S.jsx("span",{className:"text-[7px] font-black text-neutral-400 uppercase tracking-widest",children:"On"})]})}),S.jsxs("aside",{className:"hidden md:flex flex-col w-72 bg-white dark:bg-neutral-900/50 border-r border-neutral-200 dark:border-neutral-800 sticky top-0 h-screen p-8 z-50",children:[S.jsx("div",{className:"flex items-center justify-between mb-12",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center text-neutral-950 shadow-glow",children:S.jsx(_E,{size:20,strokeWidth:3})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-lg font-display font-bold text-neutral-900 dark:text-white tracking-tight leading-none",children:"Nossa Carteira"}),S.jsx("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest truncate mt-1",children:j})]})]})}),S.jsxs("nav",{className:"flex-1 space-y-2",children:[S.jsx(sc,{icon:S.jsx(uN,{}),label:"Pgina Inicial",active:l==="home",onClick:()=>c("home")}),S.jsx(sc,{icon:S.jsx(cN,{}),label:"Extrato",active:l==="dashboard",onClick:()=>c("dashboard")}),S.jsx(sc,{icon:S.jsx(Mg,{}),label:"Anlises",active:l==="analytics",onClick:()=>c("analytics")}),S.jsx(sc,{icon:S.jsx(kw,{}),label:"Metas & Objetivos",active:l==="goals",onClick:()=>c("goals")}),S.jsx(sc,{icon:S.jsx(pj,{}),label:"Lista de Compras",active:l==="shopping",onClick:()=>c("shopping")}),S.jsx(sc,{icon:S.jsx(fN,{}),label:"Perfil & Renda",active:l==="budget",onClick:()=>c("budget")})]}),S.jsx("div",{className:"mt-auto pt-8 border-t border-neutral-200 dark:border-neutral-800",children:S.jsxs("button",{onClick:()=>dM(ls),className:"w-full flex items-center justify-between p-2 hover:bg-red-500/10 rounded-2xl transition-all text-neutral-500 hover:text-red-500",children:[S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest ml-2",children:"Sair da Conta"}),S.jsx(cj,{size:16})]})})]}),S.jsxs("main",{className:"flex-1 max-w-5xl mx-auto w-full px-4 py-6 md:px-12 md:py-16 pb-36 md:pb-16 pt-[calc(1.5rem+env(safe-area-inset-top))]",children:[l==="home"&&S.jsx(eF,{transactions:p,goals:y,users:T,familyName:j,onNavigate:W=>c(W),onOpenAddModal:()=>P(!0)}),l==="dashboard"&&S.jsx(tF,{transactions:p,totalIncome:T.A.income+T.B.income,currentDate:V,users:T,alertThreshold:U,onMonthChange:W=>{const ae=new Date(V);ae.setMonth(ae.getMonth()+(W==="next"?1:-1)),N(ae)},onDelete:me,onTogglePaid:re,onEdit:W=>{M(W),P(!0)},onClearAll:()=>{},onOpenShopping:()=>c("shopping"),onOpenAddModal:()=>{M(null),P(!0)}}),l==="analytics"&&S.jsx(Die,{transactions:p,baseIncome:T.A.income+T.B.income,currentDate:V,onMonthChange:W=>{const ae=new Date(V);ae.setMonth(ae.getMonth()+(W==="next"?1:-1)),N(ae)}}),l==="goals"&&S.jsx(nF,{goals:y,onUpdateGoal:Se,onSaveGoal:pe,onDeleteGoal:K}),l==="shopping"&&S.jsx(aF,{items:w,onAdd:()=>{},onToggle:()=>{},onDelete:()=>{}}),l==="budget"&&S.jsx(iF,{users:T,familyName:j,alertThreshold:U,onUpdateUser:(W,ae)=>{const fe=W===T.A.id?"A":"B",ye={...T,[fe]:{...T[fe],...ae}};O(ye),Re("users",ye)},onUpdateFamilySettings:(W,ae)=>{z(W),q(ae),Re("familyName",W),Re("alertThreshold",ae)},currentTheme:f,onThemeToggle:h,onLogout:()=>dM(ls),onForceSync:H,isSyncing:i})]}),S.jsxs("nav",{className:"md:hidden fixed bottom-[max(0.75rem,env(safe-area-inset-bottom))] left-4 right-4 h-16 bg-white/80 dark:bg-neutral-900/90 backdrop-blur-2xl border border-neutral-200 dark:border-neutral-800 rounded-[2.5rem] flex justify-around items-center z-[100] shadow-[0_25px_60px_-15px_rgba(0,0,0,0.4)] px-2 transition-all",children:[S.jsx(pg,{icon:S.jsx(uN,{}),active:l==="home",onClick:()=>c("home")}),S.jsx(pg,{icon:S.jsx(cN,{}),active:l==="dashboard",onClick:()=>c("dashboard")}),S.jsx("button",{onClick:()=>{M(null),P(!0)},className:"w-14 h-14 bg-primary rounded-[1.8rem] flex items-center justify-center text-neutral-950 shadow-glow -translate-y-5 active:scale-90 transition-all border-[6px] border-neutral-50 dark:border-neutral-950",children:S.jsx(oy,{size:28,strokeWidth:3})}),S.jsx(pg,{icon:S.jsx(Mg,{}),active:l==="analytics",onClick:()=>c("analytics")}),S.jsx(pg,{icon:S.jsx(fN,{}),active:l==="budget",onClick:()=>c("budget")})]}),S.jsx(jie,{isOpen:k,users:T,initialDate:V,onClose:()=>{P(!1),M(null)},onAdd:de,editingTransaction:B}),S.jsx(wE,{isOpen:F.isOpen,title:F.title,message:F.message,variant:F.variant,onConfirm:F.onConfirm,onCancel:()=>L(W=>({...W,isOpen:!1}))})]}):S.jsx(wme,{onLoginSuccess:()=>{}})},sc=({icon:t,label:e,active:n,onClick:r})=>S.jsxs("button",{onClick:r,className:`w-full flex items-center space-x-4 px-4 py-3.5 rounded-2xl transition-all duration-200 group ${n?"bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm ring-1 ring-neutral-200 dark:ring-neutral-700":"text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900 dark:hover:text-white"}`,children:[S.jsx("div",{className:n?"text-primary":"text-neutral-400 group-hover:text-neutral-600 dark:group-hover:text-neutral-400",children:Cd.cloneElement(t,{size:18,strokeWidth:n?2.5:2})}),S.jsx("span",{className:"text-[11px] font-bold uppercase tracking-widest",children:e})]}),pg=({icon:t,active:e,onClick:n})=>S.jsx("button",{onClick:n,className:`p-4 rounded-2xl transition-all ${e?"text-primary":"text-neutral-400 opacity-60"}`,children:Cd.cloneElement(t,{size:22,strokeWidth:e?3.5:2})}),eU=document.getElementById("root");if(!eU)throw new Error("Could not find root element to mount to");const Eme=$8.createRoot(eU);Eme.render(S.jsx(Cd.StrictMode,{children:S.jsx(xme,{})}));
